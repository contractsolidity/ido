const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-DMYipMkW.js","./sha2-BwkbKSTr.js","./embedded-wallet-DJlsbkfh.js","./index-CBsuOzew.js","./index-BZV8Ty1m.js","./if-defined-DaSwllZp.js","./ref-CpqPsy3m.js","./index-6ZIMObGg.js","./HelpersUtil-DQs7ODY9.js","./index-CRDpJKjs.js","./index-BE4krVs7.js","./index-CGoFuiPG.js","./index-BjvPyzOg.js","./index-CiS1wM70.js","./NavigationUtil-DmfK5sOV.js","./email-C5RSEcrD.js","./index-BCs6IJF_.js","./index-_jmh0LP9.js","./socials-gDw4XtER.js","./index-D__TKe4d.js","./index-tqHT4Fjj.js","./index-DC1puI8J.js","./index-4pgVgWhA.js","./index-8FmZeWuy.js","./swaps-BrUDhXo5.js","./index-BOmw9qMV.js","./index-Qml8yjA_.js","./SwapController-CdTJpiPo.js","./index-DJzubX_9.js","./send-Db6ghoQJ.js","./ConstantsUtil-Dmg8YACJ.js","./index-C7yo6GJt.js","./index-CIirfVpO.js","./index-eMrlQRNJ.js","./receive-BfonJ3Z6.js","./onramp-HdhN76zR.js","./index-Olqz7WQB.js","./index-DagDRG6_.js","./index-kvUV7ZCW.js","./ExchangeController-Cl_XqZ0C.js","./pay-with-exchange-B0osrVoO.js","./transactions-Dl8Ju20V.js","./index-D7dAMGQy.js","./index-D5YN7r9D.js","./index-BidM_coM.js","./data-capture-C7HMw2re.js","./features-CKtPUoJy.js","./index-C8LaSCL9.js","./index-B7tRG_Ij.js","./w3m-modal-vwkkuOxL.js","./SafeProvider-DQBAsDkW.js","./index-H-Ckw-g_.js","./sha3-ChG6mytw.js","./index-DSAtH7Gu.js","./index-DGPq9TZ8.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var l=n.clientWidth/10;n.style.fontSize=l+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(l){l.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fS(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const dr={},y0=[],zc=()=>{},FM=()=>!1,Hw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dS=t=>t.startsWith("onUpdate:"),ii=Object.assign,hS=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},GH=Object.prototype.hasOwnProperty,Qt=(t,e)=>GH.call(t,e),tt=Array.isArray,b0=t=>qw(t)==="[object Map]",BM=t=>qw(t)==="[object Set]",it=t=>typeof t=="function",on=t=>typeof t=="string",Af=t=>typeof t=="symbol",wr=t=>t!==null&&typeof t=="object",jM=t=>(wr(t)||it(t))&&it(t.then)&&it(t.catch),HM=Object.prototype.toString,qw=t=>HM.call(t),VH=t=>qw(t).slice(8,-1),qM=t=>qw(t)==="[object Object]",pS=t=>on(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gg=fS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ww=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},KH=/-\w/g,zo=Ww(t=>t.replace(KH,e=>e.slice(1).toUpperCase())),JH=/\B([A-Z])/g,Xd=Ww(t=>t.replace(JH,"-$1").toLowerCase()),zw=Ww(t=>t.charAt(0).toUpperCase()+t.slice(1)),_E=Ww(t=>t?`on${zw(t)}`:""),Xu=(t,e)=>!Object.is(t,e),wE=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},WM=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},YH=t=>{const e=parseFloat(t);return isNaN(e)?t:e},XH=t=>{const e=on(t)?Number(t):NaN;return isNaN(e)?t:e};let X3;const Gw=()=>X3||(X3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gS(t){if(tt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=on(n)?tq(n):gS(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(on(t)||wr(t))return t}const QH=/;(?![^(]*\))/g,ZH=/:([^]+)/,eq=/\/\*[^]*?\*\//g;function tq(t){const e={};return t.replace(eq,"").split(QH).forEach(r=>{if(r){const n=r.split(ZH);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function kd(t){let e="";if(on(t))e=t;else if(tt(t))for(let r=0;r<t.length;r++){const n=kd(t[r]);n&&(e+=n+" ")}else if(wr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const rq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nq=fS(rq);function zM(t){return!!t||t===""}const GM=t=>!!(t&&t.__v_isRef===!0),xe=t=>on(t)?t:t==null?"":tt(t)||wr(t)&&(t.toString===HM||!it(t.toString))?GM(t)?xe(t.value):JSON.stringify(t,VM,2):String(t),VM=(t,e)=>GM(e)?VM(t,e.value):b0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[vE(n,s)+" =>"]=i,r),{})}:BM(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>vE(r))}:Af(e)?vE(e):wr(e)&&!tt(e)&&!qM(e)?String(e):e,vE=(t,e="")=>{var r;return Af(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ki;class KM{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ki,!e&&ki&&(this.index=(ki.scopes||(ki.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ki;try{return ki=this,e()}finally{ki=r}}}on(){++this._on===1&&(this.prevScope=ki,ki=this)}off(){this._on>0&&--this._on===0&&(ki=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function mS(t){return new KM(t)}function JM(){return ki}function iq(t,e=!1){ki&&ki.cleanups.push(t)}let gr;const EE=new WeakSet;class YM{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ki&&ki.active&&ki.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,EE.has(this)&&(EE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||QM(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Q3(this),ZM(this);const e=gr,r=ac;gr=this,ac=!0;try{return this.fn()}finally{e9(this),gr=e,ac=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_S(e);this.deps=this.depsTail=void 0,Q3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?EE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){j2(this)&&this.run()}get dirty(){return j2(this)}}let XM=0,mg,yg;function QM(t,e=!1){if(t.flags|=8,e){t.next=yg,yg=t;return}t.next=mg,mg=t}function yS(){XM++}function bS(){if(--XM>0)return;if(yg){let e=yg;for(yg=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;mg;){let e=mg;for(mg=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function ZM(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function e9(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),_S(n),sq(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function j2(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(t9(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function t9(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===em)||(t.globalVersion=em,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!j2(t))))return;t.flags|=2;const e=t.dep,r=gr,n=ac;gr=t,ac=!0;try{ZM(t);const i=t.fn(t._value);(e.version===0||Xu(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{gr=r,ac=n,e9(t),t.flags&=-3}}function _S(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)_S(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function sq(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let ac=!0;const r9=[];function Xl(){r9.push(ac),ac=!1}function Ql(){const t=r9.pop();ac=t===void 0?!0:t}function Q3(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=gr;gr=void 0;try{e()}finally{gr=r}}}let em=0;class oq{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wS{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!gr||!ac||gr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==gr)r=this.activeLink=new oq(gr,this),gr.deps?(r.prevDep=gr.depsTail,gr.depsTail.nextDep=r,gr.depsTail=r):gr.deps=gr.depsTail=r,n9(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=gr.depsTail,r.nextDep=void 0,gr.depsTail.nextDep=r,gr.depsTail=r,gr.deps===r&&(gr.deps=n)}return r}trigger(e){this.version++,em++,this.notify(e)}notify(e){yS();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{bS()}}}function n9(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)n9(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const m_=new WeakMap,Ad=Symbol(""),H2=Symbol(""),tm=Symbol("");function Ui(t,e,r){if(ac&&gr){let n=m_.get(t);n||m_.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new wS),i.map=n,i.key=r),i.track()}}function Ll(t,e,r,n,i,s){const o=m_.get(t);if(!o){em++;return}const a=c=>{c&&c.trigger()};if(yS(),e==="clear")o.forEach(a);else{const c=tt(t),l=c&&pS(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,d)=>{(d==="length"||d===tm||!Af(d)&&d>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(tm)),e){case"add":c?l&&a(o.get("length")):(a(o.get(Ad)),b0(t)&&a(o.get(H2)));break;case"delete":c||(a(o.get(Ad)),b0(t)&&a(o.get(H2)));break;case"set":b0(t)&&a(o.get(Ad));break}}bS()}function aq(t,e){const r=m_.get(t);return r&&r.get(e)}function ph(t){const e=Mt(t);return e===t?e:(Ui(e,"iterate",tm),Bo(t)?e:e.map(yi))}function Vw(t){return Ui(t=Mt(t),"iterate",tm),t}const cq={__proto__:null,[Symbol.iterator](){return AE(this,Symbol.iterator,yi)},concat(...t){return ph(this).concat(...t.map(e=>tt(e)?ph(e):e))},entries(){return AE(this,"entries",t=>(t[1]=yi(t[1]),t))},every(t,e){return al(this,"every",t,e,void 0,arguments)},filter(t,e){return al(this,"filter",t,e,r=>r.map(yi),arguments)},find(t,e){return al(this,"find",t,e,yi,arguments)},findIndex(t,e){return al(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return al(this,"findLast",t,e,yi,arguments)},findLastIndex(t,e){return al(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return al(this,"forEach",t,e,void 0,arguments)},includes(...t){return xE(this,"includes",t)},indexOf(...t){return xE(this,"indexOf",t)},join(t){return ph(this).join(t)},lastIndexOf(...t){return xE(this,"lastIndexOf",t)},map(t,e){return al(this,"map",t,e,void 0,arguments)},pop(){return Ep(this,"pop")},push(...t){return Ep(this,"push",t)},reduce(t,...e){return Z3(this,"reduce",t,e)},reduceRight(t,...e){return Z3(this,"reduceRight",t,e)},shift(){return Ep(this,"shift")},some(t,e){return al(this,"some",t,e,void 0,arguments)},splice(...t){return Ep(this,"splice",t)},toReversed(){return ph(this).toReversed()},toSorted(t){return ph(this).toSorted(t)},toSpliced(...t){return ph(this).toSpliced(...t)},unshift(...t){return Ep(this,"unshift",t)},values(){return AE(this,"values",yi)}};function AE(t,e,r){const n=Vw(t),i=n[e]();return n!==t&&!Bo(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const lq=Array.prototype;function al(t,e,r,n,i,s){const o=Vw(t),a=o!==t&&!Bo(t),c=o[e];if(c!==lq[e]){const f=c.apply(t,s);return a?yi(f):f}let l=r;o!==t&&(a?l=function(f,d){return r.call(this,yi(f),d,t)}:r.length>2&&(l=function(f,d){return r.call(this,f,d,t)}));const u=c.call(o,l,n);return a&&i?i(u):u}function Z3(t,e,r,n){const i=Vw(t);let s=r;return i!==t&&(Bo(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,yi(a),c,t)}),i[e](s,...n)}function xE(t,e,r){const n=Mt(t);Ui(n,"iterate",tm);const i=n[e](...r);return(i===-1||i===!1)&&AS(r[0])?(r[0]=Mt(r[0]),n[e](...r)):i}function Ep(t,e,r=[]){Xl(),yS();const n=Mt(t)[e].apply(t,r);return bS(),Ql(),n}const uq=fS("__proto__,__v_isRef,__isVue"),i9=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Af));function fq(t){Af(t)||(t=String(t));const e=Mt(this);return Ui(e,"has",t),e.hasOwnProperty(t)}class s9{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?vq:l9:s?c9:a9).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=tt(e);if(!i){let c;if(o&&(c=cq[r]))return c;if(r==="hasOwnProperty")return fq}const a=Reflect.get(e,r,Qr(e)?e:n);if((Af(r)?i9.has(r):uq(r))||(i||Ui(e,"get",r),s))return a;if(Qr(a)){const c=o&&pS(r)?a:a.value;return i&&wr(c)?W2(c):c}return wr(a)?i?W2(a):nl(a):a}}class o9 extends s9{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=of(s);if(!Bo(n)&&!of(n)&&(s=Mt(s),n=Mt(n)),!tt(e)&&Qr(s)&&!Qr(n))return c||(s.value=n),!0}const o=tt(e)&&pS(r)?Number(r)<e.length:Qt(e,r),a=Reflect.set(e,r,n,Qr(e)?e:i);return e===Mt(i)&&(o?Xu(n,s)&&Ll(e,"set",r,n):Ll(e,"add",r,n)),a}deleteProperty(e,r){const n=Qt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Ll(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Af(r)||!i9.has(r))&&Ui(e,"has",r),n}ownKeys(e){return Ui(e,"iterate",tt(e)?"length":Ad),Reflect.ownKeys(e)}}class dq extends s9{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const hq=new o9,pq=new dq,gq=new o9(!0);const q2=t=>t,ob=t=>Reflect.getPrototypeOf(t);function mq(t,e,r){return function(...n){const i=this.__v_raw,s=Mt(i),o=b0(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?q2:e?y_:yi;return!e&&Ui(s,"iterate",c?H2:Ad),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function ab(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function yq(t,e){const r={get(i){const s=this.__v_raw,o=Mt(s),a=Mt(i);t||(Xu(i,a)&&Ui(o,"get",i),Ui(o,"get",a));const{has:c}=ob(o),l=e?q2:t?y_:yi;if(c.call(o,i))return l(s.get(i));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Ui(Mt(i),"iterate",Ad),i.size},has(i){const s=this.__v_raw,o=Mt(s),a=Mt(i);return t||(Xu(i,a)&&Ui(o,"has",i),Ui(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=Mt(a),l=e?q2:t?y_:yi;return!t&&Ui(c,"iterate",Ad),a.forEach((u,f)=>i.call(s,l(u),l(f),o))}};return ii(r,t?{add:ab("add"),set:ab("set"),delete:ab("delete"),clear:ab("clear")}:{add(i){!e&&!Bo(i)&&!of(i)&&(i=Mt(i));const s=Mt(this);return ob(s).has.call(s,i)||(s.add(i),Ll(s,"add",i,i)),this},set(i,s){!e&&!Bo(s)&&!of(s)&&(s=Mt(s));const o=Mt(this),{has:a,get:c}=ob(o);let l=a.call(o,i);l||(i=Mt(i),l=a.call(o,i));const u=c.call(o,i);return o.set(i,s),l?Xu(s,u)&&Ll(o,"set",i,s):Ll(o,"add",i,s),this},delete(i){const s=Mt(this),{has:o,get:a}=ob(s);let c=o.call(s,i);c||(i=Mt(i),c=o.call(s,i)),a&&a.call(s,i);const l=s.delete(i);return c&&Ll(s,"delete",i,void 0),l},clear(){const i=Mt(this),s=i.size!==0,o=i.clear();return s&&Ll(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=mq(i,t,e)}),r}function vS(t,e){const r=yq(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Qt(r,i)&&i in n?r:n,i,s)}const bq={get:vS(!1,!1)},_q={get:vS(!1,!0)},wq={get:vS(!0,!1)};const a9=new WeakMap,c9=new WeakMap,l9=new WeakMap,vq=new WeakMap;function Eq(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Aq(t){return t.__v_skip||!Object.isExtensible(t)?0:Eq(VH(t))}function nl(t){return of(t)?t:ES(t,!1,hq,bq,a9)}function u9(t){return ES(t,!1,gq,_q,c9)}function W2(t){return ES(t,!0,pq,wq,l9)}function ES(t,e,r,n,i){if(!wr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Aq(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Qu(t){return of(t)?Qu(t.__v_raw):!!(t&&t.__v_isReactive)}function of(t){return!!(t&&t.__v_isReadonly)}function Bo(t){return!!(t&&t.__v_isShallow)}function AS(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function xS(t){return!Qt(t,"__v_skip")&&Object.isExtensible(t)&&WM(t,"__v_skip",!0),t}const yi=t=>wr(t)?nl(t):t,y_=t=>wr(t)?W2(t):t;function Qr(t){return t?t.__v_isRef===!0:!1}function ze(t){return f9(t,!1)}function CS(t){return f9(t,!0)}function f9(t,e){return Qr(t)?t:new xq(t,e)}class xq{constructor(e,r){this.dep=new wS,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Mt(e),this._value=r?e:yi(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Bo(e)||of(e);e=n?e:Mt(e),Xu(e,r)&&(this._rawValue=e,this._value=n?e:yi(e),this.dep.trigger())}}function Fi(t){return Qr(t)?t.value:t}const Cq={get:(t,e,r)=>e==="__v_raw"?t:Fi(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Qr(i)&&!Qr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function d9(t){return Qu(t)?t:new Proxy(t,Cq)}function Nq(t){const e=tt(t)?new Array(t.length):{};for(const r in t)e[r]=Iq(t,r);return e}class Sq{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aq(Mt(this._object),this._key)}}function Iq(t,e,r){const n=t[e];return Qr(n)?n:new Sq(t,e,r)}class Tq{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new wS(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=em-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&gr!==this)return QM(this,!0),!0}get value(){const e=this.dep.track();return t9(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Rq(t,e,r=!1){let n,i;return it(t)?n=t:(n=t.get,i=t.set),new Tq(n,i,r)}const cb={},b_=new WeakMap;let rd;function Pq(t,e=!1,r=rd){if(r){let n=b_.get(r);n||b_.set(r,n=[]),n.push(t)}}function Oq(t,e,r=dr){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,l=R=>i?R:Bo(R)||i===!1||i===0?Fl(R,1):Fl(R);let u,f,d,h,m=!1,g=!1;if(Qr(t)?(f=()=>t.value,m=Bo(t)):Qu(t)?(f=()=>l(t),m=!0):tt(t)?(g=!0,m=t.some(R=>Qu(R)||Bo(R)),f=()=>t.map(R=>{if(Qr(R))return R.value;if(Qu(R))return l(R);if(it(R))return c?c(R,2):R()})):it(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){Xl();try{d()}finally{Ql()}}const R=rd;rd=u;try{return c?c(t,3,[h]):t(h)}finally{rd=R}}:f=zc,e&&i){const R=f,D=i===!0?1/0:i;f=()=>Fl(R(),D)}const y=JM(),w=()=>{u.stop(),y&&y.active&&hS(y.effects,u)};if(s&&e){const R=e;e=(...D)=>{R(...D),w()}}let x=g?new Array(t.length).fill(cb):cb;const S=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(e){const D=u.run();if(i||m||(g?D.some((P,F)=>Xu(P,x[F])):Xu(D,x))){d&&d();const P=rd;rd=u;try{const F=[D,x===cb?void 0:g&&x[0]===cb?[]:x,h];x=D,c?c(e,3,F):e(...F)}finally{rd=P}}}else u.run()};return a&&a(S),u=new YM(f),u.scheduler=o?()=>o(S,!1):S,h=R=>Pq(R,!1,u),d=u.onStop=()=>{const R=b_.get(u);if(R){if(c)c(R,4);else for(const D of R)D();b_.delete(u)}},e?n?S(!0):x=u.run():o?o(S.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Fl(t,e=1/0,r){if(e<=0||!wr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Qr(t))Fl(t.value,e,r);else if(tt(t))for(let n=0;n<t.length;n++)Fl(t[n],e,r);else if(BM(t)||b0(t))t.forEach(n=>{Fl(n,e,r)});else if(qM(t)){for(const n in t)Fl(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Fl(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ny(t,e,r,n){try{return n?t(...n):t()}catch(i){Kw(i,e,r)}}function fc(t,e,r,n){if(it(t)){const i=Ny(t,e,r,n);return i&&jM(i)&&i.catch(s=>{Kw(s,e,r)}),i}if(tt(t)){const i=[];for(let s=0;s<t.length;s++)i.push(fc(t[s],e,r,n));return i}}function Kw(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||dr;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(s){Xl(),Ny(s,null,10,[t,c,l]),Ql();return}}Dq(t,r,i,n,o)}function Dq(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const ns=[];let Tc=-1;const _0=[];let Uu=null,Gh=0;const h9=Promise.resolve();let __=null;function Lo(t){const e=__||h9;return t?e.then(this?t.bind(this):t):e}function kq(t){let e=Tc+1,r=ns.length;for(;e<r;){const n=e+r>>>1,i=ns[n],s=rm(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function NS(t){if(!(t.flags&1)){const e=rm(t),r=ns[ns.length-1];!r||!(t.flags&2)&&e>=rm(r)?ns.push(t):ns.splice(kq(e),0,t),t.flags|=1,p9()}}function p9(){__||(__=h9.then(m9))}function Mq(t){tt(t)?_0.push(...t):Uu&&t.id===-1?Uu.splice(Gh+1,0,t):t.flags&1||(_0.push(t),t.flags|=1),p9()}function eT(t,e,r=Tc+1){for(;r<ns.length;r++){const n=ns[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ns.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function g9(t){if(_0.length){const e=[...new Set(_0)].sort((r,n)=>rm(r)-rm(n));if(_0.length=0,Uu){Uu.push(...e);return}for(Uu=e,Gh=0;Gh<Uu.length;Gh++){const r=Uu[Gh];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Uu=null,Gh=0}}const rm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function m9(t){try{for(Tc=0;Tc<ns.length;Tc++){const e=ns[Tc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ny(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Tc<ns.length;Tc++){const e=ns[Tc];e&&(e.flags&=-2)}Tc=-1,ns.length=0,g9(),__=null,(ns.length||_0.length)&&m9()}}let ro=null,y9=null;function w_(t){const e=ro;return ro=t,y9=t&&t.type.__scopeId||null,e}function ks(t,e=ro,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&A_(-1);const s=w_(e);let o;try{o=t(...i)}finally{w_(s),n._d&&A_(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function bg(t,e){if(ro===null)return t;const r=Zw(ro),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=dr]=e[i];s&&(it(s)&&(s={mounted:s,updated:s}),s.deep&&Fl(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Hf(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(Xl(),fc(c,r,8,[t.el,a,t,e]),Ql())}}const b9=Symbol("_vte"),_9=t=>t.__isTeleport,_g=t=>t&&(t.disabled||t.disabled===""),tT=t=>t&&(t.defer||t.defer===""),rT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,nT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,z2=(t,e)=>{const r=t&&t.to;return on(r)?e?e(r):null:r},w9={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,l){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:g,createComment:y}}=l,w=_g(e.props);let{shapeFlag:x,children:S,dynamicChildren:R}=e;if(t==null){const D=e.el=g(""),P=e.anchor=g("");h(D,r,n),h(P,r,n);const F=(v,M)=>{x&16&&u(S,v,M,i,s,o,a,c)},E=()=>{const v=e.target=z2(e.props,m),M=E9(v,e,g,h);v&&(o!=="svg"&&rT(v)?o="svg":o!=="mathml"&&nT(v)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(v),w||(F(v,M),o1(e,!1)))};w&&(F(r,P),o1(e,!0)),tT(e.props)?(e.el.__isMounted=!1,es(()=>{E(),delete e.el.__isMounted},s)):E()}else{if(tT(e.props)&&t.el.__isMounted===!1){es(()=>{w9.process(t,e,r,n,i,s,o,a,c,l)},s);return}e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,P=e.target=t.target,F=e.targetAnchor=t.targetAnchor,E=_g(t.props),v=E?r:P,M=E?D:F;if(o==="svg"||rT(P)?o="svg":(o==="mathml"||nT(P))&&(o="mathml"),R?(d(t.dynamicChildren,R,v,i,s,o,a),PS(t,e,!0)):c||f(t,e,v,M,i,s,o,a,!1),w)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):lb(e,r,D,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=z2(e.props,m);U&&lb(e,U,null,l,0)}else E&&lb(e,P,F,l,1);o1(e,w)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:d}=t;if(f&&(i(l),i(u)),s&&i(c),o&16){const h=s||!_g(d);for(let m=0;m<a.length;m++){const g=a[m];n(g,e,r,h,!!g.dynamicChildren)}}},move:lb,hydrate:Uq};function lb(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=s===2;if(f&&n(o,e,r),(!f||_g(u))&&c&16)for(let d=0;d<l.length;d++)i(l[d],e,r,2);f&&n(a,e,r)}function Uq(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){function d(g,y,w,x){y.anchor=f(o(g),y,a(g),r,n,i,s),y.targetStart=w,y.targetAnchor=x}const h=e.target=z2(e.props,c),m=_g(e.props);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)d(t,e,g,g&&o(g));else{e.anchor=o(t);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||E9(h,e,u,l),f(g&&o(g),e,h,r,n,i,s)}o1(e,m)}else m&&e.shapeFlag&16&&d(t,e,t,o(t));return e.anchor&&o(e.anchor)}const v9=w9;function o1(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function E9(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[b9]=s,t&&(n(i,t),n(s,t)),s}const Ul=Symbol("_leaveCb"),ub=Symbol("_enterCb");function $q(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ou(()=>{t.isMounted=!0}),IS(()=>{t.isUnmounting=!0}),t}const po=[Function,Array],A9={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:po,onEnter:po,onAfterEnter:po,onEnterCancelled:po,onBeforeLeave:po,onLeave:po,onAfterLeave:po,onLeaveCancelled:po,onBeforeAppear:po,onAppear:po,onAfterAppear:po,onAppearCancelled:po},x9=t=>{const e=t.subTree;return e.component?x9(e.component):e},Lq={name:"BaseTransition",props:A9,setup(t,{slots:e}){const r=Fs(),n=$q();return()=>{const i=e.default&&S9(e.default(),!0);if(!i||!i.length)return;const s=C9(i),o=Mt(t),{mode:a}=o;if(n.isLeaving)return CE(s);const c=iT(s);if(!c)return CE(s);let l=G2(c,o,n,r,f=>l=f);c.type!==os&&nm(c,l);let u=r.subTree&&iT(r.subTree);if(u&&u.type!==os&&!od(u,c)&&x9(r).type!==os){let f=G2(u,o,n,r);if(nm(u,f),a==="out-in"&&c.type!==os)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},CE(s);a==="in-out"&&c.type!==os?f.delayLeave=(d,h,m)=>{const g=N9(n,u);g[String(u.key)]=u,d[Ul]=()=>{h(),d[Ul]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function C9(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==os){e=r;break}}return e}const Fq=Lq;function N9(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function G2(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:w,onAfterAppear:x,onAppearCancelled:S}=e,R=String(t.key),D=N9(r,t),P=(v,M)=>{v&&fc(v,n,9,M)},F=(v,M)=>{const U=M[1];P(v,M),tt(v)?v.every(I=>I.length<=1)&&U():v.length<=1&&U()},E={mode:o,persisted:a,beforeEnter(v){let M=c;if(!r.isMounted)if(s)M=y||c;else return;v[Ul]&&v[Ul](!0);const U=D[R];U&&od(t,U)&&U.el[Ul]&&U.el[Ul](),P(M,[v])},enter(v){let M=l,U=u,I=f;if(!r.isMounted)if(s)M=w||l,U=x||u,I=S||f;else return;let C=!1;const p=v[ub]=b=>{C||(C=!0,b?P(I,[v]):P(U,[v]),E.delayedLeave&&E.delayedLeave(),v[ub]=void 0)};M?F(M,[v,p]):p()},leave(v,M){const U=String(t.key);if(v[ub]&&v[ub](!0),r.isUnmounting)return M();P(d,[v]);let I=!1;const C=v[Ul]=p=>{I||(I=!0,M(),p?P(g,[v]):P(m,[v]),v[Ul]=void 0,D[U]===t&&delete D[U])};D[U]=t,h?F(h,[v,C]):C()},clone(v){const M=G2(v,e,r,n,i);return i&&i(M),M}};return E}function CE(t){if(Jw(t))return t=af(t),t.children=null,t}function iT(t){if(!Jw(t))return _9(t.type)&&t.children?C9(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&it(r.default))return r.default()}}function nm(t,e){t.shapeFlag&6&&t.component?(t.transition=e,nm(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function S9(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===vn?(o.patchFlag&128&&i++,n=n.concat(S9(o.children,e,a))):(e||o.type!==os)&&n.push(a!=null?af(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Zr(t,e){return it(t)?ii({name:t.name},e,{setup:t}):t}function I9(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const v_=new WeakMap;function wg(t,e,r,n,i=!1){if(tt(t)){t.forEach((m,g)=>wg(m,e&&(tt(e)?e[g]:e),r,n,i));return}if(vg(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&wg(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?Zw(n.component):n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===dr?a.refs={}:a.refs,f=a.setupState,d=Mt(f),h=f===dr?FM:m=>Qt(d,m);if(l!=null&&l!==c){if(sT(e),on(l))u[l]=null,h(l)&&(f[l]=null);else if(Qr(l)){l.value=null;const m=e;m.k&&(u[m.k]=null)}}if(it(c))Ny(c,a,12,[o,u]);else{const m=on(c),g=Qr(c);if(m||g){const y=()=>{if(t.f){const w=m?h(c)?f[c]:u[c]:c.value;if(i)tt(w)&&hS(w,s);else if(tt(w))w.includes(s)||w.push(s);else if(m)u[c]=[s],h(c)&&(f[c]=u[c]);else{const x=[s];c.value=x,t.k&&(u[t.k]=x)}}else m?(u[c]=o,h(c)&&(f[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const w=()=>{y(),v_.delete(t)};w.id=-1,v_.set(t,w),es(w,r)}else sT(t),y()}}}function sT(t){const e=v_.get(t);e&&(e.flags|=8,v_.delete(t))}Gw().requestIdleCallback;Gw().cancelIdleCallback;const vg=t=>!!t.type.__asyncLoader,Jw=t=>t.type.__isKeepAlive;function SS(t,e){T9(t,"a",e)}function Yw(t,e){T9(t,"da",e)}function T9(t,e,r=Bi){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Xw(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Jw(i.parent.vnode)&&Bq(n,e,r,i),i=i.parent}}function Bq(t,e,r,n){const i=Xw(e,t,n,!0);xf(()=>{hS(n[e],i)},r)}function Xw(t,e,r=Bi,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Xl();const a=Iy(r),c=fc(e,r,t,o);return a(),Ql(),c});return n?i.unshift(s):i.push(s),s}}const su=t=>(e,r=Bi)=>{(!sm||t==="sp")&&Xw(t,(...n)=>e(...n),r)},R9=su("bm"),ou=su("m"),jq=su("bu"),Hq=su("u"),IS=su("bum"),xf=su("um"),qq=su("sp"),Wq=su("rtg"),zq=su("rtc");function Gq(t,e=Bi){Xw("ec",t,e)}const Vq="components";function Kq(t,e){return Yq(Vq,t,!0,e)||t}const Jq=Symbol.for("v-ndc");function Yq(t,e,r=!0,n=!1){const i=ro||Bi;if(i){const s=i.type;{const a=FW(s,!1);if(a&&(a===e||a===zo(e)||a===zw(zo(e))))return s}const o=oT(i[t]||s[t],e)||oT(i.appContext[t],e);return!o&&n?s:o}}function oT(t,e){return t&&(t[e]||t[zo(e)]||t[zw(zo(e))])}function Eg(t,e,r,n){let i;const s=r,o=tt(t);if(o||on(t)){const a=o&&Qu(t);let c=!1,l=!1;a&&(c=!Bo(t),l=of(t),t=Vw(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(c?l?y_(yi(t[u])):yi(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(wr(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[c]=e(t[u],u,c,s)}}else i=[];return i}const V2=t=>t?J9(t)?Zw(t):V2(t.parent):null,Ag=ii(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>V2(t.parent),$root:t=>V2(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>O9(t),$forceUpdate:t=>t.f||(t.f=()=>{NS(t.update)}),$nextTick:t=>t.n||(t.n=Lo.bind(t.proxy)),$watch:t=>bW.bind(t)}),NE=(t,e)=>t!==dr&&!t.__isScriptSetup&&Qt(t,e),Xq={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(NE(n,e))return o[e]=1,n[e];if(i!==dr&&Qt(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&Qt(l,e))return o[e]=3,s[e];if(r!==dr&&Qt(r,e))return o[e]=4,r[e];K2&&(o[e]=0)}}const u=Ag[e];let f,d;if(u)return e==="$attrs"&&Ui(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==dr&&Qt(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,Qt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return NE(i,e)?(i[e]=r,!0):n!==dr&&Qt(n,e)?(n[e]=r,!0):Qt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:o}},a){let c,l;return!!(r[a]||t!==dr&&a[0]!=="$"&&Qt(t,a)||NE(e,a)||(c=s[0])&&Qt(c,a)||Qt(n,a)||Qt(Ag,a)||Qt(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Qt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function aT(t){return tt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let K2=!0;function Qq(t){const e=O9(t),r=t.proxy,n=t.ctx;K2=!1,e.beforeCreate&&cT(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:g,deactivated:y,beforeDestroy:w,beforeUnmount:x,destroyed:S,unmounted:R,render:D,renderTracked:P,renderTriggered:F,errorCaptured:E,serverPrefetch:v,expose:M,inheritAttrs:U,components:I,directives:C,filters:p}=e;if(l&&Zq(l,n,null),o)for(const N in o){const O=o[N];it(O)&&(n[N]=O.bind(r))}if(i){const N=i.call(r,r);wr(N)&&(t.data=nl(N))}if(K2=!0,s)for(const N in s){const O=s[N],$=it(O)?O.bind(r,r):it(O.get)?O.get.bind(r,r):zc,j=!it(O)&&it(O.set)?O.set.bind(r):zc,k=lt({get:$,set:j});Object.defineProperty(n,N,{enumerable:!0,configurable:!0,get:()=>k.value,set:A=>k.value=A})}if(a)for(const N in a)P9(a[N],n,r,N);if(c){const N=it(c)?c.call(r):c;Reflect.ownKeys(N).forEach(O=>{w0(O,N[O])})}u&&cT(u,t,"c");function _(N,O){tt(O)?O.forEach($=>N($.bind(r))):O&&N(O.bind(r))}if(_(R9,f),_(ou,d),_(jq,h),_(Hq,m),_(SS,g),_(Yw,y),_(Gq,E),_(zq,P),_(Wq,F),_(IS,x),_(xf,R),_(qq,v),tt(M))if(M.length){const N=t.exposed||(t.exposed={});M.forEach(O=>{Object.defineProperty(N,O,{get:()=>r[O],set:$=>r[O]=$,enumerable:!0})})}else t.exposed||(t.exposed={});D&&t.render===zc&&(t.render=D),U!=null&&(t.inheritAttrs=U),I&&(t.components=I),C&&(t.directives=C),v&&I9(t)}function Zq(t,e,r=zc){tt(t)&&(t=J2(t));for(const n in t){const i=t[n];let s;wr(i)?"default"in i?s=bi(i.from||n,i.default,!0):s=bi(i.from||n):s=bi(i),Qr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function cT(t,e,r){fc(tt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function P9(t,e,r,n){let i=n.includes(".")?W9(r,n):()=>r[n];if(on(t)){const s=e[t];it(s)&&_r(i,s)}else if(it(t))_r(i,t.bind(r));else if(wr(t))if(tt(t))t.forEach(s=>P9(s,e,r,n));else{const s=it(t.handler)?t.handler.bind(r):e[t.handler];it(s)&&_r(i,s,t)}}function O9(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>E_(c,l,o,!0)),E_(c,e,o)),wr(e)&&s.set(e,c),c}function E_(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&E_(t,s,r,!0),i&&i.forEach(o=>E_(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=eW[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const eW={data:lT,props:uT,emits:uT,methods:ng,computed:ng,beforeCreate:Qi,created:Qi,beforeMount:Qi,mounted:Qi,beforeUpdate:Qi,updated:Qi,beforeDestroy:Qi,beforeUnmount:Qi,destroyed:Qi,unmounted:Qi,activated:Qi,deactivated:Qi,errorCaptured:Qi,serverPrefetch:Qi,components:ng,directives:ng,watch:rW,provide:lT,inject:tW};function lT(t,e){return e?t?function(){return ii(it(t)?t.call(this,this):t,it(e)?e.call(this,this):e)}:e:t}function tW(t,e){return ng(J2(t),J2(e))}function J2(t){if(tt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Qi(t,e){return t?[...new Set([].concat(t,e))]:e}function ng(t,e){return t?ii(Object.create(null),t,e):e}function uT(t,e){return t?tt(t)&&tt(e)?[...new Set([...t,...e])]:ii(Object.create(null),aT(t),aT(e??{})):e}function rW(t,e){if(!t)return e;if(!e)return t;const r=ii(Object.create(null),t);for(const n in e)r[n]=Qi(t[n],e[n]);return r}function D9(){return{app:null,config:{isNativeTag:FM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nW=0;function iW(t,e){return function(n,i=null){it(n)||(n=ii({},n)),i!=null&&!wr(i)&&(i=null);const s=D9(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:nW++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:jW,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&it(u.install)?(o.add(u),u.install(l,...f)):it(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||pe(n,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),c=!0,l._container=u,u.__vue_app__=l,Zw(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(fc(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=xd;xd=l;try{return u()}finally{xd=f}}};return l}}let xd=null;function w0(t,e){if(Bi){let r=Bi.provides;const n=Bi.parent&&Bi.parent.provides;n===r&&(r=Bi.provides=Object.create(n)),r[t]=e}}function bi(t,e,r=!1){const n=Fs();if(n||xd){let i=xd?xd._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&it(e)?e.call(n&&n.proxy):e}}function sW(){return!!(Fs()||xd)}const k9={},M9=()=>Object.create(k9),U9=t=>Object.getPrototypeOf(t)===k9;function oW(t,e,r,n=!1){const i={},s=M9();t.propsDefaults=Object.create(null),$9(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:u9(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function aW(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Mt(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Qw(t.emitsOptions,d))continue;const h=e[d];if(c)if(Qt(s,d))h!==s[d]&&(s[d]=h,l=!0);else{const m=zo(d);i[m]=Y2(c,a,m,h,t,!1)}else h!==s[d]&&(s[d]=h,l=!0)}}}else{$9(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!Qt(e,f)&&((u=Xd(f))===f||!Qt(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=Y2(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Qt(e,f))&&(delete s[f],l=!0)}l&&Ll(t.attrs,"set","")}function $9(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(gg(c))continue;const l=e[c];let u;i&&Qt(i,u=zo(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:Qw(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Mt(r),l=a||dr;for(let u=0;u<s.length;u++){const f=s[u];r[f]=Y2(i,c,f,l[f],t,!Qt(l,f))}}return o}function Y2(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Qt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&it(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=Iy(i);n=l[r]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Xd(r))&&(n=!0))}return n}const cW=new WeakMap;function L9(t,e,r=!1){const n=r?cW:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!it(t)){const u=f=>{c=!0;const[d,h]=L9(f,e,!0);ii(o,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return wr(t)&&n.set(t,y0),y0;if(tt(s))for(let u=0;u<s.length;u++){const f=zo(s[u]);fT(f)&&(o[f]=dr)}else if(s)for(const u in s){const f=zo(u);if(fT(f)){const d=s[u],h=o[f]=tt(d)||it(d)?{type:d}:ii({},d),m=h.type;let g=!1,y=!0;if(tt(m))for(let w=0;w<m.length;++w){const x=m[w],S=it(x)&&x.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(y=!1)}else g=it(m)&&m.name==="Boolean";h[0]=g,h[1]=y,(g||Qt(h,"default"))&&a.push(f)}}const l=[o,a];return wr(t)&&n.set(t,l),l}function fT(t){return t[0]!=="$"&&!gg(t)}const TS=t=>t==="_"||t==="_ctx"||t==="$stable",RS=t=>tt(t)?t.map(Mc):[Mc(t)],lW=(t,e,r)=>{if(e._n)return e;const n=ks((...i)=>RS(e(...i)),r);return n._c=!1,n},F9=(t,e,r)=>{const n=t._ctx;for(const i in t){if(TS(i))continue;const s=t[i];if(it(s))e[i]=lW(i,s,n);else if(s!=null){const o=RS(s);e[i]=()=>o}}},B9=(t,e)=>{const r=RS(e);t.slots.default=()=>r},j9=(t,e,r)=>{for(const n in e)(r||!TS(n))&&(t[n]=e[n])},uW=(t,e,r)=>{const n=t.slots=M9();if(t.vnode.shapeFlag&32){const i=e._;i?(j9(n,e,r),r&&WM(n,"_",i,!0)):F9(e,n)}else e&&B9(t,e)},fW=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=dr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:j9(i,e,r):(s=!e.$stable,F9(e,i)),o=e}else e&&(B9(t,e),o={default:1});if(s)for(const a in i)!TS(a)&&o[a]==null&&delete i[a]},es=NW;function dW(t){return hW(t)}function hW(t,e){const r=Gw();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=zc,insertStaticContent:m}=t,g=(z,Q,W,Z=null,fe=null,ae=null,ye=void 0,Ee=null,V=!!Q.dynamicChildren)=>{if(z===Q)return;z&&!od(z,Q)&&(Z=B(z),A(z,fe,ae,!0),z=null),Q.patchFlag===-2&&(V=!1,Q.dynamicChildren=null);const{type:K,ref:se,shapeFlag:ce}=Q;switch(K){case Sy:y(z,Q,W,Z);break;case os:w(z,Q,W,Z);break;case a1:z==null&&x(Q,W,Z,ye);break;case vn:I(z,Q,W,Z,fe,ae,ye,Ee,V);break;default:ce&1?D(z,Q,W,Z,fe,ae,ye,Ee,V):ce&6?C(z,Q,W,Z,fe,ae,ye,Ee,V):(ce&64||ce&128)&&K.process(z,Q,W,Z,fe,ae,ye,Ee,V,ee)}se!=null&&fe?wg(se,z&&z.ref,ae,Q||z,!Q):se==null&&z&&z.ref!=null&&wg(z.ref,null,ae,z,!0)},y=(z,Q,W,Z)=>{if(z==null)n(Q.el=a(Q.children),W,Z);else{const fe=Q.el=z.el;Q.children!==z.children&&l(fe,Q.children)}},w=(z,Q,W,Z)=>{z==null?n(Q.el=c(Q.children||""),W,Z):Q.el=z.el},x=(z,Q,W,Z)=>{[z.el,z.anchor]=m(z.children,Q,W,Z,z.el,z.anchor)},S=({el:z,anchor:Q},W,Z)=>{let fe;for(;z&&z!==Q;)fe=d(z),n(z,W,Z),z=fe;n(Q,W,Z)},R=({el:z,anchor:Q})=>{let W;for(;z&&z!==Q;)W=d(z),i(z),z=W;i(Q)},D=(z,Q,W,Z,fe,ae,ye,Ee,V)=>{Q.type==="svg"?ye="svg":Q.type==="math"&&(ye="mathml"),z==null?P(Q,W,Z,fe,ae,ye,Ee,V):v(z,Q,fe,ae,ye,Ee,V)},P=(z,Q,W,Z,fe,ae,ye,Ee)=>{let V,K;const{props:se,shapeFlag:ce,transition:me,dirs:be}=z;if(V=z.el=o(z.type,ae,se&&se.is,se),ce&8?u(V,z.children):ce&16&&E(z.children,V,null,Z,fe,SE(z,ae),ye,Ee),be&&Hf(z,null,Z,"created"),F(V,z,z.scopeId,ye,Z),se){for(const ue in se)ue!=="value"&&!gg(ue)&&s(V,ue,null,se[ue],ae,Z);"value"in se&&s(V,"value",null,se.value,ae),(K=se.onVnodeBeforeMount)&&_c(K,Z,z)}be&&Hf(z,null,Z,"beforeMount");const te=pW(fe,me);te&&me.beforeEnter(V),n(V,Q,W),((K=se&&se.onVnodeMounted)||te||be)&&es(()=>{K&&_c(K,Z,z),te&&me.enter(V),be&&Hf(z,null,Z,"mounted")},fe)},F=(z,Q,W,Z,fe)=>{if(W&&h(z,W),Z)for(let ae=0;ae<Z.length;ae++)h(z,Z[ae]);if(fe){let ae=fe.subTree;if(Q===ae||G9(ae.type)&&(ae.ssContent===Q||ae.ssFallback===Q)){const ye=fe.vnode;F(z,ye,ye.scopeId,ye.slotScopeIds,fe.parent)}}},E=(z,Q,W,Z,fe,ae,ye,Ee,V=0)=>{for(let K=V;K<z.length;K++){const se=z[K]=Ee?$u(z[K]):Mc(z[K]);g(null,se,Q,W,Z,fe,ae,ye,Ee)}},v=(z,Q,W,Z,fe,ae,ye)=>{const Ee=Q.el=z.el;let{patchFlag:V,dynamicChildren:K,dirs:se}=Q;V|=z.patchFlag&16;const ce=z.props||dr,me=Q.props||dr;let be;if(W&&qf(W,!1),(be=me.onVnodeBeforeUpdate)&&_c(be,W,Q,z),se&&Hf(Q,z,W,"beforeUpdate"),W&&qf(W,!0),(ce.innerHTML&&me.innerHTML==null||ce.textContent&&me.textContent==null)&&u(Ee,""),K?M(z.dynamicChildren,K,Ee,W,Z,SE(Q,fe),ae):ye||O(z,Q,Ee,null,W,Z,SE(Q,fe),ae,!1),V>0){if(V&16)U(Ee,ce,me,W,fe);else if(V&2&&ce.class!==me.class&&s(Ee,"class",null,me.class,fe),V&4&&s(Ee,"style",ce.style,me.style,fe),V&8){const te=Q.dynamicProps;for(let ue=0;ue<te.length;ue++){const $e=te[ue],je=ce[$e],Je=me[$e];(Je!==je||$e==="value")&&s(Ee,$e,je,Je,fe,W)}}V&1&&z.children!==Q.children&&u(Ee,Q.children)}else!ye&&K==null&&U(Ee,ce,me,W,fe);((be=me.onVnodeUpdated)||se)&&es(()=>{be&&_c(be,W,Q,z),se&&Hf(Q,z,W,"updated")},Z)},M=(z,Q,W,Z,fe,ae,ye)=>{for(let Ee=0;Ee<Q.length;Ee++){const V=z[Ee],K=Q[Ee],se=V.el&&(V.type===vn||!od(V,K)||V.shapeFlag&198)?f(V.el):W;g(V,K,se,null,Z,fe,ae,ye,!0)}},U=(z,Q,W,Z,fe)=>{if(Q!==W){if(Q!==dr)for(const ae in Q)!gg(ae)&&!(ae in W)&&s(z,ae,Q[ae],null,fe,Z);for(const ae in W){if(gg(ae))continue;const ye=W[ae],Ee=Q[ae];ye!==Ee&&ae!=="value"&&s(z,ae,Ee,ye,fe,Z)}"value"in W&&s(z,"value",Q.value,W.value,fe)}},I=(z,Q,W,Z,fe,ae,ye,Ee,V)=>{const K=Q.el=z?z.el:a(""),se=Q.anchor=z?z.anchor:a("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:be}=Q;be&&(Ee=Ee?Ee.concat(be):be),z==null?(n(K,W,Z),n(se,W,Z),E(Q.children||[],W,se,fe,ae,ye,Ee,V)):ce>0&&ce&64&&me&&z.dynamicChildren?(M(z.dynamicChildren,me,W,fe,ae,ye,Ee),(Q.key!=null||fe&&Q===fe.subTree)&&PS(z,Q,!0)):O(z,Q,W,se,fe,ae,ye,Ee,V)},C=(z,Q,W,Z,fe,ae,ye,Ee,V)=>{Q.slotScopeIds=Ee,z==null?Q.shapeFlag&512?fe.ctx.activate(Q,W,Z,ye,V):p(Q,W,Z,fe,ae,ye,V):b(z,Q,V)},p=(z,Q,W,Z,fe,ae,ye)=>{const Ee=z.component=kW(z,Z,fe);if(Jw(z)&&(Ee.ctx.renderer=ee),MW(Ee,!1,ye),Ee.asyncDep){if(fe&&fe.registerDep(Ee,_,ye),!z.el){const V=Ee.subTree=pe(os);w(null,V,Q,W),z.placeholder=V.el}}else _(Ee,z,Q,W,fe,ae,ye)},b=(z,Q,W)=>{const Z=Q.component=z.component;if(xW(z,Q,W))if(Z.asyncDep&&!Z.asyncResolved){N(Z,Q,W);return}else Z.next=Q,Z.update();else Q.el=z.el,Z.vnode=Q},_=(z,Q,W,Z,fe,ae,ye)=>{const Ee=()=>{if(z.isMounted){let{next:ce,bu:me,u:be,parent:te,vnode:ue}=z;{const ot=H9(z);if(ot){ce&&(ce.el=ue.el,N(z,ce,ye)),ot.asyncDep.then(()=>{z.isUnmounted||Ee()});return}}let $e=ce,je;qf(z,!1),ce?(ce.el=ue.el,N(z,ce,ye)):ce=ue,me&&wE(me),(je=ce.props&&ce.props.onVnodeBeforeUpdate)&&_c(je,te,ce,ue),qf(z,!0);const Je=hT(z),zr=z.subTree;z.subTree=Je,g(zr,Je,f(zr.el),B(zr),z,fe,ae),ce.el=Je.el,$e===null&&CW(z,Je.el),be&&es(be,fe),(je=ce.props&&ce.props.onVnodeUpdated)&&es(()=>_c(je,te,ce,ue),fe)}else{let ce;const{el:me,props:be}=Q,{bm:te,m:ue,parent:$e,root:je,type:Je}=z,zr=vg(Q);qf(z,!1),te&&wE(te),!zr&&(ce=be&&be.onVnodeBeforeMount)&&_c(ce,$e,Q),qf(z,!0);{je.ce&&je.ce._def.shadowRoot!==!1&&je.ce._injectChildStyle(Je);const ot=z.subTree=hT(z);g(null,ot,W,Z,z,fe,ae),Q.el=ot.el}if(ue&&es(ue,fe),!zr&&(ce=be&&be.onVnodeMounted)){const ot=Q;es(()=>_c(ce,$e,ot),fe)}(Q.shapeFlag&256||$e&&vg($e.vnode)&&$e.vnode.shapeFlag&256)&&z.a&&es(z.a,fe),z.isMounted=!0,Q=W=Z=null}};z.scope.on();const V=z.effect=new YM(Ee);z.scope.off();const K=z.update=V.run.bind(V),se=z.job=V.runIfDirty.bind(V);se.i=z,se.id=z.uid,V.scheduler=()=>NS(se),qf(z,!0),K()},N=(z,Q,W)=>{Q.component=z;const Z=z.vnode.props;z.vnode=Q,z.next=null,aW(z,Q.props,Z,W),fW(z,Q.children,W),Xl(),eT(z),Ql()},O=(z,Q,W,Z,fe,ae,ye,Ee,V=!1)=>{const K=z&&z.children,se=z?z.shapeFlag:0,ce=Q.children,{patchFlag:me,shapeFlag:be}=Q;if(me>0){if(me&128){j(K,ce,W,Z,fe,ae,ye,Ee,V);return}else if(me&256){$(K,ce,W,Z,fe,ae,ye,Ee,V);return}}be&8?(se&16&&G(K,fe,ae),ce!==K&&u(W,ce)):se&16?be&16?j(K,ce,W,Z,fe,ae,ye,Ee,V):G(K,fe,ae,!0):(se&8&&u(W,""),be&16&&E(ce,W,Z,fe,ae,ye,Ee,V))},$=(z,Q,W,Z,fe,ae,ye,Ee,V)=>{z=z||y0,Q=Q||y0;const K=z.length,se=Q.length,ce=Math.min(K,se);let me;for(me=0;me<ce;me++){const be=Q[me]=V?$u(Q[me]):Mc(Q[me]);g(z[me],be,W,null,fe,ae,ye,Ee,V)}K>se?G(z,fe,ae,!0,!1,ce):E(Q,W,Z,fe,ae,ye,Ee,V,ce)},j=(z,Q,W,Z,fe,ae,ye,Ee,V)=>{let K=0;const se=Q.length;let ce=z.length-1,me=se-1;for(;K<=ce&&K<=me;){const be=z[K],te=Q[K]=V?$u(Q[K]):Mc(Q[K]);if(od(be,te))g(be,te,W,null,fe,ae,ye,Ee,V);else break;K++}for(;K<=ce&&K<=me;){const be=z[ce],te=Q[me]=V?$u(Q[me]):Mc(Q[me]);if(od(be,te))g(be,te,W,null,fe,ae,ye,Ee,V);else break;ce--,me--}if(K>ce){if(K<=me){const be=me+1,te=be<se?Q[be].el:Z;for(;K<=me;)g(null,Q[K]=V?$u(Q[K]):Mc(Q[K]),W,te,fe,ae,ye,Ee,V),K++}}else if(K>me)for(;K<=ce;)A(z[K],fe,ae,!0),K++;else{const be=K,te=K,ue=new Map;for(K=te;K<=me;K++){const ht=Q[K]=V?$u(Q[K]):Mc(Q[K]);ht.key!=null&&ue.set(ht.key,K)}let $e,je=0;const Je=me-te+1;let zr=!1,ot=0;const Dt=new Array(Je);for(K=0;K<Je;K++)Dt[K]=0;for(K=be;K<=ce;K++){const ht=z[K];if(je>=Je){A(ht,fe,ae,!0);continue}let bt;if(ht.key!=null)bt=ue.get(ht.key);else for($e=te;$e<=me;$e++)if(Dt[$e-te]===0&&od(ht,Q[$e])){bt=$e;break}bt===void 0?A(ht,fe,ae,!0):(Dt[bt-te]=K+1,bt>=ot?ot=bt:zr=!0,g(ht,Q[bt],W,null,fe,ae,ye,Ee,V),je++)}const ua=zr?gW(Dt):y0;for($e=ua.length-1,K=Je-1;K>=0;K--){const ht=te+K,bt=Q[ht],bc=Q[ht+1],nr=ht+1<se?bc.el||bc.placeholder:Z;Dt[K]===0?g(null,bt,W,nr,fe,ae,ye,Ee,V):zr&&($e<0||K!==ua[$e]?k(bt,W,nr,2):$e--)}}},k=(z,Q,W,Z,fe=null)=>{const{el:ae,type:ye,transition:Ee,children:V,shapeFlag:K}=z;if(K&6){k(z.component.subTree,Q,W,Z);return}if(K&128){z.suspense.move(Q,W,Z);return}if(K&64){ye.move(z,Q,W,ee);return}if(ye===vn){n(ae,Q,W);for(let ce=0;ce<V.length;ce++)k(V[ce],Q,W,Z);n(z.anchor,Q,W);return}if(ye===a1){S(z,Q,W);return}if(Z!==2&&K&1&&Ee)if(Z===0)Ee.beforeEnter(ae),n(ae,Q,W),es(()=>Ee.enter(ae),fe);else{const{leave:ce,delayLeave:me,afterLeave:be}=Ee,te=()=>{z.ctx.isUnmounted?i(ae):n(ae,Q,W)},ue=()=>{ae._isLeaving&&ae[Ul](!0),ce(ae,()=>{te(),be&&be()})};me?me(ae,te,ue):ue()}else n(ae,Q,W)},A=(z,Q,W,Z=!1,fe=!1)=>{const{type:ae,props:ye,ref:Ee,children:V,dynamicChildren:K,shapeFlag:se,patchFlag:ce,dirs:me,cacheIndex:be}=z;if(ce===-2&&(fe=!1),Ee!=null&&(Xl(),wg(Ee,null,W,z,!0),Ql()),be!=null&&(Q.renderCache[be]=void 0),se&256){Q.ctx.deactivate(z);return}const te=se&1&&me,ue=!vg(z);let $e;if(ue&&($e=ye&&ye.onVnodeBeforeUnmount)&&_c($e,Q,z),se&6)T(z.component,W,Z);else{if(se&128){z.suspense.unmount(W,Z);return}te&&Hf(z,null,Q,"beforeUnmount"),se&64?z.type.remove(z,Q,W,ee,Z):K&&!K.hasOnce&&(ae!==vn||ce>0&&ce&64)?G(K,Q,W,!1,!0):(ae===vn&&ce&384||!fe&&se&16)&&G(V,Q,W),Z&&L(z)}(ue&&($e=ye&&ye.onVnodeUnmounted)||te)&&es(()=>{$e&&_c($e,Q,z),te&&Hf(z,null,Q,"unmounted")},W)},L=z=>{const{type:Q,el:W,anchor:Z,transition:fe}=z;if(Q===vn){H(W,Z);return}if(Q===a1){R(z);return}const ae=()=>{i(W),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(z.shapeFlag&1&&fe&&!fe.persisted){const{leave:ye,delayLeave:Ee}=fe,V=()=>ye(W,ae);Ee?Ee(z.el,ae,V):V()}else ae()},H=(z,Q)=>{let W;for(;z!==Q;)W=d(z),i(z),z=W;i(Q)},T=(z,Q,W)=>{const{bum:Z,scope:fe,job:ae,subTree:ye,um:Ee,m:V,a:K}=z;dT(V),dT(K),Z&&wE(Z),fe.stop(),ae&&(ae.flags|=8,A(ye,z,Q,W)),Ee&&es(Ee,Q),es(()=>{z.isUnmounted=!0},Q)},G=(z,Q,W,Z=!1,fe=!1,ae=0)=>{for(let ye=ae;ye<z.length;ye++)A(z[ye],Q,W,Z,fe)},B=z=>{if(z.shapeFlag&6)return B(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const Q=d(z.anchor||z.el),W=Q&&Q[b9];return W?d(W):Q};let J=!1;const Y=(z,Q,W)=>{z==null?Q._vnode&&A(Q._vnode,null,null,!0):g(Q._vnode||null,z,Q,null,null,null,W),Q._vnode=z,J||(J=!0,eT(),g9(),J=!1)},ee={p:g,um:A,m:k,r:L,mt:p,mc:E,pc:O,pbc:M,n:B,o:t};return{render:Y,hydrate:void 0,createApp:iW(Y)}}function SE({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function qf({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pW(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function PS(t,e,r=!1){const n=t.children,i=e.children;if(tt(n)&&tt(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=$u(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&PS(o,a)),a.type===Sy&&a.patchFlag!==-1&&(a.el=o.el),a.type===os&&!a.el&&(a.el=o.el)}}function gW(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function H9(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:H9(e)}function dT(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const mW=Symbol.for("v-scx"),yW=()=>bi(mW);function _r(t,e,r){return q9(t,e,r)}function q9(t,e,r=dr){const{immediate:n,deep:i,flush:s,once:o}=r,a=ii({},r),c=e&&n||!e&&s!=="post";let l;if(sm){if(s==="sync"){const h=yW();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=zc,h.resume=zc,h.pause=zc,h}}const u=Bi;a.call=(h,m,g)=>fc(h,u,m,g);let f=!1;s==="post"?a.scheduler=h=>{es(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():NS(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Oq(t,e,a);return sm&&(l?l.push(d):c&&d()),d}function bW(t,e,r){const n=this.proxy,i=on(t)?t.includes(".")?W9(n,t):()=>n[t]:t.bind(n,n);let s;it(e)?s=e:(s=e.handler,r=e);const o=Iy(this),a=q9(i,s.bind(n),r);return o(),a}function W9(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const _W=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${zo(e)}Modifiers`]||t[`${Xd(e)}Modifiers`];function wW(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||dr;let i=r;const s=e.startsWith("update:"),o=s&&_W(n,e.slice(7));o&&(o.trim&&(i=r.map(u=>on(u)?u.trim():u)),o.number&&(i=r.map(YH)));let a,c=n[a=_E(e)]||n[a=_E(zo(e))];!c&&s&&(c=n[a=_E(Xd(e))]),c&&fc(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,fc(l,t,6,i)}}const vW=new WeakMap;function z9(t,e,r=!1){const n=r?vW:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!it(t)){const c=l=>{const u=z9(l,e,!0);u&&(a=!0,ii(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(wr(t)&&n.set(t,null),null):(tt(s)?s.forEach(c=>o[c]=null):ii(o,s),wr(t)&&n.set(t,o),o)}function Qw(t,e){return!t||!Hw(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qt(t,e[0].toLowerCase()+e.slice(1))||Qt(t,Xd(e))||Qt(t,e))}function hT(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:g}=t,y=w_(t);let w,x;try{if(r.shapeFlag&4){const R=i||n,D=R;w=Mc(l.call(D,R,u,f,h,d,m)),x=a}else{const R=e;w=Mc(R.length>1?R(f,{attrs:a,slots:o,emit:c}):R(f,null)),x=e.props?a:EW(a)}}catch(R){xg.length=0,Kw(R,t,1),w=pe(os)}let S=w;if(x&&g!==!1){const R=Object.keys(x),{shapeFlag:D}=S;R.length&&D&7&&(s&&R.some(dS)&&(x=AW(x,s)),S=af(S,x,!1,!0))}return r.dirs&&(S=af(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&nm(S,r.transition),w=S,w_(y),w}const EW=t=>{let e;for(const r in t)(r==="class"||r==="style"||Hw(r))&&((e||(e={}))[r]=t[r]);return e},AW=(t,e)=>{const r={};for(const n in t)(!dS(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function xW(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?pT(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!Qw(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?pT(n,o,l):!0:!!o;return!1}function pT(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!Qw(r,s))return!0}return!1}function CW({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const G9=t=>t.__isSuspense;function NW(t,e){e&&e.pendingBranch?tt(t)?e.effects.push(...t):e.effects.push(t):Mq(t)}const vn=Symbol.for("v-fgt"),Sy=Symbol.for("v-txt"),os=Symbol.for("v-cmt"),a1=Symbol.for("v-stc"),xg=[];let no=null;function mr(t=!1){xg.push(no=t?null:[])}function SW(){xg.pop(),no=xg[xg.length-1]||null}let im=1;function A_(t,e=!1){im+=t,t<0&&no&&e&&(no.hasOnce=!0)}function V9(t){return t.dynamicChildren=im>0?no||y0:null,SW(),im>0&&no&&no.push(t),t}function Mi(t,e,r,n,i,s){return V9(ne(t,e,r,n,i,s,!0))}function Gc(t,e,r,n,i){return V9(pe(t,e,r,n,i,!0))}function x_(t){return t?t.__v_isVNode===!0:!1}function od(t,e){return t.type===e.type&&t.key===e.key}const K9=({key:t})=>t??null,c1=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?on(t)||Qr(t)||it(t)?{i:ro,r:t,k:e,f:!!r}:t:null);function ne(t,e=null,r=null,n=0,i=null,s=t===vn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K9(e),ref:e&&c1(e),scopeId:y9,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ro};return a?(OS(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=on(r)?8:16),im>0&&!o&&no&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&no.push(c),c}const pe=IW;function IW(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===Jq)&&(t=os),x_(t)){const a=af(t,e,!0);return r&&OS(a,r),im>0&&!s&&no&&(a.shapeFlag&6?no[no.indexOf(t)]=a:no.push(a)),a.patchFlag=-2,a}if(BW(t)&&(t=t.__vccOpts),e){e=TW(e);let{class:a,style:c}=e;a&&!on(a)&&(e.class=kd(a)),wr(c)&&(AS(c)&&!tt(c)&&(c=ii({},c)),e.style=gS(c))}const o=on(t)?1:G9(t)?128:_9(t)?64:wr(t)?4:it(t)?2:0;return ne(t,e,r,n,i,o,s,!0)}function TW(t){return t?AS(t)||U9(t)?ii({},t):t:null}function af(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,l=e?dc(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&K9(l),ref:e&&e.ref?r&&s?tt(s)?s.concat(c1(e)):[s,c1(e)]:c1(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==vn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&af(t.ssContent),ssFallback:t.ssFallback&&af(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&nm(u,c.clone(u)),u}function Yt(t=" ",e=0){return pe(Sy,null,t,e)}function RW(t,e){const r=pe(a1,null,t);return r.staticCount=e,r}function PW(t="",e=!1){return e?(mr(),Gc(os,null,t)):pe(os,null,t)}function Mc(t){return t==null||typeof t=="boolean"?pe(os):tt(t)?pe(vn,null,t.slice()):x_(t)?$u(t):pe(Sy,null,String(t))}function $u(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:af(t)}function OS(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(tt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),OS(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!U9(e)?e._ctx=ro:i===3&&ro&&(ro.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else it(e)?(e={default:e,_ctx:ro},r=32):(e=String(e),n&64?(r=16,e=[Yt(e)]):r=8);t.children=e,t.shapeFlag|=r}function dc(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=kd([e.class,n.class]));else if(i==="style")e.style=gS([e.style,n.style]);else if(Hw(i)){const s=e[i],o=n[i];o&&s!==o&&!(tt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function _c(t,e,r,n=null){fc(t,e,7,[r,n])}const OW=D9();let DW=0;function kW(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||OW,s={uid:DW++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new KM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:L9(n,i),emitsOptions:z9(n,i),emit:null,emitted:null,propsDefaults:dr,inheritAttrs:n.inheritAttrs,ctx:dr,data:dr,props:dr,attrs:dr,slots:dr,refs:dr,setupState:dr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=wW.bind(null,s),t.ce&&t.ce(s),s}let Bi=null;const Fs=()=>Bi||ro;let C_,X2;{const t=Gw(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};C_=e("__VUE_INSTANCE_SETTERS__",r=>Bi=r),X2=e("__VUE_SSR_SETTERS__",r=>sm=r)}const Iy=t=>{const e=Bi;return C_(t),t.scope.on(),()=>{t.scope.off(),C_(e)}},gT=()=>{Bi&&Bi.scope.off(),C_(null)};function J9(t){return t.vnode.shapeFlag&4}let sm=!1;function MW(t,e=!1,r=!1){e&&X2(e);const{props:n,children:i}=t.vnode,s=J9(t);oW(t,n,s,e),uW(t,i,r||e);const o=s?UW(t,e):void 0;return e&&X2(!1),o}function UW(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Xq);const{setup:n}=r;if(n){Xl();const i=t.setupContext=n.length>1?LW(t):null,s=Iy(t),o=Ny(n,t,0,[t.props,i]),a=jM(o);if(Ql(),s(),(a||t.sp)&&!vg(t)&&I9(t),a){if(o.then(gT,gT),e)return o.then(c=>{mT(t,c)}).catch(c=>{Kw(c,t,0)});t.asyncDep=o}else mT(t,o)}else Y9(t)}function mT(t,e,r){it(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:wr(e)&&(t.setupState=d9(e)),Y9(t)}function Y9(t,e,r){const n=t.type;t.render||(t.render=n.render||zc);{const i=Iy(t);Xl();try{Qq(t)}finally{Ql(),i()}}}const $W={get(t,e){return Ui(t,"get",""),t[e]}};function LW(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,$W),slots:t.slots,emit:t.emit,expose:e}}function Zw(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(d9(xS(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ag)return Ag[r](t)},has(e,r){return r in e||r in Ag}})):t.proxy}function FW(t,e=!0){return it(t)?t.displayName||t.name:t.name||e&&t.__name}function BW(t){return it(t)&&"__vccOpts"in t}const lt=(t,e)=>Rq(t,e,sm);function Ty(t,e,r){try{A_(-1);const n=arguments.length;return n===2?wr(e)&&!tt(e)?x_(e)?pe(t,null,[e]):pe(t,e):pe(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&x_(r)&&(r=[r]),pe(t,e,r))}finally{A_(1)}}const jW="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Q2;const yT=typeof window<"u"&&window.trustedTypes;if(yT)try{Q2=yT.createPolicy("vue",{createHTML:t=>t})}catch{}const X9=Q2?t=>Q2.createHTML(t):t=>t,HW="http://www.w3.org/2000/svg",qW="http://www.w3.org/1998/Math/MathML",Sl=typeof document<"u"?document:null,bT=Sl&&Sl.createElement("template"),WW={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?Sl.createElementNS(HW,t):e==="mathml"?Sl.createElementNS(qW,t):r?Sl.createElement(t,{is:r}):Sl.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Sl.createTextNode(t),createComment:t=>Sl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Sl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{bT.innerHTML=X9(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=bT.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},gu="transition",Ap="animation",om=Symbol("_vtc"),Q9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zW=ii({},A9,Q9),GW=t=>(t.displayName="Transition",t.props=zW,t),Z9=GW((t,{slots:e})=>Ty(Fq,VW(t),e)),Wf=(t,e=[])=>{tt(t)?t.forEach(r=>r(...e)):t&&t(...e)},_T=t=>t?tt(t)?t.some(e=>e.length>1):t.length>1:!1;function VW(t){const e={};for(const I in t)I in Q9||(e[I]=t[I]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,m=KW(i),g=m&&m[0],y=m&&m[1],{onBeforeEnter:w,onEnter:x,onEnterCancelled:S,onLeave:R,onLeaveCancelled:D,onBeforeAppear:P=w,onAppear:F=x,onAppearCancelled:E=S}=e,v=(I,C,p,b)=>{I._enterCancelled=b,zf(I,C?u:a),zf(I,C?l:o),p&&p()},M=(I,C)=>{I._isLeaving=!1,zf(I,f),zf(I,h),zf(I,d),C&&C()},U=I=>(C,p)=>{const b=I?F:x,_=()=>v(C,I,p);Wf(b,[C,_]),wT(()=>{zf(C,I?c:s),cl(C,I?u:a),_T(b)||vT(C,n,g,_)})};return ii(e,{onBeforeEnter(I){Wf(w,[I]),cl(I,s),cl(I,o)},onBeforeAppear(I){Wf(P,[I]),cl(I,c),cl(I,l)},onEnter:U(!1),onAppear:U(!0),onLeave(I,C){I._isLeaving=!0;const p=()=>M(I,C);cl(I,f),I._enterCancelled?(cl(I,d),xT(I)):(xT(I),cl(I,d)),wT(()=>{I._isLeaving&&(zf(I,f),cl(I,h),_T(R)||vT(I,n,y,p))}),Wf(R,[I,p])},onEnterCancelled(I){v(I,!1,void 0,!0),Wf(S,[I])},onAppearCancelled(I){v(I,!0,void 0,!0),Wf(E,[I])},onLeaveCancelled(I){M(I),Wf(D,[I])}})}function KW(t){if(t==null)return null;if(wr(t))return[IE(t.enter),IE(t.leave)];{const e=IE(t);return[e,e]}}function IE(t){return XH(t)}function cl(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[om]||(t[om]=new Set)).add(e)}function zf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[om];r&&(r.delete(e),r.size||(t[om]=void 0))}function wT(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let JW=0;function vT(t,e,r,n){const i=t._endId=++JW,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=YW(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,d),s()},d=h=>{h.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,d)}function YW(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(`${gu}Delay`),s=n(`${gu}Duration`),o=ET(i,s),a=n(`${Ap}Delay`),c=n(`${Ap}Duration`),l=ET(a,c);let u=null,f=0,d=0;e===gu?o>0&&(u=gu,f=o,d=s.length):e===Ap?l>0&&(u=Ap,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?gu:Ap:null,d=u?u===gu?s.length:c.length:0);const h=u===gu&&/\b(?:transform|all)(?:,|$)/.test(n(`${gu}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function ET(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>AT(r)+AT(t[n])))}function AT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function xT(t){return(t?t.ownerDocument:document).body.offsetHeight}function XW(t,e,r){const n=t[om];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const N_=Symbol("_vod"),e7=Symbol("_vsh"),Cg={name:"show",beforeMount(t,{value:e},{transition:r}){t[N_]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):xp(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),xp(t,!0),n.enter(t)):n.leave(t,()=>{xp(t,!1)}):xp(t,e))},beforeUnmount(t,{value:e}){xp(t,e)}};function xp(t,e){t.style.display=e?t[N_]:"none",t[e7]=!e}const QW=Symbol(""),ZW=/(?:^|;)\s*display\s*:/;function ez(t,e,r){const n=t.style,i=on(r);let s=!1;if(r&&!i){if(e)if(on(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&l1(n,a,"")}else for(const o in e)r[o]==null&&l1(n,o,"");for(const o in r)o==="display"&&(s=!0),l1(n,o,r[o])}else if(i){if(e!==r){const o=n[QW];o&&(r+=";"+o),n.cssText=r,s=ZW.test(r)}}else e&&t.removeAttribute("style");N_ in t&&(t[N_]=s?n.display:"",t[e7]&&(n.display="none"))}const CT=/\s*!important$/;function l1(t,e,r){if(tt(r))r.forEach(n=>l1(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=tz(t,e);CT.test(r)?t.setProperty(Xd(n),r.replace(CT,""),"important"):t[n]=r}}const NT=["Webkit","Moz","ms"],TE={};function tz(t,e){const r=TE[e];if(r)return r;let n=zo(e);if(n!=="filter"&&n in t)return TE[e]=n;n=zw(n);for(let i=0;i<NT.length;i++){const s=NT[i]+n;if(s in t)return TE[e]=s}return e}const ST="http://www.w3.org/1999/xlink";function IT(t,e,r,n,i,s=nq(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ST,e.slice(6,e.length)):t.setAttributeNS(ST,e,r):r==null||s&&!zM(r)?t.removeAttribute(e):t.setAttribute(e,s?"":Af(r)?String(r):r)}function TT(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?X9(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=zM(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function rz(t,e,r,n){t.addEventListener(e,r,n)}function nz(t,e,r,n){t.removeEventListener(e,r,n)}const RT=Symbol("_vei");function iz(t,e,r,n,i=null){const s=t[RT]||(t[RT]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=sz(e);if(n){const l=s[e]=cz(n,i);rz(t,a,l,c)}else o&&(nz(t,a,o,c),s[e]=void 0)}}const PT=/(?:Once|Passive|Capture)$/;function sz(t){let e;if(PT.test(t)){e={};let n;for(;n=t.match(PT);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xd(t.slice(2)),e]}let RE=0;const oz=Promise.resolve(),az=()=>RE||(oz.then(()=>RE=0),RE=Date.now());function cz(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;fc(lz(n,r.value),e,5,[n])};return r.value=t,r.attached=az(),r}function lz(t,e){if(tt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const OT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,uz=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?XW(t,n,o):e==="style"?ez(t,r,n):Hw(e)?dS(e)||iz(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fz(t,e,n,o))?(TT(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&IT(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!on(n))?TT(t,zo(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),IT(t,e,n,o))};function fz(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&OT(e)&&it(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return OT(e)&&on(r)?!1:e in t}const dz=ii({patchProp:uz},WW);let DT;function hz(){return DT||(DT=dW(dz))}const t7=((...t)=>{const e=hz().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=gz(n);if(!i)return;const s=e._component;!it(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,pz(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function pz(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function gz(t){return on(t)?document.querySelector(t):t}const mz=Symbol(),kT=Object.getPrototypeOf,Z2=new WeakMap,yz=t=>t&&(Z2.has(t)?Z2.get(t):kT(t)===Object.prototype||kT(t)===Array.prototype),bz=t=>yz(t)&&t[mz]||null,MT=(t,e=!0)=>{Z2.set(t,e)},S_={},DS=t=>typeof t=="object"&&t!==null,_z=t=>DS(t)&&!Ry.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),r7=(t,e)=>{const r=eC.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return MT(n,!0),eC.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(Ry.has(s))MT(s,!1);else if(cf.has(s)){const[c,l]=cf.get(s);a.value=r7(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},wz=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(UT(l,o)||am.has(o)&&UT(l,am.get(o))))return!0;r(s),DS(o)&&(o=bz(o)||o);const u=!cf.has(o)&&Ez(o)?vr(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),cf=new WeakMap,Ry=new WeakSet,eC=new WeakMap,ig=[1,1],am=new WeakMap;let UT=Object.is,vz=(t,e)=>new Proxy(t,e),Ez=_z,Az=r7,xz=wz;function vr(t={}){if(!DS(t))throw new Error("object required");const e=am.get(t);if(e)return e;let r=ig[0];const n=new Set,i=(y,w=++ig[0])=>{r!==w&&(r=w,n.forEach(x=>x(y,w)))};let s=ig[1];const o=(y=++ig[1])=>(s!==y&&!n.size&&(s=y,c.forEach(([w])=>{const x=w[1](y);x>r&&(r=x)})),r),a=y=>(w,x)=>{const S=[...w];S[1]=[y,...S[1]],i(S,x)},c=new Map,l=(y,w)=>{const x=!Ry.has(w)&&cf.get(w);if(x){if((S_?"production":void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(n.size){const S=x[2](a(y));c.set(y,[x,S])}else c.set(y,[x])}},u=y=>{var w;const x=c.get(y);x&&(c.delete(y),(w=x[1])==null||w.call(x))},f=y=>(n.add(y),n.size===1&&c.forEach(([x,S],R)=>{if((S_?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const D=x[2](a(R));c.set(R,[x,D])}),()=>{n.delete(y),n.size===0&&c.forEach(([x,S],R)=>{S&&(S(),c.set(R,[x]))})});let d=!0;const h=xz(()=>d,l,u,i),m=vz(t,h);am.set(t,m);const g=[t,o,f];return cf.set(m,g),Reflect.ownKeys(t).forEach(y=>{const w=Object.getOwnPropertyDescriptor(t,y);"value"in w&&w.writable&&(m[y]=t[y])}),d=!1,m}function wi(t,e,r){const n=cf.get(t);(S_?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function cm(t){const e=cf.get(t);(S_?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return Az(r,n())}function Md(t){return Ry.add(t),t}function Cz(){return{proxyStateMap:cf,refSet:Ry,snapCache:eC,versionHolder:ig,proxyCache:am}}function Ji(t,e,r,n){let i=t[e];return wi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}const{proxyStateMap:Nz,snapCache:Sz}=Cz(),fb=t=>Nz.has(t);function Iz(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=Sz.get(a),u=l?.[1];if(u&&!i.has(u)){const f=new Map(n);i.set(u,f)}},o=l=>i.get(l)||n,a={data:e,index:r,epoch:0,get size(){return fb(this)||s(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!fb(this))throw new Error("Cannot perform mutations on a snapshot");const f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!fb(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!fb(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=vr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function en(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var $T={};const le={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof $T<"u"?$T.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},n7={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return le.CHAIN_NAME_MAP?.[n]||void 0}},i7=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Tz=20,Rz=1,Ud=1e6,LT=1e6,Pz=-7,Oz=21,Dz=!1,Py="[big.js] ",Qd=Py+"Invalid ",ev=Qd+"decimal places",kz=Qd+"rounding mode",s7=Py+"Division by zero",rr={},Vc=void 0,Mz=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function o7(){function t(e){var r=this;if(!(r instanceof t))return e===Vc?o7():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Qd+"value");e=e===0&&1/e<0?"-0":String(e)}Uz(r,e)}r.constructor=t}return t.prototype=rr,t.DP=Tz,t.RM=Rz,t.NE=Pz,t.PE=Oz,t.strict=Dz,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Uz(t,e){var r,n,i;if(!Mz.test(e))throw Error(Qd+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function Zd(t,e,r,n){var i=t.c;if(r===Vc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(kz);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Vc))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Vc||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function eh(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}rr.abs=function(){var t=new this.constructor(this);return t.s=1,t};rr.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};rr.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Ud)throw Error(ev);if(!i[0])throw Error(s7);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,f,d=i.slice(),h=a=i.length,m=n.length,g=n.slice(0,a),y=g.length,w=t,x=w.c=[],S=0,R=o+(w.e=e.e-t.e)+1;for(w.s=s,s=R<0?0:R,d.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(f=-1,u=0;++f<a;)if(i[f]!=g[f]){u=i[f]>g[f]?1:-1;break}if(u<0){for(c=y==a?i:d;y;){if(g[--y]<c[y]){for(f=y;f&&!g[--f];)g[f]=9;--g[f],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}x[S++]=u?l:++l,g[0]&&u?g[y]=n[h]||0:g=[n[h]]}while((h++<m||g[0]!==Vc)&&s--);return!x[0]&&S!=1&&(x.shift(),w.e--,R--),S>R&&Zd(w,R,r.RM,g[0]!==Vc),w};rr.eq=function(t){return this.cmp(t)===0};rr.gt=function(t){return this.cmp(t)>0};rr.gte=function(t){return this.cmp(t)>-1};rr.lt=function(t){return this.cmp(t)<0};rr.lte=function(t){return this.cmp(t)<1};rr.minus=rr.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};rr.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(s7);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};rr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};rr.plus=rr.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};rr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-LT||t>LT)throw Error(Qd+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};rr.prec=function(t,e){if(t!==~~t||t<1||t>Ud)throw Error(Qd+"precision");return Zd(new this.constructor(this),t,e)};rr.round=function(t,e){if(t===Vc)t=0;else if(t!==~~t||t<-Ud||t>Ud)throw Error(ev);return Zd(new this.constructor(this),t+this.e+1,e)};rr.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(Py+"No square root");s=Math.sqrt(+eh(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Zd(t,(i.DP-=4)+t.e+1,i.RM)};rr.times=rr.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};rr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Vc){if(t!==~~t||t<0||t>Ud)throw Error(ev);for(r=Zd(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return eh(r,!0,!!n)};rr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Vc){if(t!==~~t||t<0||t>Ud)throw Error(ev);for(r=Zd(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return eh(r,!1,!!n)};rr[Symbol.for("nodejs.util.inspect.custom")]=rr.toJSON=rr.toString=function(){var t=this,e=t.constructor;return eh(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};rr.toNumber=function(){var t=+eh(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Py+"Imprecise conversion");return t};rr.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Vc){if(t!==~~t||t<1||t>Ud)throw Error(Qd+"precision");for(r=Zd(new n(r),t,e);r.c.length<t;)r.c.push(0)}return eh(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};rr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Py+"valueOf disallowed");return eh(t,t.e<=e.NE||t.e>=e.PE,!0)};var mu=o7();const $z={bigNumber(t){return t?new mu(t):new mu(0)},multiply(t,e){if(t===void 0||e===void 0)return new mu(0);const r=new mu(t),n=new mu(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new mu(0).toFixed(e):new mu(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new mu(e).toNumber()}},Lz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Fz=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Bz=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],jz={getERC20Abi:t=>le.USDT_CONTRACT_ADDRESSES.includes(t)?Bz:Lz,getSwapAbi:()=>Fz},is={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Ve={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function PE(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const We={setItem(t,e){l0()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(l0())return localStorage.getItem(t)||void 0},removeItem(t){l0()&&localStorage.removeItem(t)},clear(){l0()&&localStorage.clear()}};function l0(){return typeof window<"u"&&typeof localStorage<"u"}function lm(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var FT={};const OE=(typeof process<"u"&&typeof FT<"u"?FT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",a7=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Hz="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Pt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:OE,SECURE_SITE_DASHBOARD:`${OE}/dashboard`,SECURE_SITE_FAVICON:`${OE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[le.CHAIN.EVM,le.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[le.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[le.CHAIN.EVM,le.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},we={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=we.getActiveNamespace(),e=we.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{We.setItem(Ve.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=We.getItem(Ve.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{We.removeItem(Ve.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{We.setItem(Ve.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{We.setItem(Ve.ACTIVE_CAIP_NETWORK_ID,t),we.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return We.getItem(Ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{We.removeItem(Ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=PE(t);We.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=we.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),We.setItem(Ve.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=We.getItem(Ve.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=PE(t);We.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return We.getItem(Ve.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=PE(t);return We.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{We.setItem(Ve.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return We.getItem(Ve.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{We.removeItem(Ve.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return We.getItem(Ve.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return We.getItem(Ve.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{We.setItem(Ve.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return We.getItem(Ve.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=We.getItem(Ve.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));We.setItem(Ve.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=we.getConnectedNamespaces();e.includes(t)||(e.push(t),we.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=we.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),we.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return We.getItem(Ve.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{We.setItem(Ve.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{We.removeItem(Ve.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=We.getItem(Ve.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=we.getBalanceCache();We.setItem(Ve.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=we.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=we.getBalanceCache();e[t.caipAddress]=t,We.setItem(Ve.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=We.getItem(Ve.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=we.getBalanceCache();We.setItem(Ve.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=we.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),we.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=we.getNativeBalanceCache();e[t.caipAddress]=t,We.setItem(Ve.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=We.getItem(Ve.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=we.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;we.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=we.getEnsCache();e[t.address]=t,We.setItem(Ve.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=we.getEnsCache();We.setItem(Ve.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=We.getItem(Ve.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=we.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;we.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=we.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},We.setItem(Ve.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=we.getIdentityCache();We.setItem(Ve.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{We.removeItem(Ve.PORTFOLIO_CACHE),We.removeItem(Ve.NATIVE_BALANCE_CACHE),We.removeItem(Ve.ENS_CACHE),We.removeItem(Ve.IDENTITY_CACHE),We.removeItem(Ve.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{We.setItem(Ve.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=We.getItem(Ve.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=we.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===le.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};We.setItem(Ve.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=We.getItem(Ve.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=we.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),We.setItem(Ve.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=We.getItem(Ve.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=we.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),We.setItem(Ve.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=we.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),We.setItem(Ve.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(we.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=We.getItem(Ve.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=we.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;we.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=we.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},We.setItem(Ve.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=we.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;We.setItem(Ve.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=We.getItem(Ve.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=we.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;we.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=we.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},We.setItem(Ve.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=we.getTokenPriceCache();We.setItem(Ve.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},ke={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return ke.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Pt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Pt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(ke.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Pt.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(ke.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!ke.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?we.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,ke.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return le.W3M_API_URL},getBlockchainApiUrl(){return le.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return le.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?Pt.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in le.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function Cp(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Oy{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await Cp(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await Cp(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Cp(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Cp(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Cp(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const qz={getFeatureValue(t,e){const r=e?.[t];return r===void 0?Pt.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(ke.isTelegram()){if(ke.isIos())return t.filter(e=>e!=="google");if(ke.isMac())return t.filter(e=>e!=="x");if(ke.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},qe=vr({features:Pt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Pt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ge={state:qe,subscribeKey(t,e){return Ji(qe,t,e)},setOptions(t){Object.assign(qe,t)},setRemoteFeatures(t){if(!t)return;const e={...qe.remoteFeatures,...t};qe.remoteFeatures=e,qe.remoteFeatures?.socials&&(qe.remoteFeatures.socials=qz.filterSocialsByPlatform(qe.remoteFeatures.socials)),qe.features?.pay&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;qe.features||(qe.features=Pt.DEFAULT_FEATURES);const e={...qe.features,...t};qe.features=e,qe.features?.pay&&qe.remoteFeatures&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setProjectId(t){qe.projectId=t},setCustomRpcUrls(t){qe.customRpcUrls=t},setAllWallets(t){qe.allWallets=t},setIncludeWalletIds(t){qe.includeWalletIds=t},setExcludeWalletIds(t){qe.excludeWalletIds=t},setFeaturedWalletIds(t){qe.featuredWalletIds=t},setTokens(t){qe.tokens=t},setTermsConditionsUrl(t){qe.termsConditionsUrl=t},setPrivacyPolicyUrl(t){qe.privacyPolicyUrl=t},setCustomWallets(t){qe.customWallets=t},setIsSiweEnabled(t){qe.isSiweEnabled=t},setIsUniversalProvider(t){qe.isUniversalProvider=t},setSdkVersion(t){qe.sdkVersion=t},setMetadata(t){qe.metadata=t},setDisableAppend(t){qe.disableAppend=t},setEIP6963Enabled(t){qe.enableEIP6963=t},setDebug(t){qe.debug=t},setEnableWalletConnect(t){qe.enableWalletConnect=t},setEnableWalletGuide(t){qe.enableWalletGuide=t},setEnableAuthLogger(t){qe.enableAuthLogger=t},setEnableWallets(t){qe.enableWallets=t},setPreferUniversalLinks(t){qe.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(Pt.SIWX_DEFAULTS))t[e]??=r;qe.siwx=t},setConnectMethodsOrder(t){qe.features={...qe.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){qe.features={...qe.features,walletFeaturesOrder:t}},setSocialsOrder(t){qe.remoteFeatures={...qe.remoteFeatures,socials:t}},setCollapseWallets(t){qe.features={...qe.features,collapseWallets:t}},setEnableEmbedded(t){qe.enableEmbedded=t},setAllowUnsupportedChain(t){qe.allowUnsupportedChain=t},setManualWCControl(t){qe.manualWCControl=t},setEnableNetworkSwitch(t){qe.enableNetworkSwitch=t},setEnableReconnect(t){qe.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(qe.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){qe.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return qe.universalProviderConfigOverride},getSnapshot(){return cm(qe)}},Wz=Object.freeze({enabled:!0,events:[]}),zz=new Oy({baseUrl:ke.getAnalyticsUrl(),clientId:null}),Gz=5,Vz=60*1e3,yu=vr({...Wz}),Kz={state:yu,subscribeKey(t,e){return Ji(yu,t,e)},async sendError(t,e){if(!yu.enabled)return;const r=Date.now();if(yu.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<Vz}).length>=Gz)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};yu.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=ge.state;await zz.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){yu.enabled=!0},disable(){yu.enabled=!1},clearEvents(){yu.events=[]}};class k0 extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,k0.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,k0):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function BT(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof k0?t:new k0(r,e,t);throw Kz.sendError(n,n.category),n}function oo(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return BT(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return BT(a,e)}},r[n]=s}else r[n]=i}),r}var M0={};const Jz="https://secure.walletconnect.org/sdk",Yz=(typeof process<"u"&&typeof M0<"u"?M0.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Jz,Xz=(typeof process<"u"&&typeof M0<"u"?M0.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Qz=(typeof process<"u"&&typeof M0<"u"?M0.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Be={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Jn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ts={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Zz={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===ts.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${ts.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===ts.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ts.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===le.CHAIN.SOLANA&&t===ts.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ts.COINBASE.url}/dapp?cb_url=${n}`),e===le.CHAIN.BITCOIN&&t===ts.BINANCE.id&&!("binancew3w"in window)){const i=X.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(ts.BINANCE.deeplink);a.searchParams.set("appId",ts.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(ts.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},qs=vr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),eG={state:qs,subscribeNetworkImages(t){return wi(qs.networkImages,()=>t(qs.networkImages))},subscribeKey(t,e){return Ji(qs,t,e)},subscribe(t){return wi(qs,()=>t(qs))},setWalletImage(t,e){qs.walletImages[t]=e},setNetworkImage(t,e){qs.networkImages[t]=e},setChainImage(t,e){qs.chainImages[t]=e},setConnectorImage(t,e){qs.connectorImages={...qs.connectorImages,[t]:e}},setTokenImage(t,e){qs.tokenImages[t]=e},setCurrencyImage(t,e){qs.currencyImages[t]=e}},Ga=oo(eG),tG={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},DE=vr({networkImagePromises:{}}),c7={async fetchWalletImage(t){if(t)return await Ge._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(DE.networkImagePromises[t]||(DE.networkImagePromises[t]=Ge._fetchNetworkImage(t)),await DE.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Ga.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Ga.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Ga.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Ga.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Ga.state.connectorImages[t.imageId]},getChainImage(t){return Ga.state.networkImages[tG[t]]}},fa=vr({message:"",variant:"info",open:!1}),rG={state:fa,subscribeKey(t,e){return Ji(fa,t,e)},open(t,e){const{debug:r}=ge.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(fa.message=i,fa.variant=e,fa.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){fa.open=!0,fa.message=t,fa.variant="warning",e&&console.warn(e,r)},close(){fa.open=!1,fa.message="",fa.variant="info"}},gi=oo(rG),nG=ke.getAnalyticsUrl(),iG=new Oy({baseUrl:nG,clientId:null}),sG=["MODAL_CREATED"],ll=vr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Ut={state:ll,subscribe(t){return wi(ll,()=>t(ll))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=ge.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=Le.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),sG.includes(t.data.event)||typeof window>"u")return;const r=X.getActiveCaipNetwork()?.caipNetworkId;await iG.post({path:"/e",params:Ut.getSdkProperties(),body:{eventId:ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),ll.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===le.HTTP_STATUS_CODES.FORBIDDEN&&!ll.reportedErrors.FORBIDDEN&&(gi.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${l0()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ll.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){ll.timestamp=Date.now(),ll.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(ge.state.features?.analytics||e.includes(t.event))&&Ut._sendAnalyticsEvent(ll)}},oG=ke.getApiUrl(),hs=new Oy({baseUrl:oG,clientId:null}),aG=40,jT=4,cG=20,ct=vr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ge={state:ct,subscribeKey(t,e){return Ji(ct,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=ge.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return ge.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${hs.baseUrl}/getWalletImage/${t}`,r=await hs.getBlob({path:e,params:Ge._getSdkProperties()});Ga.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${hs.baseUrl}/public/getAssetImage/${t}`,r=await hs.getBlob({path:e,params:Ge._getSdkProperties()});Ga.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${hs.baseUrl}/public/getAssetImage/${t}`,r=await hs.getBlob({path:e,params:Ge._getSdkProperties()});Ga.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${hs.baseUrl}/public/getCurrencyImage/${t}`,r=await hs.getBlob({path:e,params:Ge._getSdkProperties()});Ga.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${hs.baseUrl}/public/getTokenImage/${t}`,r=await hs.getBlob({path:e,params:Ge._getSdkProperties()});Ga.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return ke.isMobile()?t?.filter(r=>r.mobile_link||r.id===ts.COINBASE.id||r.id===ts.BINANCE.id?!0:X.state.activeChain==="solana"&&(r.id===ts.SOLFLARE.id||r.id===ts.PHANTOM.id)):t},async fetchProjectConfig(){return(await hs.get({path:"/appkit/v1/config",params:Ge._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await hs.get({path:"/projects/v1/origins",params:Ge._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===le.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=le.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=X.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!c7.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Ge._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Ge._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ge._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ge._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Ge._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(ts).map(s=>s.id));const n=await hs.get({path:"/getWallets",params:{...Ge._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Ge._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=ge.state;if(t?.length){const e={...Ge._getSdkProperties(),page:1,entries:t?.length??jT,include:t},{data:r}=await Ge.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Ge._fetchWalletImage(s))),ct.featured=n,ct.allFeatured=n}},async fetchRecommendedWallets(){try{ct.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=ge.state,n=[...e??[],...r??[]].filter(Boolean),i=X.getRequestedCaipNetworkIds().join(","),s={page:1,entries:jT,include:t,exclude:n,chains:i},{data:o,count:a}=await Ge.fetchWallets(s),c=we.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>Ge._fetchWalletImage(f))),ct.recommended=o,ct.allRecommended=o,ct.count=a??0}catch{}finally{ct.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=ge.state,i=X.getRequestedCaipNetworkIds().join(","),s=[...ct.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:aG,include:e,exclude:s,chains:i},{data:a,count:c}=await Ge.fetchWallets(o),l=a.slice(0,cG).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Ge._fetchWalletImage(u))),ct.wallets=ke.uniqueBy([...ct.wallets,...Ge._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(f=>i.includes(f))),ct.count=c>ct.count?c:ct.count,ct.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await Ge.fetchWallets(e);r&&r.forEach(n=>{ct.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=ge.state,i=X.getRequestedCaipNetworkIds().join(",");ct.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await Ge.fetchWallets(s);Ut.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ge._fetchWalletImage(c)),ke.wait(300)]),ct.search=Ge._filterOutExtensions(o)},initPromise(t,e){const r=ct.promises[t];return r||(ct.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&Ge.initPromise("connectorImages",Ge.fetchConnectorImages),e&&Ge.initPromise("featuredWallets",Ge.fetchFeaturedWallets),r&&Ge.initPromise("recommendedWallets",Ge.fetchRecommendedWallets),n&&Ge.initPromise("networkImages",Ge.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){ge.state.features?.analytics&&Ge.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await hs.get({path:"/getAnalyticsConfig",params:Ge._getSdkProperties()});ge.setFeatures({analytics:t})}catch{ge.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){ct.featured=ct.allFeatured,ct.recommended=ct.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");ct.featured=ct.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),ct.recommended=ct.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),ct.filteredWallets=ct.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){ct.filteredWallets=[]},setFilterByNamespace(t){if(!t){ct.featured=ct.allFeatured,ct.recommended=ct.allRecommended;return}const e=X.getRequestedCaipNetworkIds().join(",");ct.featured=ct.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),ct.recommended=ct.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),ct.filteredWallets=ct.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},ir=vr({view:"Connect",history:["Connect"],transactionStack:[]}),lG={state:ir,subscribeKey(t,e){return Ji(ir,t,e)},pushTransactionStack(t){ir.transactionStack.push(t)},popTransactionStack(t){const e=ir.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),Xe.goBack();break;case"cancel":i?.(),Xe.goBack();break}},push(t,e){t!==ir.view&&(ir.view=t,ir.history.push(t),ir.data=e)},reset(t,e){ir.view=t,ir.history=[t],ir.data=e},replace(t,e){ir.history.at(-1)===t||(ir.view=t,ir.history[ir.history.length-1]=t,ir.data=e)},goBack(){const t=X.state.activeCaipAddress,e=Xe.state.view==="ConnectingFarcaster",r=!t&&e;if(ir.history.length>1){ir.history.pop();const[n]=ir.history.slice(-1);n&&(t&&n==="Connect"?ir.view="Account":ir.view=n)}else St.close();ir.data?.wallet&&(ir.data.wallet=void 0),setTimeout(()=>{if(r){Le.setFarcasterUrl(void 0,X.state.activeChain);const n=Ne.getAuthConnector();n?.provider?.reload();const i=cm(ge.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(ir.history.length>1){ir.history=ir.history.slice(0,t+1);const[e]=ir.history.slice(-1);e&&(ir.view=e)}},goBackOrCloseModal(){Xe.state.history.length>1?Xe.goBack():St.close()}},Xe=oo(lG),ul=vr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),tC={state:ul,subscribe(t){return wi(ul,()=>t(ul))},setThemeMode(t){ul.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const r=tC.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:lm(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ul.themeVariables={...ul.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const r=tC.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:lm(ul.themeVariables,ul.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return cm(ul)}},Ts=oo(tC),l7=Object.fromEntries(i7.map(t=>[t,void 0])),uG=Object.fromEntries(i7.map(t=>[t,!0])),Lt=vr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:l7,filterByNamespaceMap:uG}),fG={state:Lt,subscribe(t){return wi(Lt,()=>{t(Lt)})},subscribeKey(t,e){return Ji(Lt,t,e)},initialize(t){t.forEach(e=>{const r=we.getConnectedConnectorId(e);r&&Ne.setConnectorId(r,e)})},setActiveConnector(t){t&&(Lt.activeConnector=Md(t))},setConnectors(t){t.filter(i=>!Lt.allConnectors.some(s=>s.id===i.id&&Ne.getConnectorName(s.name)===Ne.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Lt.allConnectors.push(Md(i))});const r=Ne.getEnabledNamespaces(),n=Ne.getEnabledConnectors(r);Lt.connectors=Ne.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(Lt.filterByNamespaceMap).forEach(e=>{Lt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Lt.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Lt.filterByNamespaceMap[t]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(t),r=Ne.areAllNamespacesEnabled();Lt.connectors=Ne.mergeMultiChainConnectors(e),r?Ge.clearFilterByNamespaces():Ge.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Lt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Lt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Lt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ne.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===le.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=Ne.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===le.CONNECTOR_ID.AUTH){const e=t,r=cm(ge.state),n=Ts.getSnapshot().themeMode,i=Ts.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:lm(i,n)}),Ne.setConnectors([t])}else Ne.setConnectors([t])},getAuthConnector(t){const e=t||X.state.activeChain,r=Lt.connectors.find(n=>n.id===le.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return Lt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Lt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||X.state.activeChain;return Lt.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=cm(ge.state),n=Ts.getSnapshot().themeMode,i=Ts.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:lm(i,n)})},getConnectorsByNamespace(t){const e=Lt.allConnectors.filter(r=>r.chain===t);return Ne.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return X.checkIfSmartAccountEnabled()&&Bs(t)===Jn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=Ne.getConnector({id:t.id,rdns:t.rdns});Zz.handleMobileDeeplinkRedirect(e?.explorerId||t.id,X.state.activeChain),e?Xe.push("ConnectingExternal",{connector:e,wallet:t}):Xe.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ne.getConnectorsByNamespace(t):Ne.mergeMultiChainConnectors(Lt.allConnectors)},setFilterByNamespace(t){Lt.filterByNamespace=t,Lt.connectors=Ne.getConnectors(t),Ge.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Lt.activeConnectorIds={...Lt.activeConnectorIds,[e]:t},we.setConnectedConnectorId(e,t))},removeConnectorId(t){Lt.activeConnectorIds={...Lt.activeConnectorIds,[t]:void 0},we.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Lt.activeConnectorIds[t]},isConnected(t){return t?!!Lt.activeConnectorIds[t]:Object.values(Lt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Lt.activeConnectorIds={...l7}}},Ne=oo(fG),dG=1e3,Np={checkNamespaceConnectorId(t,e){return Ne.getConnectorId(t)===e},isSocialProvider(t){return Pt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&Ne.setActiveConnector(e),i?.(ke.isMobile()&&t),n){const l=St.subscribeKey("open",u=>{u||(Xe.state.view!==n&&Xe.replace(n),l(),a(new Error("Modal closed")))})}const c=X.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&St.close(),c(),o(is.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=X.subscribeKey("activeCaipAddress",i=>{i&&(St.close(),n(),e(is.parseCaipAddress(i)))});Te.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=Le.state.socialWindow,o=Le.state.socialProvider,a=!1,c=null;const l=e||X.state.activeChain,u=X.subscribeKey("activeCaipAddress",f=>{f&&(r&&St.close(),u())});return new Promise((f,d)=>{async function h(g){if(g.data?.resultUri)if(g.origin===le.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const y=Ne.getAuthConnector(l);if(y&&!a){s&&(s.close(),Le.setSocialWindow(void 0,l),s=Le.state.socialWindow),a=!0;const w=g.data.resultUri;if(o&&Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){we.setConnectedSocialProvider(o),await Te.connectExternal({id:y.id,type:y.type,socialUri:w},y.chain);const x=X.state.activeCaipAddress;if(!x){d(new Error("Failed to connect"));return}f(is.parseCaipAddress(x)),Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),d(new Error("Failed to connect"))}}else o&&Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function m(){if(t&&(Le.setSocialProvider(t,l),o=Le.state.socialProvider,Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const g=St.subscribeKey("open",w=>{!w&&t==="farcaster"&&(d(new Error("Popup closed")),i?.(),g())}),y=Ne.getAuthConnector();if(y&&!Le.state.farcasterUrl)try{const{url:w}=await y.provider.getFarcasterUri();Le.setFarcasterUrl(w,l)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=Ne.getAuthConnector();c=ke.returnOpenHref(`${le.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:y}=await g.provider.getSocialRedirectUri({provider:o});if(c&&y){Le.setSocialWindow(c,l),s=Le.state.socialWindow,c.location.href=y;const w=setInterval(()=>{s?.closed&&!a&&(d(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",h,!1)}else c?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),c?.close()}}}m()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=St.subscribeKey("open",c=>{c||(Xe.state.view!==e&&Xe.replace(e),a(),s(new Error("Modal closed")))})}const o=X.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&St.close(),o(),i(is.parseCaipAddress(a)))})})},async updateEmail(){const t=we.getConnectedConnectorId(X.state.activeChain),e=Ne.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==le.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await St.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(St.close(),clearInterval(s),o(),n({email:a}))},dG),o=St.subscribeKey("open",a=>{a||(Xe.state.view!=="Connect"&&Xe.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return X.checkIfSmartAccountEnabled()&&Bs(t)===Jn.ACCOUNT_TYPES.EOA}};function u7(){const t=X.state.activeCaipNetwork?.chainNamespace||"eip155",e=X.state.activeCaipNetwork?.id||1,r=Pt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function Bs(t){return X.getAccountData(t)?.preferredAccountType}function sg(t){return t?X.state.chains.get(t)?.networkState?.caipNetwork:X.state.activeCaipNetwork}const I_={getConnectionStatus(t,e){const r=Ne.state.activeConnectorIds[e],n=Te.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!ge.state.remoteFeatures?.multiWallet,r=Ne.state.activeConnectorIds[t],n=Te.getConnections(t),s=(Te.state.recentConnections.get(t)??[]).filter(a=>Ne.getConnectorById(a.connectorId)),o=I_.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},nd=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),xn=vr({...nd}),hG={state:xn,subscribeKey(t,e){return Ji(xn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=ke.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){xn.message=nd.message,xn.variant=nd.variant,xn.svg=nd.svg,xn.open=nd.open,xn.autoClose=nd.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=nd.autoClose}){xn.open?(xn.open=!1,setTimeout(()=>{xn.message=t,xn.variant=r,xn.svg=e,xn.open=!0,xn.autoClose=n},150)):(xn.message=t,xn.variant=r,xn.svg=e,xn.open=!0,xn.autoClose=n)}},Bc=hG,Hr=vr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),pG={state:Hr,subscribe(t){return wi(Hr,()=>t(Hr))},setLastNetworkInView(t){Hr.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Hr.loading=!0;try{const e=await Ye.fetchTransactions({account:t,cursor:Hr.next,chainId:X.state.activeCaipNetwork?.caipNetworkId}),r=u1.filterSpamTransactions(e.data),n=u1.filterByConnectedChain(r),i=[...Hr.transactions,...n];Hr.loading=!1,Hr.transactions=i,Hr.transactionsByYear=u1.groupTransactionsByYearAndMonth(Hr.transactionsByYear,n),Hr.empty=i.length===0,Hr.next=e.next?e.next:void 0}catch{const r=X.state.activeChain;Ut.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:ge.state.projectId,cursor:Hr.next,isSmartAccount:Bs(r)===Jn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Bc.showError("Failed to fetch transactions"),Hr.loading=!1,Hr.empty=!0,Hr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=X.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Hr.next=void 0},resetTransactions(){Hr.transactions=[],Hr.transactionsByYear={},Hr.lastNetworkInView=void 0,Hr.loading=!1,Hr.empty=!1,Hr.next=void 0}},u1=oo(pG,"API_ERROR"),Ft=vr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Gf;const gG={state:Ft,subscribe(t){return wi(Ft,()=>t(Ft))},subscribeKey(t,e){return Ji(Ft,t,e)},_getClient(){return Ft._client},setClient(t){Ft._client=Md(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Te.syncStorageConnections(e)},syncStorageConnections(t){const e=we.getConnections(),r=t??Array.from(X.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(Ft.recentConnections);s.set(n,i),Ft.recentConnections=s}},getConnections(t){return t?Ft.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Te.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=ke.isTelegram()||ke.isSafari()&&ke.isIos();if(t==="always"||t==="auto"&&e){if(Gf){await Gf,Gf=void 0;return}if(!ke.isPairingExpired(Ft?.wcPairingExpiry)){const r=Ft.wcUri;Ft.wcUri=r;return}Gf=Te._getClient()?.connectWalletConnect?.().catch(()=>{}),Te.state.status="connecting",await Gf,Gf=void 0,Ft.wcPairingExpiry=void 0,Te.state.status="connected"}else await Te._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await Te._getClient()?.connectExternal?.(t);return r&&X.setActiveNamespace(e),n},async reconnectExternal(t){await Te._getClient()?.reconnectExternal?.(t);const e=t.chain||X.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;St.setLoading(!0,X.state.activeChain);const r=Ne.getAuthConnector();r&&(Le.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),we.setPreferredAccountTypes(Object.entries(X.state.chains).reduce((n,[i,s])=>{const o=i,a=Bs(o);return a!==void 0&&(n[o]=a),n},{})),await Te.reconnectExternal(r),St.setLoading(!1,X.state.activeChain),Ut.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:X.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return Te._getClient()?.signMessage(t)},parseUnits(t,e){return Te._getClient()?.parseUnits(t,e)},formatUnits(t,e){return Te._getClient()?.formatUnits(t,e)},updateBalance(t){return Te._getClient()?.updateBalance(t)},async sendTransaction(t){return Te._getClient()?.sendTransaction(t)},async getCapabilities(t){return Te._getClient()?.getCapabilities(t)},async grantPermissions(t){return Te._getClient()?.grantPermissions(t)},async walletGetAssets(t){return Te._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return Te._getClient()?.estimateGas(t)},async writeContract(t){return Te._getClient()?.writeContract(t)},async getEnsAddress(t){return Te._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return Te._getClient()?.getEnsAvatar(t)},checkInstalled(t){return Te._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Ft.wcUri=void 0,Ft.wcPairingExpiry=void 0,Ft.wcLinking=void 0,Ft.recentWallet=void 0,Ft.status="disconnected",u1.resetTransactions(),we.deleteWalletConnectDeepLink()},resetUri(){Ft.wcUri=void 0,Ft.wcPairingExpiry=void 0,Gf=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=Te.state;e&&we.setWalletConnectDeepLink(e),r&&we.setAppKitRecent(r),t&&Ut.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Xe.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){Ft.wcBasic=t},setUri(t){Ft.wcUri=t,Ft.wcPairingExpiry=ke.getPairingExpiry()},setWcLinking(t){Ft.wcLinking=t},setWcError(t){Ft.wcError=t,Ft.buffering=!1},setRecentWallet(t){Ft.recentWallet=t},setBuffering(t){Ft.buffering=t},setStatus(t){Ft.status=t},setIsSwitchingConnection(t){Ft.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await Te._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new k0("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(Ft.connections);r.set(e,t),Ft.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=Le.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&Np.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Te.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=Ne.getConnectorById(t.connectorId),i=t.connectorId===le.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await Te.handleAuthAccountSwitch({address:r,namespace:e});else return(await Te.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=Ne.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===le.CONNECTOR_ID.AUTH,a=t.connectorId===le.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&Np.isSocialProvider(s)){const{address:l}=await Np.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){St.open({view:"ConnectingFarcaster"})},onConnect(){Xe.replace("ProfileWallets")}});c=l}else{const{address:l}=await Np.connectEmail({closeModalOnConnect:n,onOpen(){St.open({view:"EmailLogin"})},onConnect(){Xe.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await Np.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";St.state.open?Xe.push(f):St.open({view:f})},onConnect(){Xe.replace("ProfileWallets")}});c=l}else{const l=await Te.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await Te.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=Le.getCaipAddress(r);if(o){const{address:c}=is.parseCaipAddress(o);s=c}const a=I_.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await Te.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Te.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},Te=oo(gG),gh=vr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Xa={state:gh,subscribe(t){return wi(gh,()=>t(gh))},subscribeOpen(t){return Ji(gh,"open",t)},set(t){Object.assign(gh,{...gh,...t})}},mG={async getTokenList(t){return(await Ye.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=X.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await Te?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Ye.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await Ye.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=Te.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await LS.getMyTokensWithBalance(t);return Le.setTokenBalance(e,X.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:u7(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},er=vr({tokenBalances:[],loading:!1}),yG={state:er,subscribe(t){return wi(er,()=>t(er))},subscribeKey(t,e){return Ji(er,t,e)},setToken(t){t&&(er.token=Md(t))},setTokenAmount(t){er.sendTokenAmount=t},setReceiverAddress(t){er.receiverAddress=t},setReceiverProfileImageUrl(t){er.receiverProfileImageUrl=t},setReceiverProfileName(t){er.receiverProfileName=t},setNetworkBalanceInUsd(t){er.networkBalanceInUSD=t},setLoading(t){er.loading=t},async sendToken(){try{switch(Rt.setLoading(!0),X.state.activeCaipNetwork?.chainNamespace){case"eip155":await Rt.sendEvmToken();return;case"solana":await Rt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Rt.setLoading(!1)}},async sendEvmToken(){const t=X.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Bs(t);if(!Rt.state.sendTokenAmount||!Rt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Rt.state.token)throw new Error("A token is required");Rt.state.token?.address?(Ut.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Rt.state.token.address,amount:Rt.state.sendTokenAmount,network:X.state.activeCaipNetwork?.caipNetworkId||""}}),await Rt.sendERC20Token({receiverAddress:Rt.state.receiverAddress,tokenAddress:Rt.state.token.address,sendTokenAmount:Rt.state.sendTokenAmount,decimals:Rt.state.token.quantity.decimals})):(Ut.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Rt.state.token.symbol||"",amount:Rt.state.sendTokenAmount,network:X.state.activeCaipNetwork?.caipNetworkId||""}}),await Rt.sendNativeToken({receiverAddress:Rt.state.receiverAddress,sendTokenAmount:Rt.state.sendTokenAmount,decimals:Rt.state.token.quantity.decimals}))},async fetchTokenBalance(t){er.loading=!0;const e=X.state.activeChain,r=X.state.activeCaipNetwork?.caipNetworkId,n=X.state.activeCaipNetwork?.chainNamespace,i=Le.getCaipAddress(e)??X.state.activeCaipAddress,s=i?ke.getPlainAddress(i):void 0;if(er.lastRetry&&!ke.isAllowedRetry(er.lastRetry,30*Pt.ONE_SEC_MS))return er.loading=!1,[];try{if(s&&r&&n){const o=await LS.getMyTokensWithBalance();return er.tokenBalances=o,er.lastRetry=void 0,o}}catch(o){er.lastRetry=Date.now(),t?.(o),Bc.showError("Token Balance Unavailable")}finally{er.loading=!1}return[]},fetchNetworkBalance(){if(er.tokenBalances.length===0)return;const t=mG.mapBalancesToSwapTokens(er.tokenBalances);if(!t)return;const e=t.find(r=>r.address===u7());e&&(er.networkBalanceInUSD=e?$z.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Xe.pushTransactionStack({});const e=t.receiverAddress,r=Le.state.address,n=Te.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Te.sendTransaction({chainNamespace:le.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),Ut.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Bs("eip155")===Jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Rt.state.token?.symbol||"",amount:t.sendTokenAmount,network:X.state.activeCaipNetwork?.caipNetworkId||""}}),Te._getClient()?.updateBalance("eip155"),Rt.resetSend()},async sendERC20Token(t){Xe.pushTransactionStack({onSuccess(){Xe.replace("Account")}});const e=Te.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Le.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=ke.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Te.writeContract({fromAddress:Le.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:jz.getERC20Abi(r),chainNamespace:le.CHAIN.EVM}),Rt.resetSend()}},async sendSolanaToken(){if(!Rt.state.sendTokenAmount||!Rt.state.receiverAddress)throw new Error("An amount and receiver address are required");Xe.pushTransactionStack({onSuccess(){Xe.replace("Account")}});let t;if(Rt.state.token&&ke.isCaipAddress(Rt.state.token.address)){const[,,e]=Rt.state.token.address.split(":");t=e}await Te.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Rt.state.receiverAddress,value:Rt.state.sendTokenAmount}),Te._getClient()?.updateBalance("solana"),Rt.resetSend()},resetSend(){er.token=void 0,er.sendTokenAmount=void 0,er.receiverAddress=void 0,er.receiverProfileImageUrl=void 0,er.receiverProfileName=void 0,er.loading=!1,er.tokenBalances=[]}},Rt=oo(yG),kE={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},db={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Pe=vr({chains:Iz(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),bG={state:Pe,subscribe(t){return wi(Pe,()=>{t(Pe)})},subscribeKey(t,e){return Ji(Pe,t,e)},subscribeChainProp(t,e,r){let n;return wi(Pe.chains,()=>{const i=r||Pe.activeChain;if(i){const s=Pe.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=we.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=ge.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Pe.noAdapters=!0),Pe.noAdapters||(Pe.activeChain=a?.namespace,Pe.activeCaipNetwork=s,X.setChainNetworkData(a?.namespace,{caipNetwork:s}),Pe.activeChain&&Xa.set({activeChain:a?.namespace})),l.forEach(u=>{const f=e?.filter(m=>m.chainNamespace===u),d=we.getPreferredAccountTypes()||{},h={...ge.state.defaultAccountTypes,...d};X.state.chains.set(u,{namespace:u,networkState:vr({...db,caipNetwork:f?.[0]}),accountState:vr({...kE,preferredAccountType:h[u]}),caipNetworks:f??[],...r}),X.setRequestedCaipNetworks(f??[],u)})},removeAdapter(t){if(Pe.activeChain===t){const e=Array.from(Pe.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&X.setActiveCaipNetwork(r)}}Pe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Pe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...db,caipNetwork:n[0]},accountState:kE,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),X.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Pe.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),Pe.chains.set(t.chainNamespace,{...e,caipNetworks:r}),X.setRequestedCaipNetworks(r,t.chainNamespace),Ne.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=Pe.chains.get(t);if(r){const n=Pe.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&X.setActiveCaipNetwork(r.caipNetworks[0]),Pe.chains.set(t,{...r,caipNetworks:i}),X.setRequestedCaipNetworks(i||[],t),i.length===0&&Ne.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Pe.chains.get(t);r&&(r.networkState={...r.networkState||db,...e},Pe.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Pe.chains.get(t);if(n){const i={...n.accountState||kE,...e};Pe.chains.set(t,{...n,accountState:i}),(Pe.chains.size===1||Pe.activeChain===t)&&(e.caipAddress&&(Pe.activeCaipAddress=e.caipAddress),Le.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Pe.chains.get(t);if(r){const n={...r.networkState||db,...e};Pe.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){X.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){Pe.activeChain=t;const e=t?Pe.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(Pe.activeCaipAddress=e?.accountState?.caipAddress,Pe.activeCaipNetwork=r,X.setChainNetworkData(t,{caipNetwork:r}),we.setActiveCaipNetworkId(r?.caipNetworkId),Xa.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Pe.activeChain!==t.chainNamespace&&X.setIsSwitchingNamespace(!0);const e=Pe.chains.get(t.chainNamespace);Pe.activeChain=t.chainNamespace,Pe.activeCaipNetwork=t,X.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Pe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Pe.activeCaipAddress=void 0,X.setAccountProp("caipAddress",Pe.activeCaipAddress,t.chainNamespace),e&&Le.replaceState(e.accountState),Rt.resetSend(),Xa.set({activeChain:Pe.activeChain,selectedNetworkId:Pe.activeCaipNetwork?.caipNetworkId}),we.setActiveCaipNetworkId(t.caipNetworkId),!X.checkIfSupportedNetwork(t.chainNamespace)&&ge.state.enableNetworkSwitch&&!ge.state.allowUnsupportedChain&&!Te.state.wcBasic&&X.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Pe.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==X.state.activeChain,r=X.getNetworkData(t)?.caipNetwork,n=X.getCaipNetworkByNamespace(t,r?.id);e&&n&&await X.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=X.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!X.state.chains.get(e)?.caipNetworks?.some(s=>s.id===Pe.activeCaipNetwork?.id),i=X.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&St.close()}catch{Xe.goBack()}Ut.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Pe.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=Pe.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Pe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Pe.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=Pe.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Pe.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return ke.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Pe.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=X.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){X.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=X.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));Ne.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Pe.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=X.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?Pe.chains.get(t)?.networkState?.caipNetwork:Pe.activeCaipNetwork},getActiveCaipAddress(){return Pe.activeCaipAddress},getApprovedCaipNetworkIds(t){return Pe.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await X.getNetworkControllerClient()?.getApprovedCaipNetworksData();X.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Pe.activeCaipNetwork?.caipNetworkId,n=X.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return Pe.activeChain?X.getRequestedCaipNetworks(Pe.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){X.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=n7.caipNetworkIdToNumber(Pe.activeCaipNetwork?.caipNetworkId),e=Pe.activeChain;return!e||!t?!1:!!X.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){St.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Pe.activeCaipNetwork;return!!(t?.chainNamespace&&Pt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){X.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=X.state.chains.get(e)?.accountState?.preferredAccountType,n=ge.state.defaultAccountTypes[e];Pe.activeCaipAddress=void 0,X.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(t){Pe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Pe.chains.forEach(r=>{le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?Pe.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Pe.activeChain;if(e)return X.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Pe.activeChain;if(e)return X.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=X.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[Pe.chains.get(t)]:Array.from(Pe.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?X.getRequestedCaipNetworks(t):X.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Pe.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Pe.lastConnectedSIWECaipNetwork}},X=oo(bG),_G={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},f7=ke.getBlockchainApiUrl(),ps=vr({clientId:null,api:new Oy({baseUrl:f7,clientId:null}),supportedChains:{http:[],ws:[]}}),Ye={state:ps,async get(t){const{st:e,sv:r}=Ye.getSdkProperties(),n=ge.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return ps.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=ge.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ps.supportedChains.http.length||await Ye.getSupportedNetworks()}catch{return!1}return ps.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ye.get({path:"v1/supported-chains"});return ps.supportedChains=t,t}catch{return ps.supportedChains}},async fetchIdentity({address:t}){const e=we.getIdentityFromCacheForAddress(t);if(e)return e;const r=await Ye.get({path:`/v1/identity/${t}`,params:{sender:X.state.activeCaipAddress?ke.getPlainAddress(X.state.activeCaipAddress):void 0}});return we.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=we.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Ye.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return we.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=we.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await ps.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:ge.state.projectId},headers:{"Content-Type":"application/json"}});return we.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ye.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ps.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Pt.CONVERT_SLIPPAGE_TOLERANCE},projectId:ge.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ye.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))return Bc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=we.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ye.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return we.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:`/v1/profile/reverse/${t}`,params:{sender:Le.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?ps.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?(await ps.api.post({path:"/v1/generators/onrampurl",params:{projectId:ge.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ye.get({path:"/v1/onramp/options"})}catch{return _G}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?await ps.api.post({path:"/v1/onramp/quote",params:{projectId:ge.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?Ye.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await Ye.isNetworkSupported(X.state.activeCaipNetwork?.caipNetworkId)?ps.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:ge.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ps.clientId=t,ps.api=new Oy({baseUrl:f7,clientId:t})}};function wG(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function HT(t){return wG(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const d7="2.37.13";let ME={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${d7}`},gc=class rC extends Error{constructor(e,r={}){const n=r.cause instanceof rC?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof rC&&r.cause.docsPath||r.docsPath,s=ME.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...ME.version?[`Version: ${ME.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=d7}walk(e){return h7(this,e)}};function h7(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?h7(t.cause,e):e?null:t}class y$e extends gc{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let p7=class extends gc{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function kS(t,{dir:e,size:r=32}={}){return typeof t=="string"?vG(t,{dir:e,size:r}):EG(t,{dir:e,size:r})}function vG(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new p7({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function EG(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new p7({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let AG=class extends gc{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},xG=class extends gc{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function g7(t,{size:e}){if(HT(t)>e)throw new xG({givenSize:HT(t),maxSize:e})}const CG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qT(t,e={}){return typeof t=="number"||typeof t=="bigint"?SG(t,e):typeof t=="string"?y7(t,e):typeof t=="boolean"?NG(t,e):m7(t,e)}function NG(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(g7(r,{size:e.size}),kS(r,{size:e.size})):r}function m7(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=CG[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(g7(n,{size:e.size}),kS(n,{dir:"right",size:e.size})):n}function SG(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new AG({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?kS(a,{size:n}):a}const IG=new TextEncoder;function y7(t,e={}){const r=IG.encode(t);return m7(r,e)}const hb=BigInt(2**32-1),WT=BigInt(32);function TG(t,e=!1){return e?{h:Number(t&hb),l:Number(t>>WT&hb)}:{h:Number(t>>WT&hb)|0,l:Number(t&hb)|0}}function RG(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=TG(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const PG=(t,e,r)=>t<<r|e>>>32-r,OG=(t,e,r)=>e<<r|t>>>32-r,DG=(t,e,r)=>e<<r-32|t>>>64-r,kG=(t,e,r)=>t<<r-32|e>>>64-r,mh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MG(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function T_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function U0(t,...e){if(!MG(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function v$e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");T_(t.outputLen),T_(t.blockLen)}function zT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UG(t,e){U0(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function $G(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function b7(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function E$e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function A$e(t,e){return t<<32-e|t>>>e}const LG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FG(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function BG(t){for(let e=0;e<t.length;e++)t[e]=FG(t[e]);return t}const GT=LG?t=>t:BG,jG=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",HG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x$e(t){if(U0(t),jG)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=HG[t[r]];return e}function qG(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _7(t){return typeof t=="string"&&(t=qG(t)),U0(t),t}function C$e(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];U0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class WG{}function zG(t){const e=n=>t().update(_7(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function N$e(t=32){if(mh&&typeof mh.getRandomValues=="function")return mh.getRandomValues(new Uint8Array(t));if(mh&&typeof mh.randomBytes=="function")return Uint8Array.from(mh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const GG=BigInt(0),Sp=BigInt(1),VG=BigInt(2),KG=BigInt(7),JG=BigInt(256),YG=BigInt(113),w7=[],v7=[],E7=[];for(let t=0,e=Sp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],w7.push(2*(5*n+r)),v7.push((t+1)*(t+2)/2%64);let i=GG;for(let s=0;s<7;s++)e=(e<<Sp^(e>>KG)*YG)%JG,e&VG&&(i^=Sp<<(Sp<<BigInt(s))-Sp);E7.push(i)}const A7=RG(E7,!0),XG=A7[0],QG=A7[1],VT=(t,e,r)=>r>32?DG(t,e,r):PG(t,e,r),KT=(t,e,r)=>r>32?kG(t,e,r):OG(t,e,r);function ZG(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=VT(l,u,1)^r[a],d=KT(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=v7[o],c=VT(i,s,a),l=KT(i,s,a),u=w7[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=XG[n],t[1]^=QG[n]}b7(r)}class MS extends WG{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,T_(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=$G(this.state)}clone(){return this._cloneInto()}keccak(){GT(this.state32),ZG(this.state32,this.rounds),GT(this.state32),this.posOut=0,this.pos=0}update(e){zT(this),e=_7(e),U0(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zT(this,!1),U0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return T_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(UG(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,b7(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new MS(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const eV=(t,e,r)=>zG(()=>new MS(e,t,r)),tV=eV(1,136,256/8);let rV=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Cd=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function nV(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const US=t=>t;class Ng extends gc{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${US(o)}`,e&&`Request body: ${Cd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class x7 extends gc{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${US(n)}`,`Request body: ${Cd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class JT extends gc{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${US(r)}`,`Request body: ${Cd(e)}`],name:"TimeoutError"})}}const iV=-1;class js extends gc{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof x7?e.code:r??iV}}class ao extends js{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class um extends js{constructor(e){super(e,{code:um.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class fm extends js{constructor(e){super(e,{code:fm.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class dm extends js{constructor(e,{method:r}={}){super(e,{code:dm.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class hm extends js{constructor(e){super(e,{code:hm.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(hm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class $0 extends js{constructor(e){super(e,{code:$0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty($0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class pm extends js{constructor(e){super(e,{code:pm.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class gm extends js{constructor(e){super(e,{code:gm.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(gm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class mm extends js{constructor(e){super(e,{code:mm.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(mm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class L0 extends js{constructor(e){super(e,{code:L0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(L0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class gd extends js{constructor(e,{method:r}={}){super(e,{code:gd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class F0 extends js{constructor(e){super(e,{code:F0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(F0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ym extends js{constructor(e){super(e,{code:ym.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(ym,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Nd extends ao{constructor(e){super(e,{code:Nd.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Nd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class bm extends ao{constructor(e){super(e,{code:bm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(bm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _m extends ao{constructor(e,{method:r}={}){super(e,{code:_m.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(_m,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class wm extends ao{constructor(e){super(e,{code:wm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(wm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class vm extends ao{constructor(e){super(e,{code:vm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(vm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Em extends ao{constructor(e){super(e,{code:Em.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Am extends ao{constructor(e){super(e,{code:Am.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class xm extends ao{constructor(e){super(e,{code:xm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(xm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Cm extends ao{constructor(e){super(e,{code:Cm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Nm extends ao{constructor(e){super(e,{code:Nm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Sm extends ao{constructor(e){super(e,{code:Sm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Im extends ao{constructor(e){super(e,{code:Im.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Im,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Tm extends ao{constructor(e){super(e,{code:Tm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class sV extends js{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const oV="modulepreload",aV=function(t,e){return new URL(t,e).href},YT={},ei=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(r.map(u=>{if(u=aV(u,n),u in YT)return;YT[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(n)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===u&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":oV,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class $S extends gc{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty($S,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($S,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function cV(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const UE=new Map;function lV({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let h=0;h<u.length;h++){const{resolve:m}=u[h];m?.([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:m}=u[h];m?.(d)}})},o=()=>UE.delete(e),a=()=>c().map(({args:u})=>u),c=()=>UE.get(e)||[],l=u=>UE.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=cV();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(s,n),f)}}}async function C7(t){return new Promise(e=>setTimeout(e,t))}function uV(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await C7(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const nC=256;let pb=nC,gb;function fV(t=11){if(!gb||pb+t>nC*2){gb="",pb=0;for(let e=0;e<nC;e++)gb+=(256+Math.random()*256|0).toString(16).substring(1)}return gb.substring(pb,pb+++t)}const mb=new rV(8192);function dV(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(mb.get(r))return mb.get(r);const n=t().finally(()=>mb.delete(r));return mb.set(r,n),n}function hV(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new gd(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new gd(new Error("method not supported"),{method:l});const u=i?y7(`${c}.${Cd(r)}`):void 0;return dV(()=>uV(async()=>{try{return await t(r)}catch(f){const d=f;switch(d.code){case um.code:throw new um(d);case fm.code:throw new fm(d);case dm.code:throw new dm(d,{method:r.method});case hm.code:throw new hm(d);case $0.code:throw new $0(d);case pm.code:throw new pm(d);case gm.code:throw new gm(d);case mm.code:throw new mm(d);case L0.code:throw new L0(d);case gd.code:throw new gd(d,{method:r.method});case F0.code:throw new F0(d);case ym.code:throw new ym(d);case Nd.code:throw new Nd(d);case bm.code:throw new bm(d);case _m.code:throw new _m(d);case wm.code:throw new wm(d);case vm.code:throw new vm(d);case Em.code:throw new Em(d);case Am.code:throw new Am(d);case xm.code:throw new xm(d);case Cm.code:throw new Cm(d);case Nm.code:throw new Nm(d);case Sm.code:throw new Sm(d);case Im.code:throw new Im(d);case Tm.code:throw new Tm(d);case 5e3:throw new Nd(d);default:throw f instanceof gc?f:new sV(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof Ng){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>pV(f)}),{enabled:i,id:u})}}function pV(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===F0.code||t.code===$0.code:t instanceof Ng&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function gV(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function mV(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const XT=mV();function yV(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const d=await gV(async({signal:m})=>{const g={...c,body:Array.isArray(n)?Cd(n.map(S=>({jsonrpc:"2.0",id:S.id??XT.take(),...S}))):Cd({jsonrpc:"2.0",id:n.id??XT.take(),...n}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?m:null)},y=new Request(t,g),w=await s?.(y,g)??{...g,url:t};return await i(w.url??t,w)},{errorInstance:new JT({body:n,url:t}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(m){if(d.ok)throw m;h={error:h}}}if(!d.ok)throw new Ng({body:n,details:Cd(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof Ng||d instanceof JT?d:new Ng({body:n,cause:d,url:t})}}}}function N7({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=fV();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:hV(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function QT(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=bV,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=t,h=()=>{};const m=N7({key:r,name:n,async request({method:g,params:y}){let w;const x=async(S=0)=>{const R=d[S]({...f,chain:c,retryCount:0,timeout:u});try{const D=await R.request({method:g,params:y});return h({method:g,params:y,response:D,transport:R,status:"success"}),D}catch(D){if(h({error:D,method:g,params:y,transport:R,status:"error"}),s(D)||S===d.length-1||(w??=d.slice(S+1).some(P=>{const{include:F,exclude:E}=P({chain:c}).config.methods||{};return F?F.includes(g):E?!E.includes(g):!0}),!w))throw D;return x(S+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};_V({chain:c,interval:g.interval??l,onTransports:y=>d=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return m})}function bV(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===L0.code||t.code===Nd.code||$S.nodeMessage.test(t.message)||t.code===5e3))}function _V({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:s}),w=Date.now();let x,S;try{await(n?n({transport:y}):y.request({method:"net_listening"})),S=1}catch{S=0}finally{x=Date.now()}return{latency:x-w,success:S}}));u.push(d),u.length>i&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),m=o.map((g,y)=>{const w=u.map(P=>P[y].latency),S=1-w.reduce((P,F)=>P+F,0)/w.length/h,R=u.map(P=>P[y].success),D=R.reduce((P,F)=>P+F,0)/R.length;return D===0?[0,y]:[l*S+c*D,y]}).sort((g,y)=>y[0]-g[0]);r(m.map(([,g])=>o[g])),await C7(e),f()};f()}class wV extends gc{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function yb(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:y=0}=typeof r=="object"?r:{},w=e.retryCount??h,x=m??e.timeout??1e4,S=t||d?.rpcUrls.default.http[0];if(!S)throw new wV;const R=yV(S,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:x});return N7({key:s,methods:o,name:a,async request({method:D,params:P}){const F={method:D,params:P},{schedule:E}=lV({id:S,wait:y,shouldSplitBatch(I){return I.length>g},fn:I=>R.request({body:I}),sort:(I,C)=>I.id-C.id}),v=async I=>r?E(I):[await R.request({body:I})],[{error:M,result:U}]=await v(F);if(f)return{error:M,result:U};if(M)throw new x7({body:F,error:M,url:S});return U},retryCount:w,retryDelay:u,timeout:x,type:"http"},{fetchOptions:i,url:S})}}const $E={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return nV(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},LS={async getMyTokensWithBalance(t){const e=Le.state.address,r=X.state.activeCaipNetwork,n=Ne.getConnectorId("eip155")===le.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=we.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===le.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await Ye.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=$E.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await Te.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await Te.walletGetAssets({account:t,chainFilter:[r]});if(!$E.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>$E.createBalance(a,e.caipNetworkId));return we.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},wc=vr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),vV={state:wc,replaceState(t){t&&Object.assign(wc,Md(t))},subscribe(t){return X.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return X.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){X.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return X.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?ke.getPlainAddress(t):void 0;e===X.state.activeChain&&(X.state.activeCaipAddress=t),X.setAccountProp("caipAddress",t,e),X.setAccountProp("address",r,e)},setBalance(t,e,r){X.setAccountProp("balance",t,r),X.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){X.setAccountProp("profileName",t,e)},setProfileImage(t,e){X.setAccountProp("profileImage",t,e)},setUser(t,e){X.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){X.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){X.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){X.setAccountProp("currentTab",t,X.state.activeChain)},setTokenBalance(t,e){t&&X.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){X.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=X.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),X.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=X.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),X.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){X.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){X.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&X.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){X.setAccountProp("socialWindow",t?Md(t):void 0,e)},setFarcasterUrl(t,e){X.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){wc.balanceLoading=!0;const e=X.state.activeCaipNetwork?.caipNetworkId,r=X.state.activeCaipNetwork?.chainNamespace,n=X.state.activeCaipAddress,i=n?ke.getPlainAddress(n):void 0;if(wc.lastRetry&&!ke.isAllowedRetry(wc.lastRetry,30*Pt.ONE_SEC_MS))return wc.balanceLoading=!1,[];try{if(i&&e&&r){const s=await LS.getMyTokensWithBalance();return Le.setTokenBalance(s,r),wc.lastRetry=void 0,wc.balanceLoading=!1,s}}catch(s){wc.lastRetry=Date.now(),t?.(s),Bc.showError("Token Balance Unavailable")}finally{wc.balanceLoading=!1}return[]},resetAccount(t){X.resetAccount(t)}},Le=oo(vV),EV={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=X.state.activeCaipNetwork,n=Xe.state.data;if(t.id===r?.id)return;const s=Le.getCaipAddress(X.state.activeChain),o=t.chainNamespace!==X.state.activeChain,a=Le.getCaipAddress(t.chainNamespace),l=Ne.getConnectorId(X.state.activeChain)===le.CONNECTOR_ID.AUTH,u=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||l&&u?Xe.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?Xe.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Xe.push("SwitchNetwork",{...n,network:t})}},gs=vr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),AV={state:gs,subscribe(t){return wi(gs,()=>t(gs))},subscribeKey(t,e){return Ji(gs,t,e)},async open(t){const e=t?.namespace,r=X.state.activeChain,n=e&&e!==r,i=X.getAccountData(t?.namespace)?.caipAddress,s=X.state.noAdapters;if(Te.state.wcBasic?Ge.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ge.prefetch(),Ne.setFilterByNamespace(t?.namespace),St.setLoading(!0,e),e&&n){const o=X.getNetworkData(e)?.caipNetwork||X.getRequestedCaipNetworks(e)[0];o&&(s?(await X.switchActiveNetwork(o),Xe.push("ConnectingWalletConnectBasic")):EV.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else ge.state.manualWCControl||s&&!i?ke.isMobile()?Xe.reset("AllWallets"):Xe.reset("ConnectingWalletConnectBasic"):t?.view?Xe.reset(t.view,t.data):i?Xe.reset("Account"):Xe.reset("Connect");gs.open=!0,Xa.set({open:!0}),Ut.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=ge.state.enableEmbedded,e=!!X.state.activeCaipAddress;gs.open&&Ut.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),gs.open=!1,Xe.reset("Connect"),St.clearLoading(),t?e?Xe.replace("Account"):Xe.push("Connect"):Xa.set({open:!1}),Te.resetUri()},setLoading(t,e){e&&gs.loadingNamespaceMap.set(e,t),gs.loading=t,Xa.set({loading:t})},clearLoading(){gs.loadingNamespaceMap.clear(),gs.loading=!1,Xa.set({loading:!1})},shake(){gs.shake||(gs.shake=!0,setTimeout(()=>{gs.shake=!1},500))}},St=oo(AV),Sg={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},iC={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},xV={providers:a7,selectedProvider:null,error:null,purchaseCurrency:Sg,paymentCurrency:iC,purchaseCurrencies:[Sg],paymentCurrencies:[],quotesLoading:!1},kt=vr(xV),CV={state:kt,subscribe(t){return wi(kt,()=>t(kt))},subscribeKey(t,e){return Ji(kt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=X.state.activeChain,r=e===le.CHAIN.SOLANA?"SOL":"USDC",n=e?X.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",Hz),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",ge.state.projectId),kt.selectedProvider={...t,url:i.toString()}}else kt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=a7.filter(n=>e.includes(n.name));kt.providers=r}else kt.providers=[]},setPurchaseCurrency(t){kt.purchaseCurrency=t},setPaymentCurrency(t){kt.paymentCurrency=t},setPurchaseAmount(t){sC.state.purchaseAmount=t},setPaymentAmount(t){sC.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ye.getOnrampOptions();kt.purchaseCurrencies=t.purchaseCurrencies,kt.paymentCurrencies=t.paymentCurrencies,kt.paymentCurrency=t.paymentCurrencies[0]||iC,kt.purchaseCurrency=t.purchaseCurrencies[0]||Sg,await Ge.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ge.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){kt.quotesLoading=!0;try{const t=await Ye.getOnrampQuote({purchaseCurrency:kt.purchaseCurrency,paymentCurrency:kt.paymentCurrency,amount:kt.paymentAmount?.toString()||"0",network:kt.purchaseCurrency?.symbol});return kt.quotesLoading=!1,kt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return kt.error=t.message,kt.quotesLoading=!1,null}finally{kt.quotesLoading=!1}},resetState(){kt.selectedProvider=null,kt.error=null,kt.purchaseCurrency=Sg,kt.paymentCurrency=iC,kt.purchaseCurrencies=[Sg],kt.paymentCurrencies=[],kt.paymentAmount=void 0,kt.purchaseAmount=void 0,kt.quotesLoading=!1}},sC=oo(CV),ZT=2147483648,NV={convertEVMChainIdToCoinType(t){if(t>=ZT)throw new Error("Invalid chainId");return(ZT|t)>>>0}},go=vr({suggestions:[],loading:!1}),SV={state:go,subscribe(t){return wi(go,()=>t(go))},subscribeKey(t,e){return Ji(go,t,e)},async resolveName(t){try{return await Ye.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Ye.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{go.loading=!0,go.suggestions=[];const e=await Ye.getEnsNameSuggestions(t);return go.suggestions=e.suggestions||[],go.suggestions}catch(e){const r=Ig.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{go.loading=!1}},async getNamesForAddress(t){try{if(!X.state.activeCaipNetwork)return[];const r=we.getEnsFromCacheForAddress(t);if(r)return r;const n=await Ye.reverseLookupEnsName({address:t});return we.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=Ig.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=X.state.activeCaipNetwork,r=Le.state.address,n=Ne.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");go.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Xe.pushTransactionStack({onCancel(){Xe.replace("RegisterAccountName")}});const s=await Te.signMessage(i);go.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=NV.convertEVMChainIdToCoinType(Number(o));await Ye.registerEnsName({coinType:a,address:r,signature:s,message:i}),Le.setProfileName(t,e.chainNamespace),we.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Xe.replace("RegisterAccountNameSuccess")}catch(i){const s=Ig.parseEnsApiError(i,`Error registering name ${t}`);throw Xe.replace("RegisterAccountName"),new Error(s)}finally{go.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},Ig=oo(SV);var bb={exports:{}},eR;function IV(){if(eR)return bb.exports;eR=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(D,P,F){return Function.prototype.apply.call(D,P,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:r=function(D){return Object.getOwnPropertyNames(D)};function n(R){console&&console.warn&&console.warn(R)}var i=Number.isNaN||function(D){return D!==D};function s(){s.init.call(this)}bb.exports=s,bb.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(R){if(typeof R!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");o=R}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function c(R){return R._maxListeners===void 0?s.defaultMaxListeners:R._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(D){for(var P=[],F=1;F<arguments.length;F++)P.push(arguments[F]);var E=D==="error",v=this._events;if(v!==void 0)E=E&&v.error===void 0;else if(!E)return!1;if(E){var M;if(P.length>0&&(M=P[0]),M instanceof Error)throw M;var U=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw U.context=M,U}var I=v[D];if(I===void 0)return!1;if(typeof I=="function")e(I,this,P);else for(var C=I.length,p=m(I,C),F=0;F<C;++F)e(p[F],this,P);return!0};function l(R,D,P,F){var E,v,M;if(a(P),v=R._events,v===void 0?(v=R._events=Object.create(null),R._eventsCount=0):(v.newListener!==void 0&&(R.emit("newListener",D,P.listener?P.listener:P),v=R._events),M=v[D]),M===void 0)M=v[D]=P,++R._eventsCount;else if(typeof M=="function"?M=v[D]=F?[P,M]:[M,P]:F?M.unshift(P):M.push(P),E=c(R),E>0&&M.length>E&&!M.warned){M.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=R,U.type=D,U.count=M.length,n(U)}return R}s.prototype.addListener=function(D,P){return l(this,D,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(D,P){return l(this,D,P,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(R,D,P){var F={fired:!1,wrapFn:void 0,target:R,type:D,listener:P},E=u.bind(F);return E.listener=P,F.wrapFn=E,E}s.prototype.once=function(D,P){return a(P),this.on(D,f(this,D,P)),this},s.prototype.prependOnceListener=function(D,P){return a(P),this.prependListener(D,f(this,D,P)),this},s.prototype.removeListener=function(D,P){var F,E,v,M,U;if(a(P),E=this._events,E===void 0)return this;if(F=E[D],F===void 0)return this;if(F===P||F.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete E[D],E.removeListener&&this.emit("removeListener",D,F.listener||P));else if(typeof F!="function"){for(v=-1,M=F.length-1;M>=0;M--)if(F[M]===P||F[M].listener===P){U=F[M].listener,v=M;break}if(v<0)return this;v===0?F.shift():g(F,v),F.length===1&&(E[D]=F[0]),E.removeListener!==void 0&&this.emit("removeListener",D,U||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(D){var P,F,E;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[D]),this;if(arguments.length===0){var v=Object.keys(F),M;for(E=0;E<v.length;++E)M=v[E],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=F[D],typeof P=="function")this.removeListener(D,P);else if(P!==void 0)for(E=P.length-1;E>=0;E--)this.removeListener(D,P[E]);return this};function d(R,D,P){var F=R._events;if(F===void 0)return[];var E=F[D];return E===void 0?[]:typeof E=="function"?P?[E.listener||E]:[E]:P?y(E):m(E,E.length)}s.prototype.listeners=function(D){return d(this,D,!0)},s.prototype.rawListeners=function(D){return d(this,D,!1)},s.listenerCount=function(R,D){return typeof R.listenerCount=="function"?R.listenerCount(D):h.call(R,D)},s.prototype.listenerCount=h;function h(R){var D=this._events;if(D!==void 0){var P=D[R];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(R,D){for(var P=new Array(D),F=0;F<D;++F)P[F]=R[F];return P}function g(R,D){for(;D+1<R.length;D++)R[D]=R[D+1];R.pop()}function y(R){for(var D=new Array(R.length),P=0;P<D.length;++P)D[P]=R[P].listener||R[P];return D}function w(R,D){return new Promise(function(P,F){function E(M){R.removeListener(D,v),F(M)}function v(){typeof R.removeListener=="function"&&R.removeListener("error",E),P([].slice.call(arguments))}S(R,D,v,{once:!0}),D!=="error"&&x(R,E,{once:!0})})}function x(R,D,P){typeof R.on=="function"&&S(R,"error",D,P)}function S(R,D,P,F){if(typeof R.on=="function")F.once?R.once(D,P):R.on(D,P);else if(typeof R.addEventListener=="function")R.addEventListener(D,function E(v){F.once&&R.removeEventListener(D,E),P(v)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R)}return bb.exports}var Qo=IV();const FS=Yi(Qo);var LE={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oC=function(t,e){return oC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oC(t,e)};function TV(t,e){oC(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aC=function(){return aC=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aC.apply(this,arguments)};function RV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function PV(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function OV(t,e){return function(r,n){e(r,n,t)}}function DV(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function kV(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function MV(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function UV(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function $V(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function cC(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function S7(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function LV(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(S7(arguments[e]));return t}function FV(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Rm(t){return this instanceof Rm?(this.v=t,this):new Rm(t)}function BV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(m,g){s.push([d,h,m,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(m){f(s[0][3],m)}}function c(d){d.value instanceof Rm?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function jV(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Rm(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function HV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof cC=="function"?cC(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function qV(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function WV(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function zV(t){return t&&t.__esModule?t:{default:t}}function GV(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function VV(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const KV=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return aC},__asyncDelegator:jV,__asyncGenerator:BV,__asyncValues:HV,__await:Rm,__awaiter:kV,__classPrivateFieldGet:GV,__classPrivateFieldSet:VV,__createBinding:UV,__decorate:PV,__exportStar:$V,__extends:TV,__generator:MV,__importDefault:zV,__importStar:WV,__makeTemplateObject:qV,__metadata:DV,__param:OV,__read:S7,__rest:RV,__spread:LV,__spreadArrays:FV,__values:cC},Symbol.toStringTag,{value:"Module"})),Dy=en(KV);var FE={},Ip={},tR;function JV(){if(tR)return Ip;tR=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Ip.delay=t,Ip}var Vf={},BE={},Kf={},rR;function YV(){return rR||(rR=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.ONE_THOUSAND=Kf.ONE_HUNDRED=void 0,Kf.ONE_HUNDRED=100,Kf.ONE_THOUSAND=1e3),Kf}var jE={},nR;function XV(){return nR||(nR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(jE)),jE}var iR;function I7(){return iR||(iR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dy;e.__exportStar(YV(),t),e.__exportStar(XV(),t)})(BE)),BE}var sR;function QV(){if(sR)return Vf;sR=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.fromMiliseconds=Vf.toMiliseconds=void 0;const t=I7();function e(n){return n*t.ONE_THOUSAND}Vf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Vf.fromMiliseconds=r,Vf}var oR;function ZV(){return oR||(oR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dy;e.__exportStar(JV(),t),e.__exportStar(QV(),t)})(FE)),FE}var yh={},aR;function eK(){if(aR)return yh;aR=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return yh.Watch=t,yh.default=t,yh}var HE={},Tp={},cR;function tK(){if(cR)return Tp;cR=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.IWatch=void 0;class t{}return Tp.IWatch=t,Tp}var lR;function rK(){return lR||(lR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Dy.__exportStar(tK(),t)})(HE)),HE}var uR;function nK(){return uR||(uR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dy;e.__exportStar(ZV(),t),e.__exportStar(eK(),t),e.__exportStar(rK(),t),e.__exportStar(I7(),t)})(LE)),LE}var Ie=nK();class th{}let iK=class extends th{constructor(e){super()}};const fR=Ie.FIVE_SECONDS,rh={pulse:"heartbeat_pulse"};let sK=class T7 extends iK{constructor(e){super(e),this.events=new Qo.EventEmitter,this.interval=fR,this.interval=e?.interval||fR}static async init(e){const r=new T7(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ie.toMiliseconds(this.interval))}pulse(){this.events.emit(rh.pulse)}};const oK=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,aK=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,cK=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function lK(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){uK(t);return}return e}function uK(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function _b(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!cK.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(oK.test(t)||aK.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,lK)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function fK(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Zn(t,...e){try{return fK(t(...e))}catch(r){return Promise.reject(r)}}function dK(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function hK(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function f1(t){if(dK(t))return String(t);if(hK(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return f1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const lC="base64:";function pK(t){return typeof t=="string"?t:lC+yK(t)}function gK(t){return typeof t!="string"||!t.startsWith(lC)?t:mK(t.slice(lC.length))}function mK(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function yK(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ns(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function bK(...t){return Ns(t.join(":"))}function wb(t){return t=Ns(t),t?t+":":""}function _K(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function wK(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const vK="memory",EK=()=>{const t=new Map;return{name:vK,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function AK(t={}){const e={mounts:{"":t.driver||EK()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=Ns(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await dR(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,h=m=>{let g=d.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},d.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",y=Ns(g?m:m.key),w=g?void 0:m.value,x=g||!m.options?u:{...u,...m.options},S=r(y);h(S).items.push({key:y,value:w,relativeKey:S.relativeKey,options:x})}return Promise.all([...d.values()].map(m=>f(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=Ns(l);const{relativeKey:f,driver:d}=r(l);return Zn(d.hasItem,f,u)},getItem(l,u={}){l=Ns(l);const{relativeKey:f,driver:d}=r(l);return Zn(d.getItem,f,u).then(h=>_b(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?Zn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:bK(f.base,h.key),value:_b(h.value)}))):Promise.all(f.items.map(d=>Zn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:_b(h)})))))},getItemRaw(l,u={}){l=Ns(l);const{relativeKey:f,driver:d}=r(l);return d.getItemRaw?Zn(d.getItemRaw,f,u):Zn(d.getItem,f,u).then(h=>gK(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=Ns(l);const{relativeKey:d,driver:h}=r(l);h.setItem&&(await Zn(h.setItem,d,f1(u),f),h.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return Zn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:f1(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>Zn(f.driver.setItem,d.relativeKey,f1(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=Ns(l);const{relativeKey:d,driver:h}=r(l);if(h.setItemRaw)await Zn(h.setItemRaw,d,u,f);else if(h.setItem)await Zn(h.setItem,d,pK(u),f);else return;h.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Ns(l);const{relativeKey:f,driver:d}=r(l);d.removeItem&&(await Zn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await Zn(d.removeItem,f+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Ns(l);const{relativeKey:f,driver:d}=r(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await Zn(d.getMeta,f,u)),!u.nativeOnly){const m=await Zn(d.getItem,f+"$",u).then(g=>_b(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(h,m))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=wb(l);const f=n(l,!0);let d=[];const h=[];let m=!0;for(const y of f){y.driver.flags?.maxDepth||(m=!1);const w=await Zn(y.driver.getKeys,y.relativeBase,u);for(const x of w){const S=y.mountpoint+Ns(x);d.some(R=>S.startsWith(R))||h.push(S)}d=[y.mountpoint,...d.filter(x=>!x.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return h.filter(y=>(!g||_K(y,u.maxDepth))&&wK(y,l))},async clear(l,u={}){l=wb(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return Zn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>hR(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=wb(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(dR(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=wb(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await hR(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Ns(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Ns(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function dR(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function hR(t){typeof t.dispose=="function"&&await Zn(t.dispose)}function nh(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function R7(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=nh(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let qE;function ky(){return qE||(qE=R7("keyval-store","keyval")),qE}function pR(t,e=ky()){return e("readonly",r=>nh(r.get(t)))}function xK(t,e,r=ky()){return r("readwrite",n=>(n.put(e,t),nh(n.transaction)))}function CK(t,e=ky()){return e("readwrite",r=>(r.delete(t),nh(r.transaction)))}function NK(t=ky()){return t("readwrite",e=>(e.clear(),nh(e.transaction)))}function SK(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},nh(t.transaction)}function IK(t=ky()){return t("readonly",e=>{if(e.getAllKeys)return nh(e.getAllKeys());const r=[];return SK(e,n=>r.push(n.key)).then(()=>r)})}const TK=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),RK=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function $d(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return RK(t)}catch{return t}}function Zl(t){return typeof t=="string"?t:TK(t)||""}const PK="idb-keyval";var OK=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=R7(t.dbName,t.storeName)),{name:PK,options:t,async hasItem(i){return!(typeof await pR(r(i),n)>"u")},async getItem(i){return await pR(r(i),n)??null},setItem(i,s){return xK(r(i),s,n)},removeItem(i){return CK(r(i),n)},getKeys(){return IK(n)},clear(){return NK(n)}}};const DK="WALLET_CONNECT_V2_INDEXED_DB",kK="keyvaluestorage";let MK=class{constructor(){this.indexedDb=AK({driver:OK({dbName:DK,storeName:kK})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Zl(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},d1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof WE<"u"&&WE.localStorage?d1.exports=WE.localStorage:typeof window<"u"&&window.localStorage?d1.exports=window.localStorage:d1.exports=new e})();function UK(t){var e;return[t[0],$d((e=t[1])!=null?e:"")]}let $K=class{constructor(){this.localStorage=d1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(UK)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return $d(r)}async setItem(e,r){this.localStorage.setItem(e,Zl(r))}async removeItem(e){this.localStorage.removeItem(e)}};const LK="wc_storage_version",gR=1,FK=async(t,e,r)=>{const n=LK,i=await e.getItem(n);if(i&&i>=gR){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,gR),r(e),BK(t,o)},BK=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let jK=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new $K;this.storage=e;try{const r=new MK;FK(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var zE,mR;function HK(){if(mR)return zE;mR=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}zE=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",d=1-o,h=-1,m=r&&r.length||0,g=0;g<m;){if(r.charCodeAt(g)===37&&g+1<m){switch(h=h>-1?h:0,r.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Number(n[d]),h=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Math.floor(Number(n[d])),h=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;h<g&&(f+=r.slice(h,g));var y=typeof n[d];if(y==="string"){f+="'"+n[d]+"'",h=g+2,g++;break}if(y==="function"){f+=n[d].name||"<anonymous>",h=g+2,g++;break}f+=s(n[d]),h=g+2,g++;break;case 115:if(d>=u)break;h<g&&(f+=r.slice(h,g)),f+=String(n[d]),h=g+2,g++;break;case 37:h<g&&(f+=r.slice(h,g)),f+="%",h=g+2,g++,d--;break}++d}++g}return h===-1?r:(h<m&&(f+=r.slice(h)),f)}return zE}var GE,yR;function qK(){if(yR)return GE;yR=1;const t=HK();GE=i;const e=D().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:d};function n(P,F){return Array.isArray(P)?P.filter(function(v){return v!=="!stdSerializers.err"}):P===!0?Object.keys(F):!1}function i(P){P=P||{},P.browser=P.browser||{};const F=P.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const E=P.browser.write||e;P.browser.write&&(P.browser.asObject=!0);const v=P.serializers||{},M=n(P.browser.serialize,v);let U=P.browser.serialize;Array.isArray(P.browser.serialize)&&P.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const I=["error","fatal","warn","info","debug","trace"];typeof E=="function"&&(E.error=E.fatal=E.warn=E.info=E.debug=E.trace=E),P.enabled===!1&&(P.level="silent");const C=P.level||"info",p=Object.create(E);p.log||(p.log=y),Object.defineProperty(p,"levelVal",{get:_}),Object.defineProperty(p,"level",{get:N,set:O});const b={transmit:F,serialize:M,asObject:P.browser.asObject,levels:I,timestamp:h(P)};p.levels=i.levels,p.level=C,p.setMaxListeners=p.getMaxListeners=p.emit=p.addListener=p.on=p.prependListener=p.once=p.prependOnceListener=p.removeListener=p.removeAllListeners=p.listeners=p.listenerCount=p.eventNames=p.write=p.flush=y,p.serializers=v,p._serialize=M,p._stdErrSerialize=U,p.child=$,F&&(p._logEvent=f());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function N(){return this._level}function O(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(b,p,"error","log"),s(b,p,"fatal","error"),s(b,p,"warn","error"),s(b,p,"info","log"),s(b,p,"debug","log"),s(b,p,"trace","log")}function $(j,k){if(!j)throw new Error("missing bindings for child Pino");k=k||{},M&&j.serializers&&(k.serializers=j.serializers);const A=k.serializers;if(M&&A){var L=Object.assign({},v,A),H=P.browser.serialize===!0?Object.keys(L):M;delete j.serializers,c([j],H,L,this._stdErrSerialize)}function T(G){this._childLevel=(G._childLevel|0)+1,this.error=l(G,j,"error"),this.fatal=l(G,j,"fatal"),this.warn=l(G,j,"warn"),this.info=l(G,j,"info"),this.debug=l(G,j,"debug"),this.trace=l(G,j,"trace"),L&&(this.serializers=L,this._serialize=H),F&&(this._logEvent=f([].concat(G._logEvent.bindings,j)))}return T.prototype=this,new T(this)}return p}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:x,unixTime:S,isoTime:R});function s(P,F,E,v){const M=Object.getPrototypeOf(F);F[E]=F.levelVal>F.levels.values[E]?y:M[E]?M[E]:e[E]||e[v]||y,o(P,F,E)}function o(P,F,E){!P.transmit&&F[E]===y||(F[E]=(function(v){return function(){const U=P.timestamp(),I=new Array(arguments.length),C=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var p=0;p<I.length;p++)I[p]=arguments[p];if(P.serialize&&!P.asObject&&c(I,this._serialize,this.serializers,this._stdErrSerialize),P.asObject?v.call(C,a(this,E,I,U)):v.apply(C,I),P.transmit){const b=P.transmit.level||F.level,_=i.levels.values[b],N=i.levels.values[E];if(N<_)return;u(this,{ts:U,methodLevel:E,methodValue:N,transmitValue:i.levels.values[P.transmit.level||F.level],send:P.transmit.send,val:F.levelVal},I)}}})(F[E]))}function a(P,F,E,v){P._serialize&&c(E,P._serialize,P.serializers,P._stdErrSerialize);const M=E.slice();let U=M[0];const I={};v&&(I.time=v),I.level=i.levels.values[F];let C=(P._childLevel|0)+1;if(C<1&&(C=1),U!==null&&typeof U=="object"){for(;C--&&typeof M[0]=="object";)Object.assign(I,M.shift());U=M.length?t(M.shift(),M):void 0}else typeof U=="string"&&(U=t(M.shift(),M));return U!==void 0&&(I.msg=U),I}function c(P,F,E,v){for(const M in P)if(v&&P[M]instanceof Error)P[M]=i.stdSerializers.err(P[M]);else if(typeof P[M]=="object"&&!Array.isArray(P[M]))for(const U in P[M])F&&F.indexOf(U)>-1&&U in E&&(P[M][U]=E[U](P[M][U]))}function l(P,F,E){return function(){const v=new Array(1+arguments.length);v[0]=F;for(var M=1;M<v.length;M++)v[M]=arguments[M-1];return P[E].apply(this,v)}}function u(P,F,E){const v=F.send,M=F.ts,U=F.methodLevel,I=F.methodValue,C=F.val,p=P._logEvent.bindings;c(E,P._serialize||Object.keys(P.serializers),P.serializers,P._stdErrSerialize===void 0?!0:P._stdErrSerialize),P._logEvent.ts=M,P._logEvent.messages=E.filter(function(b){return p.indexOf(b)===-1}),P._logEvent.level.label=U,P._logEvent.level.value=I,v(U,P._logEvent,C),P._logEvent=f(p)}function f(P){return{ts:0,messages:[],bindings:P||[],level:{label:"",value:0}}}function d(P){const F={type:P.constructor.name,msg:P.message,stack:P.stack};for(const E in P)F[E]===void 0&&(F[E]=P[E]);return F}function h(P){return typeof P.timestamp=="function"?P.timestamp:P.timestamp===!1?w:x}function m(){return{}}function g(P){return P}function y(){}function w(){return!1}function x(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function R(){return new Date(Date.now()).toISOString()}function D(){function P(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return P(self)||P(window)||P(this)||{}}}return GE}var Vh=qK();const My=Yi(Vh),WK={level:"info"},Uy="custom_context",BS=1e3*1024;let zK=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},bR=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new zK(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},P7=class{constructor(e,r=BS){this.level=e??"error",this.levelValue=Vh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new bR(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Vh.levels.values.error?console.error(e):r===Vh.levels.values.warn?console.warn(e):r===Vh.levels.values.debug?console.debug(e):r===Vh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Zl({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new bR(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Zl({extraMetadata:e})),new Blob(r,{type:"application/json"})}},GK=class{constructor(e,r=BS){this.baseChunkLogger=new P7(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},VK=class{constructor(e,r=BS){this.baseChunkLogger=new P7(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var KK=Object.defineProperty,JK=Object.defineProperties,YK=Object.getOwnPropertyDescriptors,_R=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty,QK=Object.prototype.propertyIsEnumerable,wR=(t,e,r)=>e in t?KK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,R_=(t,e)=>{for(var r in e||(e={}))XK.call(e,r)&&wR(t,r,e[r]);if(_R)for(var r of _R(e))QK.call(e,r)&&wR(t,r,e[r]);return t},P_=(t,e)=>JK(t,YK(e));function Z0(t){return P_(R_({},t),{level:t?.level||WK.level})}function ZK(t,e=Uy){return t[e]||""}function eJ(t,e,r=Uy){return t[r]=e,t}function Hs(t,e=Uy){let r="";return typeof t.bindings>"u"?r=ZK(t,e):r=t.bindings().context||"",r}function tJ(t,e,r=Uy){const n=Hs(t,r);return n.trim()?`${n}/${e}`:e}function Xi(t,e,r=Uy){const n=tJ(t,e,r),i=t.child({context:n});return eJ(i,n,r)}function rJ(t){var e,r;const n=new GK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:My(P_(R_({},t.opts),{level:"trace",browser:P_(R_({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function nJ(t){var e;const r=new VK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:My(P_(R_({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function jS(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?rJ(t):nJ(t)}var iJ=Object.defineProperty,sJ=(t,e,r)=>e in t?iJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vR=(t,e,r)=>sJ(t,typeof e!="symbol"?e+"":e,r);let oJ=class extends th{constructor(e){super(),this.opts=e,vR(this,"protocol","wc"),vR(this,"version",2)}};var aJ=Object.defineProperty,cJ=(t,e,r)=>e in t?aJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lJ=(t,e,r)=>cJ(t,e+"",r);let uJ=class extends th{constructor(e,r){super(),this.core=e,this.logger=r,lJ(this,"records",new Map)}},fJ=class{constructor(e,r){this.logger=e,this.core=r}},dJ=class extends th{constructor(e,r){super(),this.relayer=e,this.logger=r}},hJ=class extends th{constructor(e){super()}},pJ=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},gJ=class extends th{constructor(e,r){super(),this.relayer=e,this.logger=r}},mJ=class extends th{constructor(e,r){super(),this.core=e,this.logger=r}},yJ=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},bJ=class{constructor(e,r){this.projectId=e,this.logger=r}},_J=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var wJ=Object.defineProperty,vJ=(t,e,r)=>e in t?wJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ER=(t,e,r)=>vJ(t,typeof e!="symbol"?e+"":e,r);let EJ=class{constructor(e){this.opts=e,ER(this,"protocol","wc"),ER(this,"version",2)}},AJ=class{constructor(e){this.client=e}};function xJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function O7(t,...e){if(!xJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function AR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function CJ(t,e){O7(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const bh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function NJ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function D7(t){return typeof t=="string"&&(t=NJ(t)),O7(t),t}let SJ=class{clone(){return this._cloneInto()}};function IJ(t){const e=n=>t().update(D7(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function k7(t=32){if(bh&&typeof bh.getRandomValues=="function")return bh.getRandomValues(new Uint8Array(t));if(bh&&typeof bh.randomBytes=="function")return bh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function TJ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let RJ=class extends SJ{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=VE(this.buffer)}update(e){AR(this);const{view:r,buffer:n,blockLen:i}=this;e=D7(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=VE(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){AR(this),CJ(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;TJ(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=VE(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const vb=BigInt(2**32-1),uC=BigInt(32);function M7(t,e=!1){return e?{h:Number(t&vb),l:Number(t>>uC&vb)}:{h:Number(t>>uC&vb)|0,l:Number(t&vb)|0}}function PJ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=M7(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const OJ=(t,e)=>BigInt(t>>>0)<<uC|BigInt(e>>>0),DJ=(t,e,r)=>t>>>r,kJ=(t,e,r)=>t<<32-r|e>>>r,MJ=(t,e,r)=>t>>>r|e<<32-r,UJ=(t,e,r)=>t<<32-r|e>>>r,$J=(t,e,r)=>t<<64-r|e>>>r-32,LJ=(t,e,r)=>t>>>r-32|e<<64-r,FJ=(t,e)=>e,BJ=(t,e)=>t,jJ=(t,e,r)=>t<<r|e>>>32-r,HJ=(t,e,r)=>e<<r|t>>>32-r,qJ=(t,e,r)=>e<<r-32|t>>>64-r,WJ=(t,e,r)=>t<<r-32|e>>>64-r;function zJ(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const GJ=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),VJ=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,KJ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),JJ=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,YJ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),XJ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,ft={fromBig:M7,split:PJ,toBig:OJ,shrSH:DJ,shrSL:kJ,rotrSH:MJ,rotrSL:UJ,rotrBH:$J,rotrBL:LJ,rotr32H:FJ,rotr32L:BJ,rotlSH:jJ,rotlSL:HJ,rotlBH:qJ,rotlBL:WJ,add:zJ,add3L:GJ,add3H:VJ,add4L:KJ,add4H:JJ,add5H:XJ,add5L:YJ},[QJ,ZJ]=ft.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),bu=new Uint32Array(80),_u=new Uint32Array(80);let eY=class extends RJ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,r){for(let S=0;S<16;S++,r+=4)bu[S]=e.getUint32(r),_u[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const R=bu[S-15]|0,D=_u[S-15]|0,P=ft.rotrSH(R,D,1)^ft.rotrSH(R,D,8)^ft.shrSH(R,D,7),F=ft.rotrSL(R,D,1)^ft.rotrSL(R,D,8)^ft.shrSL(R,D,7),E=bu[S-2]|0,v=_u[S-2]|0,M=ft.rotrSH(E,v,19)^ft.rotrBH(E,v,61)^ft.shrSH(E,v,6),U=ft.rotrSL(E,v,19)^ft.rotrBL(E,v,61)^ft.shrSL(E,v,6),I=ft.add4L(F,U,_u[S-7],_u[S-16]),C=ft.add4H(I,P,M,bu[S-7],bu[S-16]);bu[S]=C|0,_u[S]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:y,Hh:w,Hl:x}=this;for(let S=0;S<80;S++){const R=ft.rotrSH(f,d,14)^ft.rotrSH(f,d,18)^ft.rotrBH(f,d,41),D=ft.rotrSL(f,d,14)^ft.rotrSL(f,d,18)^ft.rotrBL(f,d,41),P=f&h^~f&g,F=d&m^~d&y,E=ft.add5L(x,D,F,ZJ[S],_u[S]),v=ft.add5H(E,w,R,P,QJ[S],bu[S]),M=E|0,U=ft.rotrSH(n,i,28)^ft.rotrBH(n,i,34)^ft.rotrBH(n,i,39),I=ft.rotrSL(n,i,28)^ft.rotrBL(n,i,34)^ft.rotrBL(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;w=g|0,x=y|0,g=h|0,y=m|0,h=f|0,m=d|0,{h:f,l:d}=ft.add(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const b=ft.add3L(M,I,p);n=ft.add3H(b,v,U,C),i=b|0}({h:n,l:i}=ft.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ft.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ft.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ft.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=ft.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=ft.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:y}=ft.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:x}=ft.add(this.Hh|0,this.Hl|0,w|0,x|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,y,w,x)}roundClean(){bu.fill(0),_u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const tY=IJ(()=>new eY);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HS=BigInt(0),U7=BigInt(1),rY=BigInt(2);function qS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WS(t){if(!qS(t))throw new Error("Uint8Array expected")}function KE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const nY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zS(t){WS(t);let e="";for(let r=0;r<t.length;r++)e+=nY[t[r]];return e}function $7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?HS:BigInt("0x"+t)}const fl={_0:48,_9:57,A:65,F:70,a:97,f:102};function xR(t){if(t>=fl._0&&t<=fl._9)return t-fl._0;if(t>=fl.A&&t<=fl.F)return t-(fl.A-10);if(t>=fl.a&&t<=fl.f)return t-(fl.a-10)}function L7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=xR(t.charCodeAt(s)),a=xR(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function iY(t){return $7(zS(t))}function h1(t){return WS(t),$7(zS(Uint8Array.from(t).reverse()))}function F7(t,e){return L7(t.toString(16).padStart(e*2,"0"))}function fC(t,e){return F7(t,e).reverse()}function dl(t,e,r){let n;if(typeof e=="string")try{n=L7(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(qS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function CR(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];WS(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const JE=t=>typeof t=="bigint"&&HS<=t;function sY(t,e,r){return JE(t)&&JE(e)&&JE(r)&&e<=t&&t<r}function Rp(t,e,r,n){if(!sY(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function oY(t){let e;for(e=0;t>HS;t>>=U7,e+=1);return e}const aY=t=>(rY<<BigInt(t-1))-U7,cY={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||qS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function GS(t,e,r={}){const n=(i,s,o)=>{const a=cY[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function NR(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const ri=BigInt(0),pn=BigInt(1),ad=BigInt(2),lY=BigInt(3),dC=BigInt(4),SR=BigInt(5),IR=BigInt(8);function qn(t,e){const r=t%e;return r>=ri?r:e+r}function uY(t,e,r){if(e<ri)throw new Error("invalid exponent, negatives unsupported");if(r<=ri)throw new Error("invalid modulus");if(r===pn)return ri;let n=pn;for(;e>ri;)e&pn&&(n=n*t%r),t=t*t%r,e>>=pn;return n}function vc(t,e,r){let n=t;for(;e-- >ri;)n*=n,n%=r;return n}function TR(t,e){if(t===ri)throw new Error("invert: expected non-zero number");if(e<=ri)throw new Error("invert: expected positive modulus, got "+e);let r=qn(t,e),n=e,i=ri,s=pn;for(;r!==ri;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==pn)throw new Error("invert: does not exist");return qn(i,e)}function fY(t){const e=(t-pn)/ad;let r,n,i;for(r=t-pn,n=0;r%ad===ri;r/=ad,n++);for(i=ad;i<t&&uY(i,e,t)!==t-pn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+pn)/dC;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+pn)/ad;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(f);d<c&&!o.eql(m,o.ONE);d++)m=o.sqr(m);const h=o.pow(l,pn<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function dY(t){if(t%dC===lY){const e=(t+pn)/dC;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%IR===SR){const e=(t-SR)/IR;return function(r,n){const i=r.mul(n,ad),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,ad),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return fY(t)}const hY=(t,e)=>(qn(t,e)&pn)===pn,pY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gY(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=pY.reduce((n,i)=>(n[i]="function",n),e);return GS(t,r)}function mY(t,e,r){if(r<ri)throw new Error("invalid exponent, negatives unsupported");if(r===ri)return t.ONE;if(r===pn)return e;let n=t.ONE,i=e;for(;r>ri;)r&pn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=pn;return n}function yY(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function B7(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function j7(t,e,r=!1,n={}){if(t<=ri)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=B7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:aY(i),ZERO:ri,ONE:pn,create:c=>qn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ri<=c&&c<t},is0:c=>c===ri,isOdd:c=>(c&pn)===pn,neg:c=>qn(-c,t),eql:(c,l)=>c===l,sqr:c=>qn(c*c,t),add:(c,l)=>qn(c+l,t),sub:(c,l)=>qn(c-l,t),mul:(c,l)=>qn(c*l,t),pow:(c,l)=>mY(a,c,l),div:(c,l)=>qn(c*TR(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>TR(c,t),sqrt:n.sqrt||(c=>(o||(o=dY(t)),o(a,c))),invertBatch:c=>yY(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?fC(c,s):F7(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?h1(c):iY(c)}});return Object.freeze(a)}const RR=BigInt(0),Eb=BigInt(1);function YE(t,e){const r=e.negate();return t?r:e}function H7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function XE(t,e){H7(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function bY(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function _Y(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const QE=new WeakMap,q7=new WeakMap;function ZE(t){return q7.get(t)||1}function wY(t,e){return{constTimeNegate:YE,hasPrecomputes(r){return ZE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>RR;)n&Eb&&(i=i.add(s)),s=s.double(),n>>=Eb;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=XE(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=XE(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let m=Number(i&l);i>>=f,m>o&&(m-=u,i+=Eb);const g=h,y=h+Math.abs(m)-1,w=d%2!==0,x=m<0;m===0?c=c.add(YE(w,n[g])):a=a.add(YE(x,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=XE(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===RR)break;let h=Number(i&c);if(i>>=u,h>a&&(h-=l,i+=Eb),h===0)continue;let m=n[d+Math.abs(h)-1];h<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=QE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&QE.set(n,i(s))),s},wNAFCached(r,n,i){const s=ZE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=ZE(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){H7(n,e),q7.set(r,n),QE.delete(r)}}}function vY(t,e,r,n){if(bY(r,t),_Y(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=oY(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const m=n[h],g=Number(m>>BigInt(f)&BigInt(a));c[g]=c[g].add(r[h])}let d=i;for(let h=c.length-1,m=i;h>0;h--)m=m.add(c[h]),d=d.add(m);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function EY(t){return gY(t.Fp),GS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...B7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const da=BigInt(0),ms=BigInt(1),Ab=BigInt(2),AY=BigInt(8),xY={zip215:!0};function CY(t){const e=EY(t);return GS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function NY(t){const e=CY(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=Ab<<BigInt(a*8)-ms,u=r.create,f=j7(e.n,e.nBitLength),d=e.uvRatio||((b,_)=>{try{return{isValid:!0,value:r.sqrt(b*r.inv(_))}}catch{return{isValid:!1,value:da}}}),h=e.adjustScalarBytes||(b=>b),m=e.domain||((b,_,N)=>{if(KE("phflag",N),_.length||N)throw new Error("Contexts/pre-hash are not supported");return b});function g(b,_){Rp("coordinate "+b,_,da,l)}function y(b){if(!(b instanceof S))throw new Error("ExtendedPoint expected")}const w=NR((b,_)=>{const{ex:N,ey:O,ez:$}=b,j=b.is0();_==null&&(_=j?AY:r.inv($));const k=u(N*_),A=u(O*_),L=u($*_);if(j)return{x:da,y:ms};if(L!==ms)throw new Error("invZ was invalid");return{x:k,y:A}}),x=NR(b=>{const{a:_,d:N}=e;if(b.is0())throw new Error("bad point: ZERO");const{ex:O,ey:$,ez:j,et:k}=b,A=u(O*O),L=u($*$),H=u(j*j),T=u(H*H),G=u(A*_),B=u(H*u(G+L)),J=u(T+u(N*u(A*L)));if(B!==J)throw new Error("bad point: equation left != right (1)");const Y=u(O*$),ee=u(j*k);if(Y!==ee)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(_,N,O,$){this.ex=_,this.ey=N,this.ez=O,this.et=$,g("x",_),g("y",N),g("z",O),g("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof S)throw new Error("extended point not allowed");const{x:N,y:O}=_||{};return g("x",N),g("y",O),new S(N,O,ms,u(N*O))}static normalizeZ(_){const N=r.invertBatch(_.map(O=>O.ez));return _.map((O,$)=>O.toAffine(N[$])).map(S.fromAffine)}static msm(_,N){return vY(S,f,_,N)}_setWindowSize(_){P.setWindowSize(this,_)}assertValidity(){x(this)}equals(_){y(_);const{ex:N,ey:O,ez:$}=this,{ex:j,ey:k,ez:A}=_,L=u(N*A),H=u(j*$),T=u(O*A),G=u(k*$);return L===H&&T===G}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=e,{ex:N,ey:O,ez:$}=this,j=u(N*N),k=u(O*O),A=u(Ab*u($*$)),L=u(_*j),H=N+O,T=u(u(H*H)-j-k),G=L+k,B=G-A,J=L-k,Y=u(T*B),ee=u(G*J),oe=u(T*J),z=u(B*G);return new S(Y,ee,z,oe)}add(_){y(_);const{a:N,d:O}=e,{ex:$,ey:j,ez:k,et:A}=this,{ex:L,ey:H,ez:T,et:G}=_;if(N===BigInt(-1)){const Ee=u((j-$)*(H+L)),V=u((j+$)*(H-L)),K=u(V-Ee);if(K===da)return this.double();const se=u(k*Ab*G),ce=u(A*Ab*T),me=ce+se,be=V+Ee,te=ce-se,ue=u(me*K),$e=u(be*te),je=u(me*te),Je=u(K*be);return new S(ue,$e,Je,je)}const B=u($*L),J=u(j*H),Y=u(A*O*G),ee=u(k*T),oe=u(($+j)*(L+H)-B-J),z=ee-Y,Q=ee+Y,W=u(J-N*B),Z=u(oe*z),fe=u(Q*W),ae=u(oe*W),ye=u(z*Q);return new S(Z,fe,ye,ae)}subtract(_){return this.add(_.negate())}wNAF(_){return P.wNAFCached(this,_,S.normalizeZ)}multiply(_){const N=_;Rp("scalar",N,ms,n);const{p:O,f:$}=this.wNAF(N);return S.normalizeZ([O,$])[0]}multiplyUnsafe(_,N=S.ZERO){const O=_;return Rp("scalar",O,da,n),O===da?D:this.is0()||O===ms?this:P.wNAFCachedUnsafe(this,O,S.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return P.unsafeLadder(this,n).is0()}toAffine(_){return w(this,_)}clearCofactor(){const{h:_}=e;return _===ms?this:this.multiplyUnsafe(_)}static fromHex(_,N=!1){const{d:O,a:$}=e,j=r.BYTES;_=dl("pointHex",_,j),KE("zip215",N);const k=_.slice(),A=_[j-1];k[j-1]=A&-129;const L=h1(k),H=N?l:r.ORDER;Rp("pointHex.y",L,da,H);const T=u(L*L),G=u(T-ms),B=u(O*T-$);let{isValid:J,value:Y}=d(G,B);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const ee=(Y&ms)===ms,oe=(A&128)!==0;if(!N&&Y===da&&oe)throw new Error("Point.fromHex: x=0 and x_0=1");return oe!==ee&&(Y=u(-Y)),S.fromAffine({x:Y,y:L})}static fromPrivateKey(_){return v(_).point}toRawBytes(){const{x:_,y:N}=this.toAffine(),O=fC(N,r.BYTES);return O[O.length-1]|=_&ms?128:0,O}toHex(){return zS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,ms,u(e.Gx*e.Gy)),S.ZERO=new S(da,ms,ms,da);const{BASE:R,ZERO:D}=S,P=wY(S,a*8);function F(b){return qn(b,n)}function E(b){return F(h1(b))}function v(b){const _=r.BYTES;b=dl("private key",b,_);const N=dl("hashed private key",s(b),2*_),O=h(N.slice(0,_)),$=N.slice(_,2*_),j=E(O),k=R.multiply(j),A=k.toRawBytes();return{head:O,prefix:$,scalar:j,point:k,pointBytes:A}}function M(b){return v(b).pointBytes}function U(b=new Uint8Array,..._){const N=CR(..._);return E(s(m(N,dl("context",b),!!i)))}function I(b,_,N={}){b=dl("message",b),i&&(b=i(b));const{prefix:O,scalar:$,pointBytes:j}=v(_),k=U(N.context,O,b),A=R.multiply(k).toRawBytes(),L=U(N.context,A,j,b),H=F(k+L*$);Rp("signature.s",H,da,n);const T=CR(A,fC(H,r.BYTES));return dl("result",T,r.BYTES*2)}const C=xY;function p(b,_,N,O=C){const{context:$,zip215:j}=O,k=r.BYTES;b=dl("signature",b,2*k),_=dl("message",_),N=dl("publicKey",N,k),j!==void 0&&KE("zip215",j),i&&(_=i(_));const A=h1(b.slice(k,2*k));let L,H,T;try{L=S.fromHex(N,j),H=S.fromHex(b.slice(0,k),j),T=R.multiplyUnsafe(A)}catch{return!1}if(!j&&L.isSmallOrder())return!1;const G=U($,H.toRawBytes(),L.toRawBytes(),_);return H.add(L.multiplyUnsafe(G)).subtract(T).clearCofactor().equals(S.ZERO)}return R._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:I,verify:p,ExtendedPoint:S,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>o(r.BYTES),precompute(b=8,_=S.BASE){return _._setWindowSize(b),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const VS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),PR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const SY=BigInt(1),OR=BigInt(2);BigInt(3);const IY=BigInt(5),TY=BigInt(8);function RY(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=VS,o=t*t%s*t%s,a=vc(o,OR,s)*o%s,c=vc(a,SY,s)*t%s,l=vc(c,IY,s)*c%s,u=vc(l,e,s)*l%s,f=vc(u,r,s)*u%s,d=vc(f,n,s)*f%s,h=vc(d,i,s)*d%s,m=vc(h,i,s)*d%s,g=vc(m,e,s)*l%s;return{pow_p_5_8:vc(g,OR,s)*t%s,b2:o}}function PY(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function OY(t,e){const r=VS,n=qn(e*e*e,r),i=qn(n*n*e,r),s=RY(t*i).pow_p_5_8;let o=qn(t*n*s,r);const a=qn(e*o*o,r),c=o,l=qn(o*PR,r),u=a===t,f=a===qn(-t,r),d=a===qn(-t*PR,r);return u&&(o=c),(f||d)&&(o=l),hY(o,r)&&(o=qn(-o,r)),{isValid:u||f,value:o}}const DY=j7(VS,void 0,!0),kY={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:DY,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:TY,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:tY,randomBytes:k7,adjustScalarBytes:PY,uvRatio:OY},W7=NY(kY),MY="EdDSA",UY="JWT",O_=".",tv="base64url",z7="utf8",G7="utf8",$Y=":",LY="did",FY="key",DR="base58btc",BY="z",jY="K36",HY=32;function KS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function V7(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?KS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function K7(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=V7(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return KS(r)}function qY(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,R=new Uint8Array(S);w!==x;){for(var D=m[w],P=0,F=S-1;(D!==0||P<y)&&F!==-1;F--,P++)D+=256*R[F]>>>0,R[F]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");y=P,w++}for(var E=S-y;E!==S&&R[E]===0;)E++;for(var v=c.repeat(g);E<S;++E)v+=t.charAt(R[E]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var R=r[m.charCodeAt(g)];if(R===255)return;for(var D=0,P=x-1;(R!==0||D<w)&&P!==-1;P--,D++)R+=a*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");w=D,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var E=new Uint8Array(y+(x-F)),v=y;F!==x;)E[v++]=S[F++];return E}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var WY=qY,zY=WY;const J7=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},GY=t=>new TextEncoder().encode(t),VY=t=>new TextDecoder().decode(t);let KY=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},JY=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Y7(this,e)}},YY=class{constructor(e){this.decoders=e}or(e){return Y7(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Y7=(t,e)=>new YY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let XY=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new KY(e,r,n),this.decoder=new JY(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const rv=({name:t,prefix:e,encode:r,decode:n})=>new XY(t,e,r,n),$y=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=zY(r,e);return rv({prefix:t,name:e,encode:n,decode:s=>J7(i(s))})},QY=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},ZY=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},vi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>rv({prefix:e,name:t,encode(i){return ZY(i,n,r)},decode(i){return QY(i,n,r,t)}}),eX=rv({prefix:"\0",name:"identity",encode:t=>VY(t),decode:t=>GY(t)});var tX=Object.freeze({__proto__:null,identity:eX});const rX=vi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nX=Object.freeze({__proto__:null,base2:rX});const iX=vi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var sX=Object.freeze({__proto__:null,base8:iX});const oX=$y({prefix:"9",name:"base10",alphabet:"0123456789"});var aX=Object.freeze({__proto__:null,base10:oX});const cX=vi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lX=vi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var uX=Object.freeze({__proto__:null,base16:cX,base16upper:lX});const fX=vi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dX=vi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hX=vi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pX=vi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gX=vi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mX=vi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yX=vi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bX=vi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_X=vi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var wX=Object.freeze({__proto__:null,base32:fX,base32upper:dX,base32pad:hX,base32padupper:pX,base32hex:gX,base32hexupper:mX,base32hexpad:yX,base32hexpadupper:bX,base32z:_X});const vX=$y({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),EX=$y({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var AX=Object.freeze({__proto__:null,base36:vX,base36upper:EX});const xX=$y({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),CX=$y({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var NX=Object.freeze({__proto__:null,base58btc:xX,base58flickr:CX});const SX=vi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),IX=vi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),TX=vi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RX=vi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var PX=Object.freeze({__proto__:null,base64:SX,base64pad:IX,base64url:TX,base64urlpad:RX});const X7=Array.from(""),OX=X7.reduce((t,e,r)=>(t[r]=e,t),[]),DX=X7.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function kX(t){return t.reduce((e,r)=>(e+=OX[r],e),"")}function MX(t){const e=[];for(const r of t){const n=DX[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const UX=rv({prefix:"",name:"base256emoji",encode:kX,decode:MX});var $X=Object.freeze({__proto__:null,base256emoji:UX}),LX=Q7,kR=128,FX=-128,BX=Math.pow(2,31);function Q7(t,e,r){e=e||[],r=r||0;for(var n=r;t>=BX;)e[r++]=t&255|kR,t/=128;for(;t&FX;)e[r++]=t&255|kR,t>>>=7;return e[r]=t|0,Q7.bytes=r-n+1,e}var jX=hC,HX=128,MR=127;function hC(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw hC.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&MR)<<i:(o&MR)*Math.pow(2,i),i+=7}while(o>=HX);return hC.bytes=s-n,r}var qX=Math.pow(2,7),WX=Math.pow(2,14),zX=Math.pow(2,21),GX=Math.pow(2,28),VX=Math.pow(2,35),KX=Math.pow(2,42),JX=Math.pow(2,49),YX=Math.pow(2,56),XX=Math.pow(2,63),QX=function(t){return t<qX?1:t<WX?2:t<zX?3:t<GX?4:t<VX?5:t<KX?6:t<JX?7:t<YX?8:t<XX?9:10},ZX={encode:LX,decode:jX,encodingLength:QX},Z7=ZX;const UR=(t,e,r=0)=>(Z7.encode(t,e,r),e),$R=t=>Z7.encodingLength(t),pC=(t,e)=>{const r=e.byteLength,n=$R(t),i=n+$R(r),s=new Uint8Array(i+r);return UR(t,s,0),UR(r,s,n),s.set(e,i),new eQ(t,r,e,s)};let eQ=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const eU=({name:t,code:e,encode:r})=>new tQ(t,e,r);let tQ=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?pC(this.code,r):r.then(n=>pC(this.code,n))}else throw Error("Unknown type, must be binary type")}};const tU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),rQ=eU({name:"sha2-256",code:18,encode:tU("SHA-256")}),nQ=eU({name:"sha2-512",code:19,encode:tU("SHA-512")});var iQ=Object.freeze({__proto__:null,sha256:rQ,sha512:nQ});const rU=0,sQ="identity",nU=J7,oQ=t=>pC(rU,nU(t)),aQ={code:rU,name:sQ,encode:nU,digest:oQ};var cQ=Object.freeze({__proto__:null,identity:aQ});new TextEncoder,new TextDecoder;const LR={...tX,...nX,...sX,...aX,...uX,...wX,...AX,...NX,...PX,...$X};({...iQ,...cQ});function iU(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const FR=iU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),eA=iU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=V7(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),sU={utf8:FR,"utf-8":FR,hex:LR.base16,latin1:eA,ascii:eA,binary:eA,...LR};function nv(t,e="utf8"){const r=sU[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function ep(t,e="utf8"){const r=sU[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?KS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function BR(t){return $d(nv(ep(t,tv),z7))}function D_(t){return nv(ep(Zl(t),z7),tv)}function oU(t){const e=ep(jY,DR),r=BY+nv(K7([e,t]),DR);return[LY,FY,r].join($Y)}function lQ(t){return nv(t,tv)}function uQ(t){return ep(t,tv)}function fQ(t){return ep([D_(t.header),D_(t.payload)].join(O_),G7)}function dQ(t){return[D_(t.header),D_(t.payload),lQ(t.signature)].join(O_)}function gC(t){const e=t.split(O_),r=BR(e[0]),n=BR(e[1]),i=uQ(e[2]),s=ep(e.slice(0,2).join(O_),G7);return{header:r,payload:n,signature:i,data:s}}function jR(t=k7(HY)){const e=W7.getPublicKey(t);return{secretKey:K7([t,e]),publicKey:e}}async function hQ(t,e,r,n,i=Ie.fromMiliseconds(Date.now())){const s={alg:MY,typ:UY},o=oU(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=fQ({header:s,payload:c}),u=W7.sign(l,n.secretKey.slice(0,32));return dQ({header:s,payload:c,signature:u})}var HR=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},pQ=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),gQ=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),mQ=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),yQ=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),bQ=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),_Q=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wQ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,qR=3,vQ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",_Q]],WR=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function EQ(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new bQ:typeof navigator<"u"?xQ(navigator.userAgent):NQ()}function AQ(t){return t!==""&&vQ.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function xQ(t){var e=AQ(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new yQ;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<qR&&(i=HR(HR([],i,!0),SQ(qR-i.length),!0)):i=[];var s=i.join("."),o=CQ(t),a=wQ.exec(t);return a&&a[1]?new mQ(r,s,o,a[1]):new pQ(r,s,o)}function CQ(t){for(var e=0,r=WR.length;e<r;e++){var n=WR[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function NQ(){var t=typeof process<"u"&&process.version;return t?new gQ(process.version.slice(1)):null}function SQ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var lr={},zR;function aU(){if(zR)return lr;zR=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.getLocalStorage=lr.getLocalStorageOrThrow=lr.getCrypto=lr.getCryptoOrThrow=lr.getLocation=lr.getLocationOrThrow=lr.getNavigator=lr.getNavigatorOrThrow=lr.getDocument=lr.getDocumentOrThrow=lr.getFromWindowOrThrow=lr.getFromWindow=void 0;function t(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}lr.getFromWindow=t;function e(d){const h=t(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}lr.getFromWindowOrThrow=e;function r(){return e("document")}lr.getDocumentOrThrow=r;function n(){return t("document")}lr.getDocument=n;function i(){return e("navigator")}lr.getNavigatorOrThrow=i;function s(){return t("navigator")}lr.getNavigator=s;function o(){return e("location")}lr.getLocationOrThrow=o;function a(){return t("location")}lr.getLocation=a;function c(){return e("crypto")}lr.getCryptoOrThrow=c;function l(){return t("crypto")}lr.getCrypto=l;function u(){return e("localStorage")}lr.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return lr.getLocalStorage=f,lr}var eu=aU(),Pp={},GR;function IQ(){if(GR)return Pp;GR=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.getWindowMetadata=void 0;const t=aU();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const h=r.getElementsByTagName("link"),m=[];for(let g=0;g<h.length;g++){const y=h[g],w=y.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const x=y.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let S=n.protocol+"//"+n.host;if(x.indexOf("/")===0)S+=x;else{const R=n.pathname.split("/");R.pop();const D=R.join("/");S+=D+"/"+x}m.push(S)}else if(x.indexOf("//")===0){const S=n.protocol+x;m.push(S)}else m.push(x)}}return m}function s(...h){const m=r.getElementsByTagName("meta");for(let g=0;g<m.length;g++){const y=m[g],w=["itemprop","property","name"].map(x=>y.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(w.length&&w){const x=y.getAttribute("content");if(x)return x}}return""}function o(){let h=s("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=i();return{description:l,url:u,icons:f,name:c}}return Pp.getWindowMetadata=e,Pp}var TQ=IQ();function Pm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function mC(t){return Pm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const cU="2.31.0";let tA={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${cU}`};class Ld extends Error{constructor(e,r={}){const n=r.cause instanceof Ld?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Ld&&r.cause.docsPath||r.docsPath,s=tA.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...tA.version?[`Version: ${tA.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=cU}walk(e){return lU(this,e)}}function lU(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lU(t.cause,e):e?null:t}class uU extends Ld{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function tp(t,{dir:e,size:r=32}={}){return typeof t=="string"?RQ(t,{dir:e,size:r}):PQ(t,{dir:e,size:r})}function RQ(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new uU({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function PQ(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new uU({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class OQ extends Ld{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class DQ extends Ld{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function rp(t,{size:e}){if(mC(t)>e)throw new DQ({givenSize:mC(t),maxSize:e})}function yC(t,e={}){const{signed:r}=e;e.size&&rp(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function kQ(t,e={}){return Number(yC(t,e))}const MQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bC(t,e={}){return typeof t=="number"||typeof t=="bigint"?dU(t,e):typeof t=="string"?LQ(t,e):typeof t=="boolean"?UQ(t,e):fU(t,e)}function UQ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(rp(r,{size:e.size}),tp(r,{size:e.size})):r}function fU(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=MQ[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(rp(n,{size:e.size}),tp(n,{dir:"right",size:e.size})):n}function dU(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new OQ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?tp(a,{size:n}):a}const $Q=new TextEncoder;function LQ(t,e={}){const r=$Q.encode(t);return fU(r,e)}const FQ=new TextEncoder;function BQ(t,e={}){return typeof t=="number"||typeof t=="bigint"?HQ(t,e):typeof t=="boolean"?jQ(t,e):Pm(t)?hU(t,e):pU(t,e)}function jQ(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(rp(r,{size:e.size}),tp(r,{size:e.size})):r}const hl={zero:48,nine:57,A:65,F:70,a:97,f:102};function VR(t){if(t>=hl.zero&&t<=hl.nine)return t-hl.zero;if(t>=hl.A&&t<=hl.F)return t-(hl.A-10);if(t>=hl.a&&t<=hl.f)return t-(hl.a-10)}function hU(t,e={}){let r=t;e.size&&(rp(r,{size:e.size}),r=tp(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=VR(n.charCodeAt(a++)),l=VR(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ld(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function HQ(t,e){const r=dU(t,e);return hU(r)}function pU(t,e={}){const r=FQ.encode(t);return typeof e.size=="number"?(rp(r,{size:e.size}),tp(r,{dir:"right",size:e.size})):r}function gU(t,e){const r=e||"hex",n=tV(Pm(t,{strict:!1})?BQ(t):t);return r==="bytes"?n:bC(n)}class qQ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const rA=new qQ(8192);function WQ(t,e){if(rA.has(`${t}.${e}`))return rA.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=gU(pU(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return rA.set(`${t}.${e}`,s),s}function zQ(t){const e=gU(`0x${t.substring(4)}`).substring(26);return WQ(`0x${e}`)}async function GQ({hash:t,signature:e}){const r=Pm(t)?t:bC(t),{secp256k1:n}=await ei(async()=>{const{secp256k1:o}=await import("./secp256k1-DMYipMkW.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:d}=e,h=Number(d??f),m=KR(h);return new n.Signature(yC(l),yC(u)).addRecoveryBit(m)}const o=Pm(e)?e:bC(e);if(mC(o)!==65)throw new Error("invalid signature length");const a=kQ(`0x${o.slice(130)}`),c=KR(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function KR(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function VQ({hash:t,signature:e}){return zQ(await GQ({hash:t,signature:e}))}function KQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const m=(h-d)*s+1>>>0,g=new Uint8Array(m);for(;d!==h;){let x=l[d],S=0;for(let R=m-1;(x!==0||S<f)&&R!==-1;R--,S++)x+=256*g[R]>>>0,g[R]=x%r>>>0,x=x/r>>>0;if(x!==0)throw new Error("Non-zero carry");f=S,d++}let y=m-f;for(;y!==m&&g[y]===0;)y++;let w=n.repeat(u);for(;y<m;++y)w+=t.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*i+1>>>0,m=new Uint8Array(h);for(;u<l.length;){const x=l.charCodeAt(u);if(x>255)return;let S=e[x];if(S===255)return;let R=0;for(let D=h-1;(S!==0||R<d)&&D!==-1;D--,R++)S+=r*m[D]>>>0,m[D]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");d=R,u++}let g=h-d;for(;g!==h&&m[g]===0;)g++;const y=new Uint8Array(f+(h-g));let w=f;for(;g!==h;)y[w++]=m[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var JQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const np=KQ(JQ);function YQ(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function XQ(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const QQ=new TextEncoder,ZQ=50;function eZ(t,e,r){QQ.encodeInto(t,e.subarray(r))}function tZ(t,e,r){t.length>ZQ?eZ(t,e,r):XQ(t,e,r)}const rZ=4096;function mU(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=rZ&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const nZ=new TextDecoder,iZ=200;function sZ(t,e,r){const n=t.subarray(e,e+r);return nZ.decode(n)}function oZ(t,e,r){return r>iZ?sZ(t,e,r):mU(t,e,r)}class xb{constructor(e,r){this.type=e,this.data=r}}class Vs extends Error{constructor(e){super(e);const r=Object.create(Vs.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Vs.name})}}const Op=4294967295;function aZ(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function yU(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function bU(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function cZ(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const lZ=-1,uZ=4294967296-1,fZ=17179869184-1;function dZ({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=fZ)if(e===0&&t<=uZ){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),yU(n,4,t),r}}function hZ(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function pZ(t){if(t instanceof Date){const e=hZ(t);return dZ(e)}else return null}function gZ(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=bU(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Vs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function mZ(t){const e=gZ(t);return new Date(e.sec*1e3+e.nsec/1e6)}const yZ={type:lZ,encode:pZ,decode:mZ};class k_{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(yZ)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new xb(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new xb(o,s)}}}return e instanceof xb?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new xb(r,e)}}k_.defaultCodec=new k_;function bZ(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function _C(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):bZ(t)?new Uint8Array(t):Uint8Array.from(t)}const _Z=100,wZ=2048;let vZ=class _U{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??k_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??_Z,this.initialBufferSize=e?.initialBufferSize??wZ,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new _U({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=YQ(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),tZ(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=_C(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),aZ(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),yU(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function EZ(t,e){return new vZ(e).encodeSharedRef(t)}function nA(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const AZ=16,xZ=16;class CZ{constructor(e=AZ,r=xZ){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=mU(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const wC="array",Tg="map_key",wU="map_value",NZ=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Vs("The type of key must be string or number but "+typeof t)};class SZ{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=wC,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Tg,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===wC){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Tg||e.type===wU){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Dp=-1,JS=new DataView(new ArrayBuffer(0)),IZ=new Uint8Array(JS.buffer);try{JS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const JR=new RangeError("Insufficient data"),TZ=new CZ;let RZ=class vU{constructor(e){this.totalPos=0,this.pos=0,this.view=JS,this.bytes=IZ,this.headByte=Dp,this.stack=new SZ,this.entered=!1,this.extensionCodec=e?.extensionCodec??k_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Op,this.maxBinLength=e?.maxBinLength??Op,this.maxArrayLength=e?.maxArrayLength??Op,this.maxMapLength=e?.maxMapLength??Op,this.maxExtLength=e?.maxExtLength??Op,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:TZ,this.mapKeyConverter=e?.mapKeyConverter??NZ}clone(){return new vU({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Dp,this.stack.reset()}setBuffer(e){const r=_C(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Dp&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=_C(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${nA(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Vs(`Unrecognized type byte: ${nA(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===wC)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===Tg){if(r==="__proto__")throw new Vs("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=wU;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=Tg;continue e}}return r}}readHeadByte(){return this.headByte===Dp&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Dp}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Vs(`Unrecognized array type byte: ${nA(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Vs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Vs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new Vs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw JR;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=oZ(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Tg:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Vs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw JR;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Vs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=cZ(this.view,this.pos);return this.pos+=8,e}readI64(){const e=bU(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function PZ(t,e){return new RZ(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function EU(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function M_(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function YS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function vC(t){if(!Array.isArray(t))throw new Error("array expected")}function U_(t,e){if(!EU(!0,e))throw new Error(`${t}: array of strings expected`)}function DZ(t,e){if(!EU(!1,e))throw new Error(`${t}: array of numbers expected`)}function kZ(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function MZ(t){const e=typeof t=="string"?t.split(""):t,r=e.length;U_("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(vC(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(vC(i),i.map(s=>{M_("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function UZ(t=""){return M_("join",t),{encode:e=>(U_("join.decode",e),e.join(t)),decode:e=>(M_("join.decode",e),e.split(t))}}function $Z(t,e="="){return YS(t),M_("padding",e),{encode(r){for(U_("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){U_("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const AU=(t,e)=>e===0?t:AU(e,t%e),$_=(t,e)=>t+(e-AU(t,e)),iA=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function YR(t,e,r,n){if(vC(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if($_(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${$_(e,r)}`);let i=0,s=0;const o=iA[e],a=iA[r]-1,c=[];for(const l of t){if(YS(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=iA[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function LZ(t,e=!1){if(YS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if($_(8,t)>32||$_(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!OZ(r))throw new Error("radix2.encode input should be Uint8Array");return YR(Array.from(r),8,t,!e)},decode:r=>(DZ("radix2.decode",r),Uint8Array.from(YR(r,t,8,e)))}}const FZ=kZ(LZ(5),MZ("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),$Z(5),UZ(""));function XS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function xU(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?XS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Rg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=xU(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return XS(r)}function BZ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,R=new Uint8Array(S);w!==x;){for(var D=m[w],P=0,F=S-1;(D!==0||P<y)&&F!==-1;F--,P++)D+=256*R[F]>>>0,R[F]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");y=P,w++}for(var E=S-y;E!==S&&R[E]===0;)E++;for(var v=c.repeat(g);E<S;++E)v+=t.charAt(R[E]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var R=r[m.charCodeAt(g)];if(R===255)return;for(var D=0,P=x-1;(R!==0||D<w)&&P!==-1;P--,D++)R+=a*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");w=D,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var E=new Uint8Array(y+(x-F)),v=y;F!==x;)E[v++]=S[F++];return E}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var jZ=BZ,HZ=jZ;const qZ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},WZ=t=>new TextEncoder().encode(t),zZ=t=>new TextDecoder().decode(t);class GZ{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class VZ{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return CU(this,e)}}class KZ{constructor(e){this.decoders=e}or(e){return CU(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const CU=(t,e)=>new KZ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class JZ{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new GZ(e,r,n),this.decoder=new VZ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const iv=({name:t,prefix:e,encode:r,decode:n})=>new JZ(t,e,r,n),Ly=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=HZ(r,e);return iv({prefix:t,name:e,encode:n,decode:s=>qZ(i(s))})},YZ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},XZ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ei=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>iv({prefix:e,name:t,encode(i){return XZ(i,n,r)},decode(i){return YZ(i,n,r,t)}}),QZ=iv({prefix:"\0",name:"identity",encode:t=>zZ(t),decode:t=>WZ(t)}),ZZ=Object.freeze(Object.defineProperty({__proto__:null,identity:QZ},Symbol.toStringTag,{value:"Module"})),eee=Ei({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tee=Object.freeze(Object.defineProperty({__proto__:null,base2:eee},Symbol.toStringTag,{value:"Module"})),ree=Ei({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),nee=Object.freeze(Object.defineProperty({__proto__:null,base8:ree},Symbol.toStringTag,{value:"Module"})),iee=Ly({prefix:"9",name:"base10",alphabet:"0123456789"}),see=Object.freeze(Object.defineProperty({__proto__:null,base10:iee},Symbol.toStringTag,{value:"Module"})),oee=Ei({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),aee=Ei({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),cee=Object.freeze(Object.defineProperty({__proto__:null,base16:oee,base16upper:aee},Symbol.toStringTag,{value:"Module"})),lee=Ei({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uee=Ei({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fee=Ei({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dee=Ei({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hee=Ei({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pee=Ei({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gee=Ei({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mee=Ei({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yee=Ei({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),bee=Object.freeze(Object.defineProperty({__proto__:null,base32:lee,base32hex:hee,base32hexpad:gee,base32hexpadupper:mee,base32hexupper:pee,base32pad:fee,base32padupper:dee,base32upper:uee,base32z:yee},Symbol.toStringTag,{value:"Module"})),_ee=Ly({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wee=Ly({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vee=Object.freeze(Object.defineProperty({__proto__:null,base36:_ee,base36upper:wee},Symbol.toStringTag,{value:"Module"})),Eee=Ly({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Aee=Ly({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),xee=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Eee,base58flickr:Aee},Symbol.toStringTag,{value:"Module"})),Cee=Ei({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nee=Ei({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),See=Ei({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Iee=Ei({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Tee=Object.freeze(Object.defineProperty({__proto__:null,base64:Cee,base64pad:Nee,base64url:See,base64urlpad:Iee},Symbol.toStringTag,{value:"Module"})),NU=Array.from(""),Ree=NU.reduce((t,e,r)=>(t[r]=e,t),[]),Pee=NU.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Oee(t){return t.reduce((e,r)=>(e+=Ree[r],e),"")}function Dee(t){const e=[];for(const r of t){const n=Pee[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const kee=iv({prefix:"",name:"base256emoji",encode:Oee,decode:Dee}),Mee=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:kee},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const XR={...ZZ,...tee,...nee,...see,...cee,...bee,...vee,...xee,...Tee,...Mee};function SU(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const QR=SU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sA=SU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=xU(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),IU={utf8:QR,"utf-8":QR,hex:XR.base16,latin1:sA,ascii:sA,binary:sA,...XR};function Fo(t,e="utf8"){const r=IU[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?XS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ls(t,e="utf8"){const r=IU[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const Uee={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var oA,ZR;function TU(){if(ZR)return oA;ZR=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=n(a[u]).toUpperCase(),l+=" ",l+=n(a[u+1]).toUpperCase();else if(c===64)l+=n(a[u+1]).toUpperCase(),l+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=d%256;const f=new Date().getTime();console.log("Generated random input in "+(f-l)+"ms"),l=f;for(let d=0;d<c;d++){const h=o(u),m=new Date().getTime(),g=m-l;l=m,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return oA={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},oA}var aA,eP;function $ee(){if(eP)return aA;eP=1;const t=TU();function e(w,x,S){const R=w[x]+w[S];let D=w[x+1]+w[S+1];R>=4294967296&&D++,w[x]=R,w[x+1]=D}function r(w,x,S,R){let D=w[x]+S;S<0&&(D+=4294967296);let P=w[x+1]+R;D>=4294967296&&P++,w[x]=D,w[x+1]=P}function n(w,x){return w[x]^w[x+1]<<8^w[x+2]<<16^w[x+3]<<24}function i(w,x,S,R,D,P){const F=l[D],E=l[D+1],v=l[P],M=l[P+1];e(c,w,x),r(c,w,F,E);let U=c[R]^c[w],I=c[R+1]^c[w+1];c[R]=I,c[R+1]=U,e(c,S,R),U=c[x]^c[S],I=c[x+1]^c[S+1],c[x]=U>>>24^I<<8,c[x+1]=I>>>24^U<<8,e(c,w,x),r(c,w,v,M),U=c[R]^c[w],I=c[R+1]^c[w+1],c[R]=U>>>16^I<<16,c[R+1]=I>>>16^U<<16,e(c,S,R),U=c[x]^c[S],I=c[x+1]^c[S+1],c[x]=I>>>31^U<<1,c[x+1]=U>>>31^I<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(w){return w*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(w,x){let S=0;for(S=0;S<16;S++)c[S]=w.h[S],c[S+16]=s[S];for(c[24]=c[24]^w.t,c[25]=c[25]^w.t/4294967296,x&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=n(w.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,a[S*16+0],a[S*16+1]),i(2,10,18,26,a[S*16+2],a[S*16+3]),i(4,12,20,28,a[S*16+4],a[S*16+5]),i(6,14,22,30,a[S*16+6],a[S*16+7]),i(0,10,20,30,a[S*16+8],a[S*16+9]),i(2,12,22,24,a[S*16+10],a[S*16+11]),i(4,14,16,26,a[S*16+12],a[S*16+13]),i(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)w.h[S]=w.h[S]^c[S]^c[S+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function d(w,x,S,R){if(w===0||w>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(x&&x.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(R&&R.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const D={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:w};f.fill(0),f[0]=w,x&&(f[1]=x.length),f[2]=1,f[3]=1,S&&f.set(S,32),R&&f.set(R,48);for(let P=0;P<16;P++)D.h[P]=s[P]^n(f,P*4);return x&&(h(D,x),D.c=128),D}function h(w,x){for(let S=0;S<x.length;S++)w.c===128&&(w.t+=w.c,u(w,!1),w.c=0),w.b[w.c++]=x[S]}function m(w){for(w.t+=w.c;w.c<128;)w.b[w.c++]=0;u(w,!0);const x=new Uint8Array(w.outlen);for(let S=0;S<w.outlen;S++)x[S]=w.h[S>>2]>>8*(S&3);return x}function g(w,x,S,R,D){S=S||64,w=t.normalizeInput(w),R&&(R=t.normalizeInput(R)),D&&(D=t.normalizeInput(D));const P=d(S,x,R,D);return h(P,w),m(P)}function y(w,x,S,R,D){const P=g(w,x,S,R,D);return t.toHex(P)}return aA={blake2b:g,blake2bHex:y,blake2bInit:d,blake2bUpdate:h,blake2bFinal:m},aA}var cA,tP;function Lee(){if(tP)return cA;tP=1;const t=TU();function e(m,g){return m[g]^m[g+1]<<8^m[g+2]<<16^m[g+3]<<24}function r(m,g,y,w,x,S){o[m]=o[m]+o[g]+x,o[w]=n(o[w]^o[m],16),o[y]=o[y]+o[w],o[g]=n(o[g]^o[y],12),o[m]=o[m]+o[g]+S,o[w]=n(o[w]^o[m],8),o[y]=o[y]+o[w],o[g]=n(o[g]^o[y],7)}function n(m,g){return m>>>g^m<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(m,g){let y=0;for(y=0;y<8;y++)o[y]=m.h[y],o[y+8]=i[y];for(o[12]^=m.t,o[13]^=m.t/4294967296,g&&(o[14]=~o[14]),y=0;y<16;y++)a[y]=e(m.b,4*y);for(y=0;y<10;y++)r(0,4,8,12,a[s[y*16+0]],a[s[y*16+1]]),r(1,5,9,13,a[s[y*16+2]],a[s[y*16+3]]),r(2,6,10,14,a[s[y*16+4]],a[s[y*16+5]]),r(3,7,11,15,a[s[y*16+6]],a[s[y*16+7]]),r(0,5,10,15,a[s[y*16+8]],a[s[y*16+9]]),r(1,6,11,12,a[s[y*16+10]],a[s[y*16+11]]),r(2,7,8,13,a[s[y*16+12]],a[s[y*16+13]]),r(3,4,9,14,a[s[y*16+14]],a[s[y*16+15]]);for(y=0;y<8;y++)m.h[y]^=o[y]^o[y+8]}function l(m,g){if(!(m>0&&m<=32))throw new Error("Incorrect output length, should be in [1, 32]");const y=g?g.length:0;if(g&&!(y>0&&y<=32))throw new Error("Incorrect key length, should be in [1, 32]");const w={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:m};return w.h[0]^=16842752^y<<8^m,y>0&&(u(w,g),w.c=64),w}function u(m,g){for(let y=0;y<g.length;y++)m.c===64&&(m.t+=m.c,c(m,!1),m.c=0),m.b[m.c++]=g[y]}function f(m){for(m.t+=m.c;m.c<64;)m.b[m.c++]=0;c(m,!0);const g=new Uint8Array(m.outlen);for(let y=0;y<m.outlen;y++)g[y]=m.h[y>>2]>>8*(y&3)&255;return g}function d(m,g,y){y=y||32,m=t.normalizeInput(m);const w=l(y,g);return u(w,m),f(w)}function h(m,g,y){const w=d(m,g,y);return t.toHex(w)}return cA={blake2s:d,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:f},cA}var lA,rP;function Fee(){if(rP)return lA;rP=1;const t=$ee(),e=Lee();return lA={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},lA}var Bee=Fee(),jee={};const Hee=":";function Sd(t){const[e,r]=t.split(Hee);return{namespace:e,reference:r}}function RU(t,e){return t.includes(":")?[t]:e.chains||[]}var qee=Object.defineProperty,Wee=Object.defineProperties,zee=Object.getOwnPropertyDescriptors,nP=Object.getOwnPropertySymbols,Gee=Object.prototype.hasOwnProperty,Vee=Object.prototype.propertyIsEnumerable,EC=(t,e,r)=>e in t?qee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iP=(t,e)=>{for(var r in e||(e={}))Gee.call(e,r)&&EC(t,r,e[r]);if(nP)for(var r of nP(e))Vee.call(e,r)&&EC(t,r,e[r]);return t},Kee=(t,e)=>Wee(t,zee(e)),sP=(t,e,r)=>EC(t,typeof e!="symbol"?e+"":e,r);const Jee="ReactNative",io={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Yee="js";function L_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Cf(){return!eu.getDocument()&&!!eu.getNavigator()&&navigator.product===Jee}function Xee(){return Cf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Qee(){return Cf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ip(){return!L_()&&!!eu.getNavigator()&&!!eu.getDocument()}function Fy(){return Cf()?io.reactNative:L_()?io.node:ip()?io.browser:io.unknown}function oP(){var t;try{return Cf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Zee(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function ete(t){var e,r;const n=PU();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Kee(iP(iP({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function PU(){return TQ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function tte(){if(Fy()===io.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=EQ();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function rte(){var t;const e=Fy();return e===io.browser?[e,((t=eu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function OU(t,e,r){const n=tte(),i=rte();return[[t,e].join("-"),[Yee,r].join("-"),n,i].join("/")}function nte({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=OU(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=Zee(l[1]||"",f);return l[0]+"?"+d}function md(t,e){return t.filter(r=>e.includes(r)).length===t.length}function AC(t){return Object.fromEntries(t.entries())}function xC(t){return new Map(Object.entries(t))}function id(t=Ie.FIVE_MINUTES,e){const r=Ie.toMiliseconds(t||Ie.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function jc(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function DU(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function ite(t){return DU("topic",t)}function ste(t){return DU("id",t)}function kU(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Hn(t,e){return Ie.fromMiliseconds(Date.now()+Ie.toMiliseconds(t))}function Lu(t){return Date.now()>=Ie.toMiliseconds(t)}function Jt(t,e){return`${t}${e?`:${e}`:""}`}function Kc(t=[],e=[]){return[...new Set([...t,...e])]}async function ote({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=ate(s,t,e),a=Fy();if(a===io.browser){if(!((n=eu.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}cte(o)}else a===io.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function ate(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${dte(n,!0)}`}else i=`${i}/wc?${n}`;return i}function cte(t){let e="_self";fte()?e="_top":(ute()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function lte(t,e){let r="";try{if(ip()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function aP(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function cP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function QS(){return typeof process<"u"&&jee.IS_VITEST==="true"}function ute(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function fte(){try{return window.self!==window.top}catch{return!1}}function dte(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function MU(t){return Buffer.from(t,"base64").toString("utf-8")}function hte(t){return new Promise(e=>setTimeout(e,t))}let pte=class{constructor({limit:e}){sP(this,"limit"),sP(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Cb=BigInt(2**32-1),lP=BigInt(32);function UU(t,e=!1){return e?{h:Number(t&Cb),l:Number(t>>lP&Cb)}:{h:Number(t>>lP&Cb)|0,l:Number(t&Cb)|0}}function $U(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=UU(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const uP=(t,e,r)=>t>>>r,fP=(t,e,r)=>t<<32-r|e>>>r,Fu=(t,e,r)=>t>>>r|e<<32-r,Bu=(t,e,r)=>t<<32-r|e>>>r,og=(t,e,r)=>t<<64-r|e>>>r-32,ag=(t,e,r)=>t>>>r-32|e<<64-r,gte=(t,e)=>e,mte=(t,e)=>t,yte=(t,e,r)=>t<<r|e>>>32-r,bte=(t,e,r)=>e<<r|t>>>32-r,_te=(t,e,r)=>e<<r-32|t>>>64-r,wte=(t,e,r)=>t<<r-32|e>>>64-r;function Na(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const ZS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),eI=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,vte=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ete=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Ate=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),xte=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,_h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function tI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Go(t,...e){if(!tI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function rI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");tu(t.outputLen),tu(t.blockLen)}function lf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nI(t,e){Go(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Om(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Vo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function uA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ec(t,e){return t<<32-e|t>>>e}const LU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FU(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const xl=LU?t=>t:t=>FU(t);function Cte(t){for(let e=0;e<t.length;e++)t[e]=FU(t[e]);return t}const ju=LU?t=>t:Cte,BU=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Nte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Dm(t){if(Go(t),BU)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Nte[t[r]];return e}const pl={_0:48,_9:57,A:65,F:70,a:97,f:102};function dP(t){if(t>=pl._0&&t<=pl._9)return t-pl._0;if(t>=pl.A&&t<=pl.F)return t-(pl.A-10);if(t>=pl.a&&t<=pl.f)return t-(pl.a-10)}function iI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(BU)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=dP(t.charCodeAt(s)),a=dP(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Ste(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function cc(t){return typeof t=="string"&&(t=Ste(t)),Go(t),t}function yd(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Go(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let sv=class{};function By(t){const e=n=>t().update(cc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Ite(t){const e=(n,i)=>t(i).update(cc(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function sp(t=32){if(_h&&typeof _h.getRandomValues=="function")return _h.getRandomValues(new Uint8Array(t));if(_h&&typeof _h.randomBytes=="function")return Uint8Array.from(_h.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Tte=BigInt(0),kp=BigInt(1),Rte=BigInt(2),Pte=BigInt(7),Ote=BigInt(256),Dte=BigInt(113),jU=[],HU=[],qU=[];for(let t=0,e=kp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],jU.push(2*(5*n+r)),HU.push((t+1)*(t+2)/2%64);let i=Tte;for(let s=0;s<7;s++)e=(e<<kp^(e>>Pte)*Dte)%Ote,e&Rte&&(i^=kp<<(kp<<BigInt(s))-kp);qU.push(i)}const WU=$U(qU,!0),kte=WU[0],Mte=WU[1],hP=(t,e,r)=>r>32?_te(t,e,r):yte(t,e,r),pP=(t,e,r)=>r>32?wte(t,e,r):bte(t,e,r);function Ute(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=hP(l,u,1)^r[a],d=pP(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=HU[o],c=hP(i,s,a),l=pP(i,s,a),u=jU[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=kte[n],t[1]^=Mte[n]}Vo(r)}let $te=class zU extends sv{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,tu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Om(this.state)}clone(){return this._cloneInto()}keccak(){ju(this.state32),Ute(this.state32,this.rounds),ju(this.state32),this.posOut=0,this.pos=0}update(e){lf(this),e=cc(e),Go(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lf(this,!1),Go(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(nI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Vo(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new zU(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Lte=(t,e,r)=>By(()=>new $te(e,t,r)),Fte=Lte(1,136,256/8);function Bte(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function jte(t,e,r){return t&e^~t&r}function Hte(t,e,r){return t&e^t&r^e&r}let GU=class extends sv{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=uA(this.buffer)}update(e){lf(this),e=cc(e),Go(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=uA(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lf(this),nI(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Vo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;Bte(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=uA(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const wu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ii=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ti=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qte=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vu=new Uint32Array(64);let Wte=class extends GU{constructor(e=32){super(64,e,8,!1),this.A=wu[0]|0,this.B=wu[1]|0,this.C=wu[2]|0,this.D=wu[3]|0,this.E=wu[4]|0,this.F=wu[5]|0,this.G=wu[6]|0,this.H=wu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)vu[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=vu[f-15],h=vu[f-2],m=Ec(d,7)^Ec(d,18)^d>>>3,g=Ec(h,17)^Ec(h,19)^h>>>10;vu[f]=g+vu[f-7]+m+vu[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Ec(a,6)^Ec(a,11)^Ec(a,25),h=u+d+jte(a,c,l)+qte[f]+vu[f]|0,m=(Ec(n,2)^Ec(n,13)^Ec(n,22))+Hte(n,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Vo(vu)}destroy(){this.set(0,0,0,0,0,0,0,0),Vo(this.buffer)}};const VU=$U(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),zte=VU[0],Gte=VU[1],Eu=new Uint32Array(80),Au=new Uint32Array(80);let sI=class extends GU{constructor(e=64){super(128,e,16,!1),this.Ah=Ti[0]|0,this.Al=Ti[1]|0,this.Bh=Ti[2]|0,this.Bl=Ti[3]|0,this.Ch=Ti[4]|0,this.Cl=Ti[5]|0,this.Dh=Ti[6]|0,this.Dl=Ti[7]|0,this.Eh=Ti[8]|0,this.El=Ti[9]|0,this.Fh=Ti[10]|0,this.Fl=Ti[11]|0,this.Gh=Ti[12]|0,this.Gl=Ti[13]|0,this.Hh=Ti[14]|0,this.Hl=Ti[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(e,r){for(let S=0;S<16;S++,r+=4)Eu[S]=e.getUint32(r),Au[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const R=Eu[S-15]|0,D=Au[S-15]|0,P=Fu(R,D,1)^Fu(R,D,8)^uP(R,D,7),F=Bu(R,D,1)^Bu(R,D,8)^fP(R,D,7),E=Eu[S-2]|0,v=Au[S-2]|0,M=Fu(E,v,19)^og(E,v,61)^uP(E,v,6),U=Bu(E,v,19)^ag(E,v,61)^fP(E,v,6),I=vte(F,U,Au[S-7],Au[S-16]),C=Ete(I,P,M,Eu[S-7],Eu[S-16]);Eu[S]=C|0,Au[S]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:y,Hh:w,Hl:x}=this;for(let S=0;S<80;S++){const R=Fu(f,d,14)^Fu(f,d,18)^og(f,d,41),D=Bu(f,d,14)^Bu(f,d,18)^ag(f,d,41),P=f&h^~f&g,F=d&m^~d&y,E=Ate(x,D,F,Gte[S],Au[S]),v=xte(E,w,R,P,zte[S],Eu[S]),M=E|0,U=Fu(n,i,28)^og(n,i,34)^og(n,i,39),I=Bu(n,i,28)^ag(n,i,34)^ag(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;w=g|0,x=y|0,g=h|0,y=m|0,h=f|0,m=d|0,{h:f,l:d}=Na(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const b=ZS(M,I,p);n=eI(b,v,U,C),i=b|0}({h:n,l:i}=Na(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Na(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Na(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Na(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=Na(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=Na(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:y}=Na(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:x}=Na(this.Hh|0,this.Hl|0,w|0,x|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,y,w,x)}roundClean(){Vo(Eu,Au)}destroy(){Vo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vte=class extends sI{constructor(){super(48),this.Ah=Ii[0]|0,this.Al=Ii[1]|0,this.Bh=Ii[2]|0,this.Bl=Ii[3]|0,this.Ch=Ii[4]|0,this.Cl=Ii[5]|0,this.Dh=Ii[6]|0,this.Dl=Ii[7]|0,this.Eh=Ii[8]|0,this.El=Ii[9]|0,this.Fh=Ii[10]|0,this.Fl=Ii[11]|0,this.Gh=Ii[12]|0,this.Gl=Ii[13]|0,this.Hh=Ii[14]|0,this.Hl=Ii[15]|0}};const Ri=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Kte extends sI{constructor(){super(32),this.Ah=Ri[0]|0,this.Al=Ri[1]|0,this.Bh=Ri[2]|0,this.Bl=Ri[3]|0,this.Ch=Ri[4]|0,this.Cl=Ri[5]|0,this.Dh=Ri[6]|0,this.Dl=Ri[7]|0,this.Eh=Ri[8]|0,this.El=Ri[9]|0,this.Fh=Ri[10]|0,this.Fl=Ri[11]|0,this.Gh=Ri[12]|0,this.Gl=Ri[13]|0,this.Hh=Ri[14]|0,this.Hl=Ri[15]|0}}const ov=By(()=>new Wte),Jte=By(()=>new sI),Yte=By(()=>new Vte),Xte=By(()=>new Kte),Qte=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Cn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Oe=new Uint32Array(32);function xu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Oe[2*t],l=Oe[2*t+1],u=Oe[2*e],f=Oe[2*e+1],d=Oe[2*r],h=Oe[2*r+1],m=Oe[2*n],g=Oe[2*n+1],y=ZS(c,u,o);l=eI(y,l,f,a),c=y|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:gte(g,m),Dl:mte(g)},{h,l:d}=Na(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Fu(f,u,24),Bl:Bu(f,u,24)},Oe[2*t]=c,Oe[2*t+1]=l,Oe[2*e]=u,Oe[2*e+1]=f,Oe[2*r]=d,Oe[2*r+1]=h,Oe[2*n]=m,Oe[2*n+1]=g}function Cu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Oe[2*t],l=Oe[2*t+1],u=Oe[2*e],f=Oe[2*e+1],d=Oe[2*r],h=Oe[2*r+1],m=Oe[2*n],g=Oe[2*n+1],y=ZS(c,u,o);l=eI(y,l,f,a),c=y|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:Fu(g,m,16),Dl:Bu(g,m,16)},{h,l:d}=Na(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:og(f,u,63),Bl:ag(f,u,63)},Oe[2*t]=c,Oe[2*t+1]=l,Oe[2*e]=u,Oe[2*e+1]=f,Oe[2*r]=d,Oe[2*r+1]=h,Oe[2*n]=m,Oe[2*n+1]=g}function Zte(t,e={},r,n,i){if(tu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class ere extends sv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,tu(e),tu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=Om(this.buffer)}update(e){lf(this),e=cc(e),Go(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(ju(i),this.compress(i,0,!1),ju(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const f=new Uint32Array(a,u,Math.floor((s-c)/4));ju(f);for(let d=0;c+r<s;d+=i.length,c+=r)this.length+=r,this.compress(f,d,!1);ju(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){lf(this),nI(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Vo(this.buffer.subarray(r)),ju(n),this.compress(n,0,!0),ju(n);const i=Om(e);this.get().forEach((s,o)=>i[o]=xl(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class tre extends ere{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Cn[0]|0,this.v0h=Cn[1]|0,this.v1l=Cn[2]|0,this.v1h=Cn[3]|0,this.v2l=Cn[4]|0,this.v2h=Cn[5]|0,this.v3l=Cn[6]|0,this.v3h=Cn[7]|0,this.v4l=Cn[8]|0,this.v4h=Cn[9]|0,this.v5l=Cn[10]|0,this.v5h=Cn[11]|0,this.v6l=Cn[12]|0,this.v6h=Cn[13]|0,this.v7l=Cn[14]|0,this.v7h=Cn[15]|0,Zte(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=cc(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=cc(s);const a=Om(s);this.v4l^=xl(a[0]),this.v4h^=xl(a[1]),this.v5l^=xl(a[2]),this.v5h^=xl(a[3])}if(i!==void 0){i=cc(i);const a=Om(i);this.v6l^=xl(a[0]),this.v6h^=xl(a[1]),this.v7l^=xl(a[2]),this.v7h^=xl(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:m,v7l:g,v7h:y}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,y){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=m|0,this.v7l=g|0,this.v7h=y|0}compress(e,r,n){this.get().forEach((c,l)=>Oe[l]=c),Oe.set(Cn,16);let{h:i,l:s}=UU(BigInt(this.length));Oe[24]=Cn[8]^s,Oe[25]=Cn[9]^i,n&&(Oe[28]=~Oe[28],Oe[29]=~Oe[29]);let o=0;const a=Qte;for(let c=0;c<12;c++)xu(0,4,8,12,e,r+2*a[o++]),Cu(0,4,8,12,e,r+2*a[o++]),xu(1,5,9,13,e,r+2*a[o++]),Cu(1,5,9,13,e,r+2*a[o++]),xu(2,6,10,14,e,r+2*a[o++]),Cu(2,6,10,14,e,r+2*a[o++]),xu(3,7,11,15,e,r+2*a[o++]),Cu(3,7,11,15,e,r+2*a[o++]),xu(0,5,10,15,e,r+2*a[o++]),Cu(0,5,10,15,e,r+2*a[o++]),xu(1,6,11,12,e,r+2*a[o++]),Cu(1,6,11,12,e,r+2*a[o++]),xu(2,7,8,13,e,r+2*a[o++]),Cu(2,7,8,13,e,r+2*a[o++]),xu(3,4,9,14,e,r+2*a[o++]),Cu(3,4,9,14,e,r+2*a[o++]);this.v0l^=Oe[0]^Oe[16],this.v0h^=Oe[1]^Oe[17],this.v1l^=Oe[2]^Oe[18],this.v1h^=Oe[3]^Oe[19],this.v2l^=Oe[4]^Oe[20],this.v2h^=Oe[5]^Oe[21],this.v3l^=Oe[6]^Oe[22],this.v3h^=Oe[7]^Oe[23],this.v4l^=Oe[8]^Oe[24],this.v4h^=Oe[9]^Oe[25],this.v5l^=Oe[10]^Oe[26],this.v5h^=Oe[11]^Oe[27],this.v6l^=Oe[12]^Oe[28],this.v6h^=Oe[13]^Oe[29],this.v7l^=Oe[14]^Oe[30],this.v7h^=Oe[15]^Oe[31],Vo(Oe)}destroy(){this.destroyed=!0,Vo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const rre=Ite(t=>new tre(t)),nre="https://rpc.walletconnect.org/v1";function KU(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(Fte(r)).toString("hex")}async function ire(t,e,r,n,i,s){switch(r.t){case"eip191":return await sre(t,e,r.s);case"eip1271":return await ore(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function sre(t,e,r){return(await VQ({hash:KU(e),signature:r})).toLowerCase()===t.toLowerCase()}async function ore(t,e,r,n,i,s){const o=Sd(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:KU(e)).substring(2),d=a+f+c+u+l,h=await fetch(`${s||nre}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:are(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:m}=await h.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function are(){return Date.now()+Math.floor(Math.random()*1e3)}function cre(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return np.encode(s)}function lre(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=rre(n,{dkLen:32});return np.encode(i)}function gP(t){const e=new Uint8Array(ov(ure(t)));return np.encode(e)}function ure(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function mP(t){const e=Buffer.from(t,"base64"),r=PZ(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=EZ(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=Xte(s);return FZ.encode(o).replace(/=+$/,"")}function fA(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function fre(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(fA(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(fA(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(fA(n.length)),i.push(n);const s=Buffer.concat(i),o=ov(s);return Buffer.from(o).toString("hex").toUpperCase()}var dre=Object.defineProperty,hre=Object.defineProperties,pre=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,gre=Object.prototype.hasOwnProperty,mre=Object.prototype.propertyIsEnumerable,bP=(t,e,r)=>e in t?dre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yre=(t,e)=>{for(var r in e||(e={}))gre.call(e,r)&&bP(t,r,e[r]);if(yP)for(var r of yP(e))mre.call(e,r)&&bP(t,r,e[r]);return t},bre=(t,e)=>hre(t,pre(e));const _re="did:pkh:",oI=t=>t?.split(":"),wre=t=>{const e=t&&oI(t);if(e)return t.includes(_re)?e[3]:e[1]},CC=t=>{const e=t&&oI(t);if(e)return e[2]+":"+e[3]},F_=t=>{const e=t&&oI(t);if(e)return e.pop()};async function _P(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=JU(i,i.iss),o=F_(i.iss);return await ire(o,s,n,CC(i.iss),r)}const JU=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=F_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${wre(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=p1(t.resources);if(m){const g=km(m);i=Tre(i,g)}return[r,n,"",i,"",s,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function vre(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Ere(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Fd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Are(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:xre(e,r,n)}}}function xre(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function YU(t){return Fd(t),`urn:recap:${vre(t).replace(/=/g,"")}`}function km(t){const e=Ere(t.replace("urn:recap:",""));return Fd(e),e}function Cre(t,e,r){const n=Are(t,e,r);return YU(n)}function Nre(t){return t&&t.includes("urn:recap:")}function Sre(t,e){const r=km(t),n=km(e),i=Ire(r,n);return YU(i)}function Ire(t,e){Fd(t),Fd(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=bre(yre({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function Tre(t="",e){Fd(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function wP(t){var e;const r=km(t);Fd(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function vP(t){const e=km(t);Fd(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function p1(t){if(!t)return;const e=t?.[t.length-1];return Nre(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function XU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function NC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function dA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ps(t,...e){if(!XU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function EP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Rre(t,e){Ps(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Zu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function B0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Pre(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Ore=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Dre(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function SC(t){if(typeof t=="string")t=Dre(t);else if(XU(t))t=IC(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function kre(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Mre(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Ure=(t,e)=>{function r(n,...i){if(Ps(n),!Ore)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Ps(l):Ps(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Ps(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Ps(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Ps(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Ps(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function AP(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Lre(e))throw new Error("invalid output, must be aligned");return e}function xP(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function $re(t,e,r){NC(r);const n=new Uint8Array(16),i=Pre(n);return xP(i,0,BigInt(e),r),xP(i,8,BigInt(t),r),n}function Lre(t){return t.byteOffset%4===0}function IC(t){return Uint8Array.from(t)}const QU=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Fre=QU("expand 16-byte k"),Bre=QU("expand 32-byte k"),jre=Zu(Fre),Hre=Zu(Bre);function Bt(t,e){return t<<e|t>>>32-e}function TC(t){return t.byteOffset%4===0}const Nb=64,qre=16,ZU=2**32-1,CP=new Uint32Array;function Wre(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(Nb),u=Zu(l),f=TC(i)&&TC(s),d=f?Zu(i):CP,h=f?Zu(s):CP;for(let m=0;m<c;o++){if(t(e,r,n,u,o,a),o>=ZU)throw new Error("arx: counter overflow");const g=Math.min(Nb,c-m);if(f&&g===Nb){const y=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,x;w<qre;w++)x=y+w,h[x]=d[x]^u[w];m+=Nb;continue}for(let y=0,w;y<g;y++)w=m+y,s[w]=i[w]^l[y];m+=g}}function zre(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=kre({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return dA(i),dA(o),NC(s),NC(r),(a,c,l,u,f=0)=>{Ps(a),Ps(c),Ps(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Ps(u),dA(f),f<0||f>=ZU)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let m=a.length,g,y;if(m===32)h.push(g=IC(a)),y=Hre;else if(m===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),y=jre,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);TC(c)||h.push(c=IC(c));const w=Zu(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,w,Zu(c.subarray(0,16)),w),c=c.subarray(16)}const x=16-i;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const R=new Uint8Array(12);R.set(c,s?0:12-c.length),c=R,h.push(c)}const S=Zu(c);return Wre(t,y,w,S,l,u,f,o),B0(...h),u}}const li=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Gre{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=SC(e),Ps(e,32);const r=li(e,0),n=li(e,2),i=li(e,4),s=li(e,6),o=li(e,8),a=li(e,10),c=li(e,12),l=li(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=li(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],m=o[7],g=o[8],y=o[9],w=li(e,r+0),x=li(e,r+2),S=li(e,r+4),R=li(e,r+6),D=li(e,r+8),P=li(e,r+10),F=li(e,r+12),E=li(e,r+14);let v=s[0]+(w&8191),M=s[1]+((w>>>13|x<<3)&8191),U=s[2]+((x>>>10|S<<6)&8191),I=s[3]+((S>>>7|R<<9)&8191),C=s[4]+((R>>>4|D<<12)&8191),p=s[5]+(D>>>1&8191),b=s[6]+((D>>>14|P<<2)&8191),_=s[7]+((P>>>11|F<<5)&8191),N=s[8]+((F>>>8|E<<8)&8191),O=s[9]+(E>>>5|i),$=0,j=$+v*a+M*(5*y)+U*(5*g)+I*(5*m)+C*(5*h);$=j>>>13,j&=8191,j+=p*(5*d)+b*(5*f)+_*(5*u)+N*(5*l)+O*(5*c),$+=j>>>13,j&=8191;let k=$+v*c+M*a+U*(5*y)+I*(5*g)+C*(5*m);$=k>>>13,k&=8191,k+=p*(5*h)+b*(5*d)+_*(5*f)+N*(5*u)+O*(5*l),$+=k>>>13,k&=8191;let A=$+v*l+M*c+U*a+I*(5*y)+C*(5*g);$=A>>>13,A&=8191,A+=p*(5*m)+b*(5*h)+_*(5*d)+N*(5*f)+O*(5*u),$+=A>>>13,A&=8191;let L=$+v*u+M*l+U*c+I*a+C*(5*y);$=L>>>13,L&=8191,L+=p*(5*g)+b*(5*m)+_*(5*h)+N*(5*d)+O*(5*f),$+=L>>>13,L&=8191;let H=$+v*f+M*u+U*l+I*c+C*a;$=H>>>13,H&=8191,H+=p*(5*y)+b*(5*g)+_*(5*m)+N*(5*h)+O*(5*d),$+=H>>>13,H&=8191;let T=$+v*d+M*f+U*u+I*l+C*c;$=T>>>13,T&=8191,T+=p*a+b*(5*y)+_*(5*g)+N*(5*m)+O*(5*h),$+=T>>>13,T&=8191;let G=$+v*h+M*d+U*f+I*u+C*l;$=G>>>13,G&=8191,G+=p*c+b*a+_*(5*y)+N*(5*g)+O*(5*m),$+=G>>>13,G&=8191;let B=$+v*m+M*h+U*d+I*f+C*u;$=B>>>13,B&=8191,B+=p*l+b*c+_*a+N*(5*y)+O*(5*g),$+=B>>>13,B&=8191;let J=$+v*g+M*m+U*h+I*d+C*f;$=J>>>13,J&=8191,J+=p*u+b*l+_*c+N*a+O*(5*y),$+=J>>>13,J&=8191;let Y=$+v*y+M*g+U*m+I*h+C*d;$=Y>>>13,Y&=8191,Y+=p*f+b*u+_*l+N*c+O*a,$+=Y>>>13,Y&=8191,$=($<<2)+$|0,$=$+j|0,j=$&8191,$=$>>>13,k+=$,s[0]=j,s[1]=k,s[2]=A,s[3]=L,s[4]=H,s[5]=T,s[6]=G,s[7]=B,s[8]=J,s[9]=Y}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;B0(n)}update(e){EP(this),e=SC(e),Ps(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){B0(this.h,this.r,this.buffer,this.pad)}digestInto(e){EP(this),Rre(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function Vre(t){const e=(n,i)=>t(i).update(SC(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const Kre=Vre(t=>new Gre(t));function Jre(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],h=e[3],m=e[4],g=e[5],y=e[6],w=e[7],x=i,S=r[0],R=r[1],D=r[2],P=o,F=a,E=c,v=l,M=u,U=f,I=d,C=h,p=m,b=g,_=y,N=w,O=x,$=S,j=R,k=D;for(let L=0;L<s;L+=2)P=P+M|0,O=Bt(O^P,16),p=p+O|0,M=Bt(M^p,12),P=P+M|0,O=Bt(O^P,8),p=p+O|0,M=Bt(M^p,7),F=F+U|0,$=Bt($^F,16),b=b+$|0,U=Bt(U^b,12),F=F+U|0,$=Bt($^F,8),b=b+$|0,U=Bt(U^b,7),E=E+I|0,j=Bt(j^E,16),_=_+j|0,I=Bt(I^_,12),E=E+I|0,j=Bt(j^E,8),_=_+j|0,I=Bt(I^_,7),v=v+C|0,k=Bt(k^v,16),N=N+k|0,C=Bt(C^N,12),v=v+C|0,k=Bt(k^v,8),N=N+k|0,C=Bt(C^N,7),P=P+U|0,k=Bt(k^P,16),_=_+k|0,U=Bt(U^_,12),P=P+U|0,k=Bt(k^P,8),_=_+k|0,U=Bt(U^_,7),F=F+I|0,O=Bt(O^F,16),N=N+O|0,I=Bt(I^N,12),F=F+I|0,O=Bt(O^F,8),N=N+O|0,I=Bt(I^N,7),E=E+C|0,$=Bt($^E,16),p=p+$|0,C=Bt(C^p,12),E=E+C|0,$=Bt($^E,8),p=p+$|0,C=Bt(C^p,7),v=v+M|0,j=Bt(j^v,16),b=b+j|0,M=Bt(M^b,12),v=v+M|0,j=Bt(j^v,8),b=b+j|0,M=Bt(M^b,7);let A=0;n[A++]=o+P|0,n[A++]=a+F|0,n[A++]=c+E|0,n[A++]=l+v|0,n[A++]=u+M|0,n[A++]=f+U|0,n[A++]=d+I|0,n[A++]=h+C|0,n[A++]=m+p|0,n[A++]=g+b|0,n[A++]=y+_|0,n[A++]=w+N|0,n[A++]=x+O|0,n[A++]=S+$|0,n[A++]=R+j|0,n[A++]=D+k|0}const Yre=zre(Jre,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Xre=new Uint8Array(16),NP=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Xre.subarray(r))},Qre=new Uint8Array(32);function SP(t,e,r,n,i){const s=t(e,r,Qre),o=Kre.create(s);i&&NP(o,i),NP(o,n);const a=$re(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return B0(s,a),c}const Zre=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=AP(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=SP(t,e,r,a,n);return s.set(c,o),B0(c),s},decrypt(i,s){s=AP(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=SP(t,e,r,o,n);if(!Mre(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),B0(c),s}}),e$=Ure({blockSize:64,nonceLength:12,tagLength:16},Zre(Yre));let t$=class extends sv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,rI(e);const n=cc(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Vo(s)}update(e){return lf(this),this.iHash.update(e),this}digestInto(e){lf(this),Go(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const av=(t,e,r)=>new t$(t,e).update(r).digest();av.create=(t,e)=>new t$(t,e);function ene(t,e,r){return rI(t),r===void 0&&(r=new Uint8Array(t.outputLen)),av(t,cc(r),cc(e))}const hA=Uint8Array.from([0]),IP=Uint8Array.of();function tne(t,e,r,n=32){rI(t),tu(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=IP);const o=new Uint8Array(s*i),a=av.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)hA[0]=u+1,c.update(u===0?IP:l).update(r).update(hA).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Vo(l,hA),o.slice(0,n)}const rne=(t,e,r,n,i)=>tne(t,ene(t,e,r),n,i),cv=ov,aI=BigInt(0),RC=BigInt(1);function B_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Sb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function r$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?aI:BigInt("0x"+t)}function lv(t){return r$(Dm(t))}function j_(t){return Go(t),r$(Dm(Uint8Array.from(t).reverse()))}function cI(t,e){return iI(t.toString(16).padStart(e*2,"0"))}function lI(t,e){return cI(t,e).reverse()}function Rs(t,e,r){let n;if(typeof e=="string")try{n=iI(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(tI(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const pA=t=>typeof t=="bigint"&&aI<=t;function nne(t,e,r){return pA(t)&&pA(e)&&pA(r)&&e<=t&&t<r}function PC(t,e,r,n){if(!nne(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ine(t){let e;for(e=0;t>aI;t>>=RC,e+=1);return e}const uv=t=>(RC<<BigInt(t))-RC;function sne(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=d=>new Uint8Array(d),i=d=>Uint8Array.of(d);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...d)=>r(o,s,...d),u=(d=n(0))=>{o=l(i(0),d),s=l(),d.length!==0&&(o=l(i(1),d),s=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){s=l();const m=s.slice();h.push(m),d+=s.length}return yd(...h)};return(d,h)=>{c(),u(d);let m;for(;!(m=h(f()));)u();return c(),m}}function fv(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function TP(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ms=BigInt(0),us=BigInt(1),bd=BigInt(2),one=BigInt(3),n$=BigInt(4),i$=BigInt(5),s$=BigInt(8);function ko(t,e){const r=t%e;return r>=Ms?r:e+r}function ya(t,e,r){let n=t;for(;e-- >Ms;)n*=n,n%=r;return n}function RP(t,e){if(t===Ms)throw new Error("invert: expected non-zero number");if(e<=Ms)throw new Error("invert: expected positive modulus, got "+e);let r=ko(t,e),n=e,i=Ms,s=us;for(;r!==Ms;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==us)throw new Error("invert: does not exist");return ko(i,e)}function o$(t,e){const r=(t.ORDER+us)/n$,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function ane(t,e){const r=(t.ORDER-i$)/s$,n=t.mul(e,bd),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,bd),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function cne(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-us,r=0;for(;e%bd===Ms;)e/=bd,r++;let n=bd;const i=op(t);for(;PP(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return o$;let s=i.pow(n,e);const o=(e+us)/bd;return function(a,c){if(a.is0(c))return c;if(PP(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,m=a.sqr(f);for(;!a.eql(m,a.ONE);)if(h++,m=a.sqr(m),h===l)throw new Error("Cannot find square root");const g=us<<BigInt(l-h-1),y=a.pow(u,g);l=h,u=a.sqr(y),f=a.mul(f,u),d=a.mul(d,y)}return d}}function lne(t){return t%n$===one?o$:t%s$===i$?ane:cne(t)}const une=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fne(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=une.reduce((n,i)=>(n[i]="function",n),e);return fv(t,r),t}function dne(t,e,r){if(r<Ms)throw new Error("invalid exponent, negatives unsupported");if(r===Ms)return t.ONE;if(r===us)return e;let n=t.ONE,i=e;for(;r>Ms;)r&us&&(n=t.mul(n,i)),i=t.sqr(i),r>>=us;return n}function a$(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function PP(t,e){const r=(t.ORDER-us)/bd,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function hne(t,e){e!==void 0&&tu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function op(t,e,r=!1,n={}){if(t<=Ms)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=hne(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:uv(o),ZERO:Ms,ONE:us,create:u=>ko(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Ms<=u&&u<t},is0:u=>u===Ms,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&us)===us,neg:u=>ko(-u,t),eql:(u,f)=>u===f,sqr:u=>ko(u*u,t),add:(u,f)=>ko(u+f,t),sub:(u,f)=>ko(u-f,t),mul:(u,f)=>ko(u*f,t),pow:(u,f)=>dne(l,u,f),div:(u,f)=>ko(u*RP(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>RP(u,t),sqrt:s||(u=>(c||(c=lne(t)),c(l,u))),toBytes:u=>r?lI(u,a):cI(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?j_(u):lv(u)},invertBatch:u=>a$(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function c$(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function l$(t){const e=c$(t);return e+Math.ceil(e/2)}function pne(t,e,r=!1){const n=t.length,i=c$(e),s=l$(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?j_(t):lv(t),a=ko(o,e-us)+us;return r?lI(a,i):cI(a,i)}const j0=BigInt(0),_d=BigInt(1);function Pg(t,e){const r=e.negate();return t?r:e}function gne(t,e,r){const n=s=>s.pz,i=a$(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function u$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function gA(t,e){u$(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=uv(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function OP(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=_d);const l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function mne(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function yne(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const mA=new WeakMap,f$=new WeakMap;function yA(t){return f$.get(t)||1}function DP(t){if(t!==j0)throw new Error("invalid wNAF")}function bne(t,e){return{constTimeNegate:Pg,hasPrecomputes(r){return yA(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>j0;)n&_d&&(i=i.add(s)),s=s.double(),n>>=_d;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=gA(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=gA(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:m}=OP(i,c,a);i=l,f?o=o.add(Pg(h,n[m])):s=s.add(Pg(d,n[u]))}return DP(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=gA(r,e);for(let a=0;a<o.windows&&i!==j0;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=OP(i,a,o);if(i=c,!u){const d=n[l];s=s.add(f?d.negate():d)}}return DP(i),s},getPrecomputes(r,n,i){let s=mA.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),mA.set(n,s))),s},wNAFCached(r,n,i){const s=yA(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=yA(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){u$(n,e),f$.set(r,n),mA.delete(r)}}}function _ne(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>j0||n>j0;)r&_d&&(s=s.add(i)),n&_d&&(o=o.add(i)),i=i.double(),r>>=_d,n>>=_d;return{p1:s,p2:o}}function wne(t,e,r,n){mne(r,t),yne(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=ine(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=uv(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const y=n[g],w=Number(y>>BigInt(h)&l);u[w]=u[w].add(r[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(d=d.add(m),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function kP(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return fne(e),e}else return op(t)}function vne(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>j0))throw new Error(`CURVE.${o} must be positive bigint`)}const n=kP(e.p,r.Fp),i=kP(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Mp=BigInt(0),wh=BigInt(1),Ib=BigInt(2);function Ene(t){return fv(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Ane(t){const e=Ene(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||sp,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?Ib**BigInt(254):Ib**BigInt(447),m=a?BigInt(8)*Ib**BigInt(251)-wh:BigInt(4)*Ib**BigInt(445)-wh,g=h+m+wh,y=v=>ko(v,r),w=x(f);function x(v){return lI(y(v),u)}function S(v){const M=Rs("u coordinate",v,u);return a&&(M[31]&=127),y(j_(M))}function R(v){return j_(i(Rs("scalar",v,u)))}function D(v,M){const U=E(S(M),R(v));if(U===Mp)throw new Error("invalid private or public key received");return x(U)}function P(v){return D(v,w)}function F(v,M,U){const I=y(v*(M-U));return M=y(M-I),U=y(U+I),{x_2:M,x_3:U}}function E(v,M){PC("u",v,Mp,r),PC("scalar",M,h,g);const U=M,I=v;let C=wh,p=Mp,b=v,_=wh,N=Mp;for(let $=BigInt(l-1);$>=Mp;$--){const j=U>>$&wh;N^=j,{x_2:C,x_3:b}=F(N,C,b),{x_2:p,x_3:_}=F(N,p,_),N=j;const k=C+p,A=y(k*k),L=C-p,H=y(L*L),T=A-H,G=b+_,B=b-_,J=y(B*k),Y=y(G*L),ee=J+Y,oe=J-Y;b=y(ee*ee),_=y(I*y(oe*oe)),C=y(A*H),p=y(T*(A+y(d*T)))}({x_2:C,x_3:b}=F(N,C,b)),{x_2:p,x_3:_}=F(N,p,_);const O=s(p);return y(C*O)}return{scalarMult:D,scalarMultBase:P,getSharedSecret:(v,M)=>D(v,M),getPublicKey:v=>P(v),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const xne=BigInt(1),MP=BigInt(2),Cne=BigInt(3),Nne=BigInt(5);BigInt(8);const d$={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Sne(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=d$.p,o=t*t%s*t%s,a=ya(o,MP,s)*o%s,c=ya(a,xne,s)*t%s,l=ya(c,Nne,s)*c%s,u=ya(l,e,s)*l%s,f=ya(u,r,s)*u%s,d=ya(f,n,s)*f%s,h=ya(d,i,s)*d%s,m=ya(h,i,s)*d%s,g=ya(m,e,s)*l%s;return{pow_p_5_8:ya(g,MP,s)*t%s,b2:o}}function Ine(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const OC=(()=>{const t=d$.p;return Ane({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Sne(e);return ko(ya(r,Cne,t)*n,t)},adjustScalarBytes:Ine})})();function UP(t){t.lowS!==void 0&&B_("lowS",t.lowS),t.prehash!==void 0&&B_("prehash",t.prehash)}class Tne extends Error{constructor(e=""){super(e)}}const $l={Err:Tne,_tlv:{encode:(t,e)=>{const{Err:r}=$l;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Sb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Sb(i.length/2|128):"";return Sb(t)+s+i+e},decode(t,e){const{Err:r}=$l;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=$l;if(t<Og)throw new e("integer: negative integers are not allowed");let r=Sb(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=$l;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return lv(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=$l,i=Rs("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=$l,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Og=BigInt(0),Dg=BigInt(1),Rne=BigInt(2),Tb=BigInt(3),Pne=BigInt(4);function One(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function h$(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Rs("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Dne(t,e={}){const{Fp:r,Fn:n}=vne("weierstrass",t,e),{h:i,n:s}=t;fv(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(E,v,M){const{x:U,y:I}=v.toAffine(),C=r.toBytes(U);if(B_("isCompressed",M),M){a();const p=!r.isOdd(I);return yd(p$(p),C)}else return yd(Uint8Array.of(4),C,r.toBytes(I))}function l(E){Go(E);const v=r.BYTES,M=v+1,U=2*v+1,I=E.length,C=E[0],p=E.subarray(1);if(I===M&&(C===2||C===3)){const b=r.fromBytes(p);if(!r.isValid(b))throw new Error("bad point: is not on curve, wrong x");const _=d(b);let N;try{N=r.sqrt(_)}catch($){const j=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}a();const O=r.isOdd(N);return(C&1)===1!==O&&(N=r.neg(N)),{x:b,y:N}}else if(I===U&&C===4){const b=r.fromBytes(p.subarray(v*0,v*1)),_=r.fromBytes(p.subarray(v*1,v*2));if(!h(b,_))throw new Error("bad point: is not on curve");return{x:b,y:_}}else throw new Error(`bad point: got length ${I}, expected compressed=${M} or uncompressed=${U}`)}const u=e.toBytes||c,f=e.fromBytes||l,d=One(r,t.a,t.b);function h(E,v){const M=r.sqr(v),U=d(E);return r.eql(M,U)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(t.a,Tb),Pne),g=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function y(E,v,M=!1){if(!r.isValid(v)||M&&r.is0(v))throw new Error(`bad point coordinate ${E}`);return v}function w(E){if(!(E instanceof D))throw new Error("ProjectivePoint expected")}const x=TP((E,v)=>{const{px:M,py:U,pz:I}=E;if(r.eql(I,r.ONE))return{x:M,y:U};const C=E.is0();v==null&&(v=C?r.ONE:r.inv(I));const p=r.mul(M,v),b=r.mul(U,v),_=r.mul(I,v);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:p,y:b}}),S=TP(E=>{if(E.is0()){if(e.allowInfinityPoint&&!r.is0(E.py))return;throw new Error("bad point: ZERO")}const{x:v,y:M}=E.toAffine();if(!r.isValid(v)||!r.isValid(M))throw new Error("bad point: x or y not field elements");if(!h(v,M))throw new Error("bad point: equation left != right");if(!E.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(E,v,M,U,I){return M=new D(r.mul(M.px,E),M.py,M.pz),v=Pg(U,v),M=Pg(I,M),v.add(M)}class D{constructor(v,M,U){this.px=y("x",v),this.py=y("y",M,!0),this.pz=y("z",U),Object.freeze(this)}static fromAffine(v){const{x:M,y:U}=v||{};if(!v||!r.isValid(M)||!r.isValid(U))throw new Error("invalid affine point");if(v instanceof D)throw new Error("projective point not allowed");return r.is0(M)&&r.is0(U)?D.ZERO:new D(M,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){return gne(D,"pz",v)}static fromBytes(v){return Go(v),D.fromHex(v)}static fromHex(v){const M=D.fromAffine(f(Rs("pointHex",v)));return M.assertValidity(),M}static fromPrivateKey(v){const M=h$(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return D.BASE.multiply(M(v))}static msm(v,M){return wne(D,n,v,M)}precompute(v=8,M=!0){return F.setWindowSize(this,v),M||this.multiply(Tb),this}_setWindowSize(v){this.precompute(v)}assertValidity(){S(this)}hasEvenY(){const{y:v}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(v)}equals(v){w(v);const{px:M,py:U,pz:I}=this,{px:C,py:p,pz:b}=v,_=r.eql(r.mul(M,b),r.mul(C,I)),N=r.eql(r.mul(U,b),r.mul(p,I));return _&&N}negate(){return new D(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:M}=t,U=r.mul(M,Tb),{px:I,py:C,pz:p}=this;let b=r.ZERO,_=r.ZERO,N=r.ZERO,O=r.mul(I,I),$=r.mul(C,C),j=r.mul(p,p),k=r.mul(I,C);return k=r.add(k,k),N=r.mul(I,p),N=r.add(N,N),b=r.mul(v,N),_=r.mul(U,j),_=r.add(b,_),b=r.sub($,_),_=r.add($,_),_=r.mul(b,_),b=r.mul(k,b),N=r.mul(U,N),j=r.mul(v,j),k=r.sub(O,j),k=r.mul(v,k),k=r.add(k,N),N=r.add(O,O),O=r.add(N,O),O=r.add(O,j),O=r.mul(O,k),_=r.add(_,O),j=r.mul(C,p),j=r.add(j,j),O=r.mul(j,k),b=r.sub(b,O),N=r.mul(j,$),N=r.add(N,N),N=r.add(N,N),new D(b,_,N)}add(v){w(v);const{px:M,py:U,pz:I}=this,{px:C,py:p,pz:b}=v;let _=r.ZERO,N=r.ZERO,O=r.ZERO;const $=t.a,j=r.mul(t.b,Tb);let k=r.mul(M,C),A=r.mul(U,p),L=r.mul(I,b),H=r.add(M,U),T=r.add(C,p);H=r.mul(H,T),T=r.add(k,A),H=r.sub(H,T),T=r.add(M,I);let G=r.add(C,b);return T=r.mul(T,G),G=r.add(k,L),T=r.sub(T,G),G=r.add(U,I),_=r.add(p,b),G=r.mul(G,_),_=r.add(A,L),G=r.sub(G,_),O=r.mul($,T),_=r.mul(j,L),O=r.add(_,O),_=r.sub(A,O),O=r.add(A,O),N=r.mul(_,O),A=r.add(k,k),A=r.add(A,k),L=r.mul($,L),T=r.mul(j,T),A=r.add(A,L),L=r.sub(k,L),L=r.mul($,L),T=r.add(T,L),k=r.mul(A,T),N=r.add(N,k),k=r.mul(G,T),_=r.mul(H,_),_=r.sub(_,k),k=r.mul(H,A),O=r.mul(G,O),O=r.add(O,k),new D(_,N,O)}subtract(v){return this.add(v.negate())}is0(){return this.equals(D.ZERO)}multiply(v){const{endo:M}=e;if(!n.isValidNot0(v))throw new Error("invalid scalar: out of range");let U,I;const C=p=>F.wNAFCached(this,p,D.normalizeZ);if(M){const{k1neg:p,k1:b,k2neg:_,k2:N}=M.splitScalar(v),{p:O,f:$}=C(b),{p:j,f:k}=C(N);I=$.add(k),U=R(M.beta,O,j,p,_)}else{const{p,f:b}=C(v);U=p,I=b}return D.normalizeZ([U,I])[0]}multiplyUnsafe(v){const{endo:M}=e,U=this;if(!n.isValid(v))throw new Error("invalid scalar: out of range");if(v===Og||U.is0())return D.ZERO;if(v===Dg)return U;if(F.hasPrecomputes(this))return this.multiply(v);if(M){const{k1neg:I,k1:C,k2neg:p,k2:b}=M.splitScalar(v),{p1:_,p2:N}=_ne(D,U,C,b);return R(M.beta,_,N,I,p)}else return F.wNAFCachedUnsafe(U,v)}multiplyAndAddUnsafe(v,M,U){const I=this.multiplyUnsafe(M).add(v.multiplyUnsafe(U));return I.is0()?void 0:I}toAffine(v){return x(this,v)}isTorsionFree(){const{isTorsionFree:v}=e;return i===Dg?!0:v?v(D,this):F.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:v}=e;return i===Dg?this:v?v(D,this):this.multiplyUnsafe(i)}toBytes(v=!0){return B_("isCompressed",v),this.assertValidity(),u(D,this,v)}toRawBytes(v=!0){return this.toBytes(v)}toHex(v=!0){return Dm(this.toBytes(v))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}D.BASE=new D(t.Gx,t.Gy,r.ONE),D.ZERO=new D(r.ZERO,r.ONE,r.ZERO),D.Fp=r,D.Fn=n;const P=n.BITS,F=bne(D,e.endo?Math.ceil(P/2):P);return D}function p$(t){return Uint8Array.of(t?2:3)}function kne(t,e,r={}){fv(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||sp,i=e.hmac||((U,...I)=>av(e.hash,U,yd(...I))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(U){const I=a>>Dg;return U>I}function u(U){return l(U)?o.neg(U):U}function f(U,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class d{constructor(I,C,p){f("r",I),f("s",C),this.r=I,this.s=C,p!=null&&(this.recovery=p),Object.freeze(this)}static fromCompact(I){const C=o.BYTES,p=Rs("compactSignature",I,C*2);return new d(o.fromBytes(p.subarray(0,C)),o.fromBytes(p.subarray(C,C*2)))}static fromDER(I){const{r:C,s:p}=$l.toSig(Rs("DER",I));return new d(C,p)}assertValidity(){}addRecoveryBit(I){return new d(this.r,this.s,I)}recoverPublicKey(I){const C=s.ORDER,{r:p,s:b,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*Rne<C&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const N=_===2||_===3?p+a:p;if(!s.isValid(N))throw new Error("recovery id 2 or 3 invalid");const O=s.toBytes(N),$=t.fromHex(yd(p$((_&1)===0),O)),j=o.inv(N),k=S(Rs("msgHash",I)),A=o.create(-k*j),L=o.create(b*j),H=t.BASE.multiplyUnsafe(A).add($.multiplyUnsafe(L));if(H.is0())throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(I){if(I==="compact")return yd(o.toBytes(this.r),o.toBytes(this.s));if(I==="der")return iI($l.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Dm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Dm(this.toBytes("compact"))}}const h=h$(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),m={isValidPrivateKey(U){try{return h(U),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const U=a;return pne(n(l$(U)),U)},precompute(U=8,I=t.BASE){return I.precompute(U,!1)}};function g(U,I=!0){return t.fromPrivateKey(U).toBytes(I)}function y(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const I=Rs("key",U).length,C=s.BYTES,p=C+1,b=2*C+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===p))return I===p||I===b}function w(U,I,C=!0){if(y(U)===!0)throw new Error("first arg must be private key");if(y(I)===!1)throw new Error("second arg must be public key");return t.fromHex(I).multiply(h(U)).toBytes(C)}const x=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const I=lv(U),C=U.length*8-c;return C>0?I>>BigInt(C):I},S=e.bits2int_modN||function(U){return o.create(x(U))},R=uv(c);function D(U){return PC("num < 2^"+c,U,Og,R),o.toBytes(U)}function P(U,I,C=F){if(["recovered","canonical"].some(H=>H in C))throw new Error("sign() legacy options not supported");const{hash:p}=e;let{lowS:b,prehash:_,extraEntropy:N}=C;b==null&&(b=!0),U=Rs("msgHash",U),UP(C),_&&(U=Rs("prehashed msgHash",p(U)));const O=S(U),$=h(I),j=[D($),D(O)];if(N!=null&&N!==!1){const H=N===!0?n(s.BYTES):N;j.push(Rs("extraEntropy",H))}const k=yd(...j),A=O;function L(H){const T=x(H);if(!o.isValidNot0(T))return;const G=o.inv(T),B=t.BASE.multiply(T).toAffine(),J=o.create(B.x);if(J===Og)return;const Y=o.create(G*o.create(A+J*$));if(Y===Og)return;let ee=(B.x===J?0:2)|Number(B.y&Dg),oe=Y;return b&&l(Y)&&(oe=u(Y),ee^=1),new d(J,oe,ee)}return{seed:k,k2sig:L}}const F={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};function v(U,I,C=F){const{seed:p,k2sig:b}=P(U,I,C);return sne(e.hash.outputLen,o.BYTES,i)(p,b)}t.BASE.precompute(8);function M(U,I,C,p=E){const b=U;I=Rs("msgHash",I),C=Rs("publicKey",C),UP(p);const{lowS:_,prehash:N,format:O}=p;if("strict"in p)throw new Error("options.strict was renamed to lowS");if(O!==void 0&&!["compact","der","js"].includes(O))throw new Error('format must be "compact", "der" or "js"');const $=typeof b=="string"||tI(b),j=!$&&!O&&typeof b=="object"&&b!==null&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!$&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,A;try{if(j)if(O===void 0||O==="js")k=new d(b.r,b.s);else throw new Error("invalid format");if($){try{O!=="compact"&&(k=d.fromDER(b))}catch(ee){if(!(ee instanceof $l.Err))throw ee}!k&&O!=="der"&&(k=d.fromCompact(b))}A=t.fromHex(C)}catch{return!1}if(!k||_&&k.hasHighS())return!1;N&&(I=e.hash(I));const{r:L,s:H}=k,T=S(I),G=o.inv(H),B=o.create(T*G),J=o.create(L*G),Y=t.BASE.multiplyUnsafe(B).add(A.multiplyUnsafe(J));return Y.is0()?!1:o.create(Y.x)===L}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:v,verify:M,utils:m,Point:t,Signature:d})}function Mne(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=op(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Une(t){const{CURVE:e,curveOpts:r}=Mne(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function $ne(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Lne(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=Une(t),i=Dne(e,r),s=kne(i,n,r);return $ne(t,s)}function DC(t,e){const r=n=>Lne({...t,hash:n});return{...r(e),create:r}}const g$={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},m$={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},y$={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Fne=op(g$.p),Bne=op(m$.p),jne=op(y$.p),Hne=DC({...g$,Fp:Fne,lowS:!1},ov);DC({...m$,Fp:Bne,lowS:!1},Yte),DC({...y$,Fp:jne,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Jte);const qne=Hne,b$="base10",fs="base16",Os="base64pad",zu="base64url",jy="utf8",_$=0,Wl=1,Hy=2,Wne=0,$P=1,kg=12,uI=32;function zne(){const t=OC.utils.randomPrivateKey(),e=OC.getPublicKey(t);return{privateKey:Ls(t,fs),publicKey:Ls(e,fs)}}function kC(){const t=sp(uI);return Ls(t,fs)}function Gne(t,e){const r=OC.getSharedSecret(Fo(t,fs),Fo(e,fs)),n=rne(cv,r,void 0,void 0,uI);return Ls(n,fs)}function g1(t){const e=cv(Fo(t,fs));return Ls(e,fs)}function Po(t){const e=cv(Fo(t,jy));return Ls(e,fs)}function w$(t){return Fo(`${t}`,b$)}function Bd(t){return Number(Ls(t,b$))}function v$(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function E$(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function Vne(t){const e=w$(typeof t.type<"u"?t.type:_$);if(Bd(e)===Wl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Fo(t.senderPublicKey,fs):void 0,n=typeof t.iv<"u"?Fo(t.iv,fs):sp(kg),i=Fo(t.symKey,fs),s=e$(i,n).encrypt(Fo(t.message,jy)),o=A$({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===zu?v$(o):o}function Kne(t){const e=Fo(t.symKey,fs),{sealed:r,iv:n}=Mm({encoded:t.encoded,encoding:t.encoding}),i=e$(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ls(i,jy)}function Jne(t,e){const r=w$(Hy),n=sp(kg),i=Fo(t,jy),s=A$({type:r,sealed:i,iv:n});return e===zu?v$(s):s}function Yne(t,e){const{sealed:r}=Mm({encoded:t,encoding:e});return Ls(r,jy)}function A$(t){if(Bd(t.type)===Hy)return Ls(Rg([t.type,t.sealed]),Os);if(Bd(t.type)===Wl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ls(Rg([t.type,t.senderPublicKey,t.iv,t.sealed]),Os)}return Ls(Rg([t.type,t.iv,t.sealed]),Os)}function Mm(t){const e=(t.encoding||Os)===zu?E$(t.encoded):t.encoded,r=Fo(e,Os),n=r.slice(Wne,$P),i=$P;if(Bd(n)===Wl){const c=i+uI,l=c+kg,u=r.slice(i,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(Bd(n)===Hy){const c=r.slice(i),l=sp(kg);return{type:n,sealed:c,iv:l}}const s=i+kg,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function Xne(t,e){const r=Mm({encoded:t,encoding:e?.encoding});return x$({type:Bd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ls(r.senderPublicKey,fs):void 0,receiverPublicKey:e?.receiverPublicKey})}function x$(t){const e=t?.type||_$;if(e===Wl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function LP(t){return t.type===Wl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function FP(t){return t.type===Hy}function Qne(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Rg([new Uint8Array([4]),e,r])}function Zne(t,e){const[r,n,i]=t.split("."),s=Buffer.from(E$(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=cv(c),u=Qne(e);if(!qne.verify(Rg([o,a]),l,u))throw new Error("Invalid signature");return gC(t).payload}const eie="irn";function H_(t){return t?.relay||{protocol:eie}}function u0(t){const e=Uee[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function tie(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function BP(t){if(!t.includes("wc:")){const l=MU(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:rie(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:tie(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function rie(t){return t.startsWith("//")?t.substring(2):t}function nie(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function jP(t){const e=new URLSearchParams,r=nie(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Rb(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var iie=Object.defineProperty,sie=Object.defineProperties,oie=Object.getOwnPropertyDescriptors,HP=Object.getOwnPropertySymbols,aie=Object.prototype.hasOwnProperty,cie=Object.prototype.propertyIsEnumerable,qP=(t,e,r)=>e in t?iie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lie=(t,e)=>{for(var r in e||(e={}))aie.call(e,r)&&qP(t,r,e[r]);if(HP)for(var r of HP(e))cie.call(e,r)&&qP(t,r,e[r]);return t},uie=(t,e)=>sie(t,oie(e));function ap(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function fie(t){const e=[];return Object.values(t).forEach(r=>{e.push(...ap(r.accounts))}),e}function die(t,e){const r=[];return Object.values(t).forEach(n=>{ap(n.accounts).includes(e)&&r.push(...n.methods)}),r}function hie(t,e){const r=[];return Object.values(t).forEach(n=>{ap(n.accounts).includes(e)&&r.push(...n.events)}),r}function dv(t){return t.includes(":")}function f0(t){return dv(t)?t.split(":")[0]:t}function WP(t){var e,r,n;const i={};if(!Jc(t))return i;for(const[s,o]of Object.entries(t)){const a=dv(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=f0(s);i[u]=uie(lie({},i[u]),{chains:Kc(a,(e=i[u])==null?void 0:e.chains),methods:Kc(c,(r=i[u])==null?void 0:r.methods),events:Kc(l,(n=i[u])==null?void 0:n.events)})}return i}function pie(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function zP(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=pie(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Kc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function gie(t,e){var r,n,i,s,o,a;const c=WP(t),l=WP(e),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:Kc((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:Kc((i=c[d])==null?void 0:i.methods,(s=l[d])==null?void 0:s.methods),events:Kc((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const mie={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},yie={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Se(t,e){const{message:r,code:n}=yie[t];return{message:e?`${r} ${e}`:r,code:n}}function qr(t,e){const{message:r,code:n}=mie[t];return{message:e?`${r} ${e}`:r,code:n}}function zl(t,e){return!!Array.isArray(t)}function Jc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Wn(t){return typeof t>"u"}function _n(t,e){return e&&Wn(t)?!0:typeof t=="string"&&!!t.trim().length}function fI(t,e){return e&&Wn(t)?!0:typeof t=="number"&&!isNaN(t)}function bie(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return md(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=ap(a),f=r[o];(!md(RU(o,f),u)||!md(f.methods,c)||!md(f.events,l))&&(s=!1)}),s):!1}function q_(t){return _n(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function _ie(t){if(_n(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&q_(r)}}return!1}function wie(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(_n(t,!1)){if(e(t))return!0;const r=MU(t);return e(r)}}catch{}return!1}function vie(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Eie(t){return t?.topic}function Aie(t,e){let r=null;return _n(t?.publicKey,!1)||(r=Se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function GP(t){let e=!0;return zl(t)?t.length&&(e=t.every(r=>_n(r,!1))):e=!1,e}function xie(t,e,r){let n=null;return zl(e)&&e.length?e.forEach(i=>{n||q_(i)||(n=qr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):q_(t)||(n=qr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Cie(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=xie(i,RU(i,s),`${e} ${r}`);o&&(n=o)}),n}function Nie(t,e){let r=null;return zl(t)?t.forEach(n=>{r||_ie(n)||(r=qr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=qr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Sie(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Nie(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Iie(t,e){let r=null;return GP(t?.methods)?GP(t?.events)||(r=qr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=qr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function C$(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Iie(n,`${e}, namespace`);i&&(r=i)}),r}function Tie(t,e,r){let n=null;if(t&&Jc(t)){const i=C$(t,e);i&&(n=i);const s=Cie(t,e,r);s&&(n=s)}else n=Se("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function bA(t,e){let r=null;if(t&&Jc(t)){const n=C$(t,e);n&&(r=n);const i=Sie(t,e);i&&(r=i)}else r=Se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function N$(t){return _n(t.protocol,!0)}function Rie(t,e){let r=!1;return t?t&&zl(t)&&t.length&&t.forEach(n=>{r=N$(n)}):r=!0,r}function Pie(t){return typeof t=="number"}function Is(t){return typeof t<"u"&&typeof t!==null}function Oie(t){return!(!t||typeof t!="object"||!t.code||!fI(t.code,!1)||!t.message||!_n(t.message,!1))}function Die(t){return!(Wn(t)||!_n(t.method,!1))}function kie(t){return!(Wn(t)||Wn(t.result)&&Wn(t.error)||!fI(t.id,!1)||!_n(t.jsonrpc,!1))}function Mie(t){return!(Wn(t)||!_n(t.name,!1))}function VP(t,e){return!(!q_(e)||!fie(t).includes(e))}function Uie(t,e,r){return _n(r,!1)?die(t,e).includes(r):!1}function $ie(t,e,r){return _n(r,!1)?hie(t,e).includes(r):!1}function KP(t,e,r){let n=null;const i=Lie(t),s=Fie(e),o=Object.keys(i),a=Object.keys(s),c=JP(Object.keys(t)),l=JP(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),md(o,a)||(n=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=ap(e[f].accounts);d.includes(f)||(n=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(md(i[f].methods,s[f].methods)?md(i[f].events,s[f].events)||(n=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Se("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Lie(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function JP(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Fie(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:ap(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function Bie(t,e){return fI(t,!1)&&t<=e.max&&t>=e.min}function YP(){const t=Fy();return new Promise(e=>{switch(t){case io.browser:e(jie());break;case io.reactNative:e(Hie());break;case io.node:e(qie());break;default:e(!0)}})}function jie(){return ip()&&navigator?.onLine}async function Hie(){return Cf()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function qie(){return!0}function Wie(t){switch(Fy()){case io.browser:zie(t);break;case io.reactNative:Gie(t);break}}function zie(t){!Cf()&&ip()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Gie(t){Cf()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Vie(){var t;return ip()&&eu.getDocument()?((t=eu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const _A={};class Up{static get(e){return _A[e]}static set(e,r){_A[e]=r}static delete(e){delete _A[e]}}function Kie(t){const e=np.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Jie({publicKey:t,signature:e,payload:r}){var n;const i=MC(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=Qie(r.address),a=r.era==="00"?new Uint8Array([0]):MC(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Xie(r.tip)}`),f=ese(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...i]),h=Zie(d.length+1);return new Uint8Array([...h,s,...d])}function Yie(t){const e=MC(t),r=Bee.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function MC(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Xie(t){return t.startsWith("0x")?t.slice(2):t}function Qie(t){const e=np.decode(t)[0];return e===42?0:e===60?2:1}function Zie(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function ese(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function tse(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=Kie(t.transaction.address),n=Jie({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return Yie(i)}const rse="PARSE_ERROR",nse="INVALID_REQUEST",ise="METHOD_NOT_FOUND",sse="INVALID_PARAMS",S$="INTERNAL_ERROR",dI="SERVER_ERROR",ose=[-32700,-32600,-32601,-32602,-32603],Mg={[rse]:{code:-32700,message:"Parse error"},[nse]:{code:-32600,message:"Invalid Request"},[ise]:{code:-32601,message:"Method not found"},[sse]:{code:-32602,message:"Invalid params"},[S$]:{code:-32603,message:"Internal error"},[dI]:{code:-32e3,message:"Server error"}},I$=dI;function ase(t){return ose.includes(t)}function XP(t){return Object.keys(Mg).includes(t)?Mg[t]:Mg[I$]}function cse(t){const e=Object.values(Mg).find(r=>r.code===t);return e||Mg[I$]}function T$(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var wA={},gl={},QP;function lse(){if(QP)return gl;QP=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.isBrowserCryptoAvailable=gl.getSubtleCrypto=gl.getBrowerCrypto=void 0;function t(){return za?.crypto||za?.msCrypto||{}}gl.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}gl.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return gl.isBrowserCryptoAvailable=r,gl}var ml={},ZP;function use(){if(ZP)return ml;ZP=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.isBrowser=ml.isNode=ml.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ml.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ml.isNode=e;function r(){return!t()&&!e()}return ml.isBrowser=r,ml}var e6;function fse(){return e6||(e6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dy;e.__exportStar(lse(),t),e.__exportStar(use(),t)})(wA)),wA}var dse=fse();function Rc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Ju(t=6){return BigInt(Rc(t))}function Uc(t,e,r){return{id:r||Rc(),jsonrpc:"2.0",method:t,params:e}}function Um(t,e){return{id:t,jsonrpc:"2.0",result:e}}function hv(t,e,r){return{id:t,jsonrpc:"2.0",error:hse(e)}}function hse(t,e){return typeof t>"u"?XP(S$):(typeof t=="string"&&(t=Object.assign(Object.assign({},XP(dI)),{message:t})),ase(t.code)&&(t=cse(t.code)),t)}let pse=class{},gse=class extends pse{constructor(){super()}},mse=class extends gse{constructor(e){super()}};const yse="^https?:",bse="^wss?:";function _se(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function R$(t,e){const r=_se(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function t6(t){return R$(t,yse)}function r6(t){return R$(t,bse)}function wse(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function P$(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function hI(t){return P$(t)&&"method"in t}function pv(t){return P$(t)&&(Pc(t)||Oo(t))}function Pc(t){return"result"in t}function Oo(t){return"error"in t}let Zo=class extends mse{constructor(e){super(e),this.events=new Qo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Uc(e.method,e.params||[],e.id||Ju().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Oo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),pv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const vse=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Ese=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",n6=t=>t.split("?")[0],i6=10,Ase=vse();let xse=class{constructor(e){if(this.url=e,this.events=new Qo.EventEmitter,this.registering=!1,!r6(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Zl(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!r6(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=dse.isReactNative()?void 0:{rejectUnauthorized:!wse(e)},s=new Ase(e,[],i);Ese()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=hv(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return T$(e,n6(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>i6&&this.events.setMaxListeners(i6)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${n6(this.url)}`));return this.events.emit("register_error",r),r}};var Cse={};const O$="wc",D$=2,UC="core",el=`${O$}@2:${UC}:`,Nse={logger:"error"},Sse={database:":memory:"},Ise="crypto",s6="client_ed25519_seed",Tse=Ie.ONE_DAY,Rse="keychain",Pse="0.3",Ose="messages",Dse="0.3",kse=Ie.SIX_HOURS,Mse="publisher",k$="irn",Use="error",M$="wss://relay.walletconnect.org",$se="relayer",hn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Lse="_subscription",mo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Fse=.1,$C="2.21.7",Fr={link_mode:"link_mode",relay:"relay"},m1={inbound:"inbound",outbound:"outbound"},Bse="0.3",jse="WALLETCONNECT_CLIENT_ID",o6="WALLETCONNECT_LINK_MODE_APPS",Gs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Hse="subscription",qse="0.3",Wse="pairing",zse="0.3",$p={wc_pairingDelete:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ie.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ie.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:0}}},cd={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ha={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Gse="history",Vse="0.3",Kse="expirer",To={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Jse="0.3",Yse="verify-api",Xse="https://verify.walletconnect.com",U$="https://verify.walletconnect.org",Ug=U$,Qse=`${Ug}/v3`,Zse=[Xse,U$],eoe="echo",toe="https://echo.walletconnect.com",Sc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Cl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Nu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Lp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Jf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Fp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},roe=.1,noe="event-client",ioe=86400,soe="https://pulse.walletconnect.org/batch";function ooe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,R=new Uint8Array(S);w!==x;){for(var D=m[w],P=0,F=S-1;(D!==0||P<y)&&F!==-1;F--,P++)D+=256*R[F]>>>0,R[F]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");y=P,w++}for(var E=S-y;E!==S&&R[E]===0;)E++;for(var v=c.repeat(g);E<S;++E)v+=t.charAt(R[E]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var R=r[m.charCodeAt(g)];if(R===255)return;for(var D=0,P=x-1;(R!==0||D<w)&&P!==-1;P--,D++)R+=a*S[P]>>>0,S[P]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");w=D,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var E=new Uint8Array(y+(x-F)),v=y;F!==x;)E[v++]=S[F++];return E}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var aoe=ooe,coe=aoe;const $$=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},loe=t=>new TextEncoder().encode(t),uoe=t=>new TextDecoder().decode(t);class foe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class doe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return L$(this,e)}}class hoe{constructor(e){this.decoders=e}or(e){return L$(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const L$=(t,e)=>new hoe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class poe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new foe(e,r,n),this.decoder=new doe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const gv=({name:t,prefix:e,encode:r,decode:n})=>new poe(t,e,r,n),qy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=coe(r,e);return gv({prefix:t,name:e,encode:n,decode:s=>$$(i(s))})},goe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},moe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ai=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>gv({prefix:e,name:t,encode(i){return moe(i,n,r)},decode(i){return goe(i,n,r,t)}}),yoe=gv({prefix:"\0",name:"identity",encode:t=>uoe(t),decode:t=>loe(t)});var boe=Object.freeze({__proto__:null,identity:yoe});const _oe=Ai({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var woe=Object.freeze({__proto__:null,base2:_oe});const voe=Ai({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Eoe=Object.freeze({__proto__:null,base8:voe});const Aoe=qy({prefix:"9",name:"base10",alphabet:"0123456789"});var xoe=Object.freeze({__proto__:null,base10:Aoe});const Coe=Ai({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Noe=Ai({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Soe=Object.freeze({__proto__:null,base16:Coe,base16upper:Noe});const Ioe=Ai({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Toe=Ai({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Roe=Ai({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Poe=Ai({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ooe=Ai({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Doe=Ai({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),koe=Ai({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Moe=Ai({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Uoe=Ai({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var $oe=Object.freeze({__proto__:null,base32:Ioe,base32upper:Toe,base32pad:Roe,base32padupper:Poe,base32hex:Ooe,base32hexupper:Doe,base32hexpad:koe,base32hexpadupper:Moe,base32z:Uoe});const Loe=qy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Foe=qy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Boe=Object.freeze({__proto__:null,base36:Loe,base36upper:Foe});const joe=qy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hoe=qy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qoe=Object.freeze({__proto__:null,base58btc:joe,base58flickr:Hoe});const Woe=Ai({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zoe=Ai({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Goe=Ai({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Voe=Ai({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Koe=Object.freeze({__proto__:null,base64:Woe,base64pad:zoe,base64url:Goe,base64urlpad:Voe});const F$=Array.from(""),Joe=F$.reduce((t,e,r)=>(t[r]=e,t),[]),Yoe=F$.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Xoe(t){return t.reduce((e,r)=>(e+=Joe[r],e),"")}function Qoe(t){const e=[];for(const r of t){const n=Yoe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Zoe=gv({prefix:"",name:"base256emoji",encode:Xoe,decode:Qoe});var eae=Object.freeze({__proto__:null,base256emoji:Zoe}),tae=B$,a6=128,rae=-128,nae=Math.pow(2,31);function B$(t,e,r){e=e||[],r=r||0;for(var n=r;t>=nae;)e[r++]=t&255|a6,t/=128;for(;t&rae;)e[r++]=t&255|a6,t>>>=7;return e[r]=t|0,B$.bytes=r-n+1,e}var iae=LC,sae=128,c6=127;function LC(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw LC.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&c6)<<i:(o&c6)*Math.pow(2,i),i+=7}while(o>=sae);return LC.bytes=s-n,r}var oae=Math.pow(2,7),aae=Math.pow(2,14),cae=Math.pow(2,21),lae=Math.pow(2,28),uae=Math.pow(2,35),fae=Math.pow(2,42),dae=Math.pow(2,49),hae=Math.pow(2,56),pae=Math.pow(2,63),gae=function(t){return t<oae?1:t<aae?2:t<cae?3:t<lae?4:t<uae?5:t<fae?6:t<dae?7:t<hae?8:t<pae?9:10},mae={encode:tae,decode:iae,encodingLength:gae},j$=mae;const l6=(t,e,r=0)=>(j$.encode(t,e,r),e),u6=t=>j$.encodingLength(t),FC=(t,e)=>{const r=e.byteLength,n=u6(t),i=n+u6(r),s=new Uint8Array(i+r);return l6(t,s,0),l6(r,s,n),s.set(e,i),new yae(t,r,e,s)};class yae{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const H$=({name:t,code:e,encode:r})=>new bae(t,e,r);class bae{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?FC(this.code,r):r.then(n=>FC(this.code,n))}else throw Error("Unknown type, must be binary type")}}const q$=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),_ae=H$({name:"sha2-256",code:18,encode:q$("SHA-256")}),wae=H$({name:"sha2-512",code:19,encode:q$("SHA-512")});var vae=Object.freeze({__proto__:null,sha256:_ae,sha512:wae});const W$=0,Eae="identity",z$=$$,Aae=t=>FC(W$,z$(t)),xae={code:W$,name:Eae,encode:z$,digest:Aae};var Cae=Object.freeze({__proto__:null,identity:xae});new TextEncoder,new TextDecoder;const f6={...boe,...woe,...Eoe,...xoe,...Soe,...$oe,...Boe,...qoe,...Koe,...eae};({...vae,...Cae});function G$(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Nae(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?G$(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function V$(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const d6=V$("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),vA=V$("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Nae(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Sae={utf8:d6,"utf-8":d6,hex:f6.base16,latin1:vA,ascii:vA,binary:vA,...f6};function Iae(t,e="utf8"){const r=Sae[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?G$(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Tae=Object.defineProperty,Rae=(t,e,r)=>e in t?Tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ac=(t,e,r)=>Rae(t,typeof e!="symbol"?e+"":e,r);class Pae{constructor(e,r){this.core=e,this.logger=r,Ac(this,"keychain",new Map),Ac(this,"name",Rse),Ac(this,"version",Pse),Ac(this,"initialized",!1),Ac(this,"storagePrefix",el),Ac(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Ac(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Ac(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Ac(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Se("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Ac(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Xi(r,this.name)}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,AC(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?xC(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Oae=Object.defineProperty,Dae=(t,e,r)=>e in t?Oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ui=(t,e,r)=>Dae(t,typeof e!="symbol"?e+"":e,r);class kae{constructor(e,r,n){this.core=e,this.logger=r,ui(this,"name",Ise),ui(this,"keychain"),ui(this,"randomSessionIdentifier",kC()),ui(this,"initialized",!1),ui(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ui(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ui(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=jR(i);return oU(s.publicKey)}),ui(this,"generateKeyPair",()=>{this.isInitialized();const i=zne();return this.setPrivateKey(i.publicKey,i.privateKey)}),ui(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=jR(s),a=this.randomSessionIdentifier;return await hQ(a,i,Tse,o)}),ui(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Gne(a,s);return this.setSymKey(c,o)}),ui(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||g1(i);return await this.keychain.set(o,i),o}),ui(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ui(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ui(this,"encode",async(i,s,o)=>{this.isInitialized();const a=x$(o),c=Zl(s);if(FP(a))return Jne(c,o?.encoding);if(LP(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return Vne({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),ui(this,"decode",async(i,s,o)=>{this.isInitialized();const a=Xne(s,o);if(FP(a)){const c=Yne(s,o?.encoding);return $d(c)}if(LP(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=Kne({symKey:c,encoded:s,encoding:o?.encoding});return $d(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ui(this,"getPayloadType",(i,s=Os)=>{const o=Mm({encoded:i,encoding:s});return Bd(o.type)}),ui(this,"getPayloadSenderPublicKey",(i,s=Os)=>{const o=Mm({encoded:i,encoding:s});return o.senderPublicKey?Ls(o.senderPublicKey,fs):void 0}),this.core=e,this.logger=Xi(r,this.name),this.keychain=n||new Pae(this.core,this.logger)}get context(){return Hs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(s6)}catch{e=kC(),await this.keychain.set(s6,e)}return Iae(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Mae=Object.defineProperty,Uae=Object.defineProperties,$ae=Object.getOwnPropertyDescriptors,h6=Object.getOwnPropertySymbols,Lae=Object.prototype.hasOwnProperty,Fae=Object.prototype.propertyIsEnumerable,BC=(t,e,r)=>e in t?Mae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bae=(t,e)=>{for(var r in e||(e={}))Lae.call(e,r)&&BC(t,r,e[r]);if(h6)for(var r of h6(e))Fae.call(e,r)&&BC(t,r,e[r]);return t},jae=(t,e)=>Uae(t,$ae(e)),Ws=(t,e,r)=>BC(t,typeof e!="symbol"?e+"":e,r);class Hae extends fJ{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ws(this,"messages",new Map),Ws(this,"messagesWithoutClientAck",new Map),Ws(this,"name",Ose),Ws(this,"version",Dse),Ws(this,"initialized",!1),Ws(this,"storagePrefix",el),Ws(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ws(this,"set",async(n,i,s)=>{this.isInitialized();const o=Po(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===m1.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,jae(Bae({},c),{[o]:i}))}return await this.persist(),o}),Ws(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Ws(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ws(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Po(i);return typeof s[o]<"u"}),Ws(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Po(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Ws(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Xi(e,this.name),this.core=r}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,AC(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,AC(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?xC(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?xC(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qae=Object.defineProperty,Wae=Object.defineProperties,zae=Object.getOwnPropertyDescriptors,p6=Object.getOwnPropertySymbols,Gae=Object.prototype.hasOwnProperty,Vae=Object.prototype.propertyIsEnumerable,jC=(t,e,r)=>e in t?qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vh=(t,e)=>{for(var r in e||(e={}))Gae.call(e,r)&&jC(t,r,e[r]);if(p6)for(var r of p6(e))Vae.call(e,r)&&jC(t,r,e[r]);return t},g6=(t,e)=>Wae(t,zae(e)),yo=(t,e,r)=>jC(t,typeof e!="symbol"?e+"":e,r);class Kae extends dJ{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,yo(this,"events",new Qo.EventEmitter),yo(this,"name",Mse),yo(this,"queue",new Map),yo(this,"publishTimeout",Ie.toMiliseconds(Ie.ONE_MINUTE)),yo(this,"initialPublishTimeout",Ie.toMiliseconds(Ie.ONE_SECOND*15)),yo(this,"needsTransportRestart",!1),yo(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=s?.ttl||kse,d=s?.prompt||!1,h=s?.tag||0,m=s?.id||Ju().toString(),g=u0(H_().protocol),y={id:m,method:s?.publishMethod||g.publish,params:vh({topic:n,message:i,ttl:f,prompt:d,tag:h,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${m} tag:${h}`;try{Wn((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),Wn((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const x=new Promise(async S=>{const R=({id:P})=>{var F;((F=y.id)==null?void 0:F.toString())===P.toString()&&(this.removeRequestFromQueue(P),this.relayer.events.removeListener(hn.publish,R),S())};this.relayer.events.on(hn.publish,R);const D=jc(new Promise((P,F)=>{this.rpcPublish(y,s).then(P).catch(E=>{this.logger.warn(E,E?.message),F(E)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${h}`);try{await D,this.events.removeListener(hn.publish,R)}catch(P){this.queue.set(m,{request:y,opts:s,attempt:1}),this.logger.warn(P,P?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:n,message:i,opts:s}}),await jc(x,this.publishTimeout,w)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw x}finally{this.queue.delete(m)}}),yo(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:h,prompt:m,tag:g,ttl:y=Ie.FIVE_MINUTES}=u,w=u.id||Ju().toString(),x=u0(H_().protocol),S=h||x.publish,R={id:w,method:S,params:vh(g6(vh({},l),{ttl:y,prompt:m,tag:g,attestation:f}),d)},D=`Failed to publish custom payload, please try again. id:${w} tag:${g}`;try{Wn((i=R.params)==null?void 0:i.prompt)&&((s=R.params)==null||delete s.prompt),Wn((o=R.params)==null?void 0:o.tag)&&((a=R.params)==null||delete a.tag);const P=new Promise(async F=>{const E=({id:M})=>{var U;((U=R.id)==null?void 0:U.toString())===M.toString()&&(this.removeRequestFromQueue(M),this.relayer.events.removeListener(hn.publish,E),F())};this.relayer.events.on(hn.publish,E);const v=jc(new Promise((M,U)=>{this.rpcPublish(R,u).then(M).catch(I=>{this.logger.warn(I,I?.message),U(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${w} tag:${g}`);try{await v,this.events.removeListener(hn.publish,E)}catch(M){this.queue.set(w,{request:R,opts:u,attempt:1}),this.logger.warn(M,M?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:l,opts:u}}),await jc(P,this.publishTimeout,D)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw P}finally{this.queue.delete(w)}}),yo(this,"on",(n,i)=>{this.events.on(n,i)}),yo(this,"once",(n,i)=>{this.events.once(n,i)}),yo(this,"off",(n,i)=>{this.events.off(n,i)}),yo(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Xi(r,this.name),this.registerEventListeners()}get context(){return Hs(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(hn.publish,vh(vh({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,g6(vh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(rh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hn.connection_stalled);return}this.checkQueue()}),this.relayer.on(hn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Jae=Object.defineProperty,Yae=(t,e,r)=>e in t?Jae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Eh=(t,e,r)=>Yae(t,typeof e!="symbol"?e+"":e,r);class Xae{constructor(){Eh(this,"map",new Map),Eh(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Eh(this,"get",e=>this.map.get(e)||[]),Eh(this,"exists",(e,r)=>this.get(e).includes(r)),Eh(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Eh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Qae=Object.defineProperty,Zae=Object.defineProperties,ece=Object.getOwnPropertyDescriptors,m6=Object.getOwnPropertySymbols,tce=Object.prototype.hasOwnProperty,rce=Object.prototype.propertyIsEnumerable,HC=(t,e,r)=>e in t?Qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bp=(t,e)=>{for(var r in e||(e={}))tce.call(e,r)&&HC(t,r,e[r]);if(m6)for(var r of m6(e))rce.call(e,r)&&HC(t,r,e[r]);return t},EA=(t,e)=>Zae(t,ece(e)),ur=(t,e,r)=>HC(t,typeof e!="symbol"?e+"":e,r);class nce extends gJ{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ur(this,"subscriptions",new Map),ur(this,"topicMap",new Xae),ur(this,"events",new Qo.EventEmitter),ur(this,"name",Hse),ur(this,"version",qse),ur(this,"pending",new Map),ur(this,"cached",[]),ur(this,"initialized",!1),ur(this,"storagePrefix",el),ur(this,"subscribeTimeout",Ie.toMiliseconds(Ie.ONE_MINUTE)),ur(this,"initialSubscribeTimeout",Ie.toMiliseconds(Ie.ONE_SECOND*15)),ur(this,"clientId"),ur(this,"batchSubscribeTopicsLimit",500),ur(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ur(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=H_(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),ur(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),ur(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),ur(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),ur(this,"on",(n,i)=>{this.events.on(n,i)}),ur(this,"once",(n,i)=>{this.events.once(n,i)}),ur(this,"off",(n,i)=>{this.events.off(n,i)}),ur(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),ur(this,"start",async()=>{await this.onConnect()}),ur(this,"stop",async()=>{await this.onDisconnect()}),ur(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ur(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),ur(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(rh.pulse,async()=>{await this.checkPending()}),this.events.on(Gs.created,async n=>{const i=Gs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Gs.deleted,async n=>{const i=Gs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Xi(r,this.name),this.clientId=""}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=H_(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=qr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===Fr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:u0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===Fr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Ie.toMiliseconds(Ie.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===e&&(this.events.removeListener(Gs.created,d),f(h.id))};this.events.on(Gs.created,d);try{const h=await jc(new Promise((m,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Gs.created,d),f(h)}catch{}}),u=await jc(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:u0(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await jc(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:u0(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await jc(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:u0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,EA(Bp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Bp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Bp({},r)),this.topicMap.set(r.topic,e),this.events.emit(Gs.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Gs.deleted,EA(Bp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Gs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Gs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>EA(Bp({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await hte(Ie.toMiliseconds(Ie.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Po(e+await this.getClientId())}}var ice=Object.defineProperty,y6=Object.getOwnPropertySymbols,sce=Object.prototype.hasOwnProperty,oce=Object.prototype.propertyIsEnumerable,qC=(t,e,r)=>e in t?ice(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b6=(t,e)=>{for(var r in e||(e={}))sce.call(e,r)&&qC(t,r,e[r]);if(y6)for(var r of y6(e))oce.call(e,r)&&qC(t,r,e[r]);return t},jt=(t,e,r)=>qC(t,typeof e!="symbol"?e+"":e,r);class ace extends hJ{constructor(e){super(e),jt(this,"protocol","wc"),jt(this,"version",2),jt(this,"core"),jt(this,"logger"),jt(this,"events",new Qo.EventEmitter),jt(this,"provider"),jt(this,"messages"),jt(this,"subscriber"),jt(this,"publisher"),jt(this,"name",$se),jt(this,"transportExplicitlyClosed",!1),jt(this,"initialized",!1),jt(this,"connectionAttemptInProgress",!1),jt(this,"relayUrl"),jt(this,"projectId"),jt(this,"packageName"),jt(this,"bundleId"),jt(this,"hasExperiencedNetworkDisruption",!1),jt(this,"pingTimeout"),jt(this,"heartBeatTimeout",Ie.toMiliseconds(Ie.THIRTY_SECONDS+Ie.FIVE_SECONDS)),jt(this,"reconnectTimeout"),jt(this,"connectPromise"),jt(this,"reconnectInProgress",!1),jt(this,"requestsInFlight",[]),jt(this,"connectTimeout",Ie.toMiliseconds(Ie.ONE_SECOND*15)),jt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Ju().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),jt(this,"resetPingTimeout",()=>{L_()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),jt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),jt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(hn.connect)}),jt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),jt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(hn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),jt(this,"registerProviderListeners",()=>{this.provider.on(mo.payload,this.onPayloadHandler),this.provider.on(mo.connect,this.onConnectHandler),this.provider.on(mo.disconnect,this.onDisconnectHandler),this.provider.on(mo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Xi(e.logger,this.name):My(Z0({level:e.logger||Use})),this.messages=new Hae(this.logger,e.core),this.subscriber=new nce(this,this.logger),this.publisher=new Kae(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||M$,Xee()?this.packageName=oP():Qee()&&(this.bundleId=oP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Hs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Fr.relay},m1.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Gs.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Gs.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,b6({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await jc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await YP())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Hn(Ie.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(hn.message,e),await this.recordMessageEvent(e,m1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(mo.disconnect,s),await jc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(mo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(mo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(mo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Ie.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(L_())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Zo(new xse(nte({sdkVersion:$C,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),hI(e)){if(!e.method.endsWith(Lse))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Fr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(b6({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else pv(e)&&this.events.emit(hn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,m1.inbound),this.events.emit(hn.message,e))}async acknowledgePayload(e){const r=Um(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(mo.payload,this.onPayloadHandler),this.provider.off(mo.connect,this.onConnectHandler),this.provider.off(mo.disconnect,this.onDisconnectHandler),this.provider.off(mo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await YP();Wie(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(rh.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Vie())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ie.toMiliseconds(Fse)))))}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function cce(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function _6(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function w6(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const lce="[object RegExp]",uce="[object String]",fce="[object Number]",dce="[object Boolean]",v6="[object Arguments]",hce="[object Symbol]",pce="[object Date]",gce="[object Map]",mce="[object Set]",yce="[object Array]",bce="[object Function]",_ce="[object ArrayBuffer]",AA="[object Object]",wce="[object Error]",vce="[object DataView]",Ece="[object Uint8Array]",Ace="[object Uint8ClampedArray]",xce="[object Uint16Array]",Cce="[object Uint32Array]",Nce="[object BigUint64Array]",Sce="[object Int8Array]",Ice="[object Int16Array]",Tce="[object Int32Array]",Rce="[object BigInt64Array]",Pce="[object Float32Array]",Oce="[object Float64Array]";function Dce(){}function E6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function kce(t,e,r){return cg(t,e,void 0,void 0,void 0,void 0,r)}function cg(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return $g(t,e,s,o)}return $g(t,e,s,o)}function $g(t,e,r,n){if(Object.is(t,e))return!0;let i=w6(t),s=w6(e);if(i===v6&&(i=AA),s===v6&&(s=AA),i!==s)return!1;switch(i){case uce:return t.toString()===e.toString();case fce:{const c=t.valueOf(),l=e.valueOf();return cce(c,l)}case dce:case pce:case hce:return Object.is(t.valueOf(),e.valueOf());case lce:return t.source===e.source&&t.flags===e.flags;case bce:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case gce:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!cg(l,e.get(c),c,t,e,r,n))return!1;return!0}case mce:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>cg(f,h,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case yce:case Ece:case Ace:case xce:case Cce:case Nce:case Sce:case Ice:case Tce:case Rce:case Pce:case Oce:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!cg(t[c],e[c],c,t,e,r,n))return!1;return!0}case _ce:return t.byteLength!==e.byteLength?!1:$g(new Uint8Array(t),new Uint8Array(e),r,n);case vce:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:$g(new Uint8Array(t),new Uint8Array(e),r,n);case wce:return t.name===e.name&&t.message===e.message;case AA:{if(!($g(t.constructor,e.constructor,r,n)||E6(t)&&E6(e)))return!1;const c=[...Object.keys(t),..._6(t)],l=[...Object.keys(e),..._6(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;const h=e[f];if(!cg(d,h,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Mce(t,e){return kce(t,e,Dce)}var Uce=Object.defineProperty,A6=Object.getOwnPropertySymbols,$ce=Object.prototype.hasOwnProperty,Lce=Object.prototype.propertyIsEnumerable,WC=(t,e,r)=>e in t?Uce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x6=(t,e)=>{for(var r in e||(e={}))$ce.call(e,r)&&WC(t,r,e[r]);if(A6)for(var r of A6(e))Lce.call(e,r)&&WC(t,r,e[r]);return t},ys=(t,e,r)=>WC(t,typeof e!="symbol"?e+"":e,r);class ih extends pJ{constructor(e,r,n,i=el,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,ys(this,"map",new Map),ys(this,"version",Bse),ys(this,"cached",[]),ys(this,"initialized",!1),ys(this,"getKey"),ys(this,"storagePrefix",el),ys(this,"recentlyDeleted",[]),ys(this,"recentlyDeletedLimit",200),ys(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Wn(o)?this.map.set(this.getKey(o),o):vie(o)?this.map.set(o.id,o):Eie(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ys(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ys(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ys(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Mce(a[c],o[c]))):this.values)),ys(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=x6(x6({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ys(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Xi(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Fce=Object.defineProperty,Bce=(t,e,r)=>e in t?Fce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ct=(t,e,r)=>Bce(t,typeof e!="symbol"?e+"":e,r);class jce{constructor(e,r){this.core=e,this.logger=r,Ct(this,"name",Wse),Ct(this,"version",zse),Ct(this,"events",new FS),Ct(this,"pairings"),Ct(this,"initialized",!1),Ct(this,"storagePrefix",el),Ct(this,"ignoredPayloadTypes",[Wl]),Ct(this,"registeredMethods",[]),Ct(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ct(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Ct(this,"create",async n=>{this.isInitialized();const i=kC(),s=await this.core.crypto.setSymKey(i),o=Hn(Ie.FIVE_MINUTES),a={protocol:k$},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=jP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(cd.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),Ct(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Sc.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=BP(n.uri);i.props.properties.topic=s,i.addTrace(Sc.pairing_uri_validation_success),i.addTrace(Sc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Sc.existing_pairing),u.active)throw i.setError(Cl.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Sc.pairing_not_expired)}const f=c||Hn(Ie.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(Sc.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(cd.create,d),i.addTrace(Sc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Sc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Cl.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(Cl.subscribe_pairing_topic_failure),h}return i.addTrace(Sc.subscribe_pairing_topic_success),d}),Ct(this,"activate",async({topic:n})=>{this.isInitialized();const i=Hn(Ie.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Ct(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=id();this.events.once(Jt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Ct(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Ct(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Ct(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ct(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",qr("USER_DISCONNECTED")),await this.deletePairing(i))}),Ct(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return jP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Ct(this,"sendRequest",async(n,i,s)=>{const o=Uc(i,s),a=await this.core.crypto.encode(n,o),c=$p[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Ct(this,"sendResult",async(n,i,s)=>{const o=Um(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=$p[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ct(this,"sendError",async(n,i,s)=>{const o=hv(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=$p[c]?$p[c].res:$p.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ct(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,qr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Ct(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Lu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Ct(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ct(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Ct(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(cd.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ct(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Pc(i)?this.events.emit(Jt("pairing_ping",s),{}):Oo(i)&&this.events.emit(Jt("pairing_ping",s),{error:i.error})},500)}),Ct(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(cd.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ct(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=qr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Ct(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(qr("WC_METHOD_UNSUPPORTED",n))}),Ct(this,"isValidPair",(n,i)=>{var s;if(!Is(n)){const{message:a}=Se("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Cl.malformed_pairing_uri),new Error(a)}if(!wie(n.uri)){const{message:a}=Se("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Cl.malformed_pairing_uri),new Error(a)}const o=BP(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Cl.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Cl.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ie.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Cl.pairing_expired);const{message:a}=Se("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ct(this,"isValidPing",async n=>{if(!Is(n)){const{message:s}=Se("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ct(this,"isValidDisconnect",async n=>{if(!Is(n)){const{message:s}=Se("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ct(this,"isValidPairingTopic",async n=>{if(!_n(n,!1)){const{message:i}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Lu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Se("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Xi(r,this.name),this.pairings=new ih(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Hs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hn.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Fr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);hI(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):pv(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(To.expired,async e=>{const{topic:r}=kU(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(cd.expire,{topic:r}))})}}var Hce=Object.defineProperty,qce=(t,e,r)=>e in t?Hce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fi=(t,e,r)=>qce(t,typeof e!="symbol"?e+"":e,r);class Wce extends uJ{constructor(e,r){super(e,r),this.core=e,this.logger=r,fi(this,"records",new Map),fi(this,"events",new Qo.EventEmitter),fi(this,"name",Gse),fi(this,"version",Vse),fi(this,"cached",[]),fi(this,"initialized",!1),fi(this,"storagePrefix",el),fi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),fi(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Hn(Ie.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ha.created,o)}),fi(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Oo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ha.updated,i))}),fi(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),fi(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ha.deleted,s)}}),this.persist()}),fi(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),fi(this,"on",(n,i)=>{this.events.on(n,i)}),fi(this,"once",(n,i)=>{this.events.once(n,i)}),fi(this,"off",(n,i)=>{this.events.off(n,i)}),fi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Xi(r,this.name)}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Uc(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ha.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ha.created,e=>{const r=ha.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ha.updated,e=>{const r=ha.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ha.deleted,e=>{const r=ha.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(rh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Ie.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ha.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zce=Object.defineProperty,Gce=(t,e,r)=>e in t?zce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pi=(t,e,r)=>Gce(t,typeof e!="symbol"?e+"":e,r);class Vce extends mJ{constructor(e,r){super(e,r),this.core=e,this.logger=r,Pi(this,"expirations",new Map),Pi(this,"events",new Qo.EventEmitter),Pi(this,"name",Kse),Pi(this,"version",Jse),Pi(this,"cached",[]),Pi(this,"initialized",!1),Pi(this,"storagePrefix",el),Pi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Pi(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Pi(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(To.created,{target:s,expiration:o})}),Pi(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Pi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(To.deleted,{target:i,expiration:s})}}),Pi(this,"on",(n,i)=>{this.events.on(n,i)}),Pi(this,"once",(n,i)=>{this.events.once(n,i)}),Pi(this,"off",(n,i)=>{this.events.off(n,i)}),Pi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Xi(r,this.name)}get context(){return Hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ite(e);if(typeof e=="number")return ste(e);const{message:r}=Se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(To.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ie.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(To.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(rh.pulse,()=>this.checkExpirations()),this.events.on(To.created,e=>{const r=To.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(To.expired,e=>{const r=To.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(To.deleted,e=>{const r=To.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Kce=Object.defineProperty,Jce=(t,e,r)=>e in t?Kce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mn=(t,e,r)=>Jce(t,typeof e!="symbol"?e+"":e,r);class Yce extends yJ{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,mn(this,"name",Yse),mn(this,"abortController"),mn(this,"isDevEnv"),mn(this,"verifyUrlV3",Qse),mn(this,"storagePrefix",el),mn(this,"version",D$),mn(this,"publicKey"),mn(this,"fetchPromise"),mn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ie.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),mn(this,"register",async i=>{if(!ip()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=eu.getDocument(),u=this.startAbortTimer(Ie.ONE_SECOND*5),f=await new Promise((d,h)=>{const m=()=>{window.removeEventListener("message",y),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const x=JSON.parse(w.data);if(x.type==="verify_attestation"){if(gC(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",y),d(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),mn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(gC(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),mn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ie.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),mn(this,"getVerifyUrl",i=>{let s=i||Ug;return Zse.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Ug}`),s=Ug),s}),mn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ie.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),mn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),mn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),mn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),mn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),mn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),mn(this,"validateAttestation",(i,s)=>{const o=Zne(i,s.publicKey),a={hasExpired:Ie.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Xi(r,this.name),this.abortController=new AbortController,this.isDevEnv=QS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Hs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ie.toMiliseconds(e))}}var Xce=Object.defineProperty,Qce=(t,e,r)=>e in t?Xce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C6=(t,e,r)=>Qce(t,typeof e!="symbol"?e+"":e,r);class Zce extends bJ{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,C6(this,"context",eoe),C6(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${toe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Xi(r,this.context)}}var ele=Object.defineProperty,N6=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,rle=Object.prototype.propertyIsEnumerable,zC=(t,e,r)=>e in t?ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jp=(t,e)=>{for(var r in e||(e={}))tle.call(e,r)&&zC(t,r,e[r]);if(N6)for(var r of N6(e))rle.call(e,r)&&zC(t,r,e[r]);return t},Xn=(t,e,r)=>zC(t,typeof e!="symbol"?e+"":e,r);class nle extends _J{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Xn(this,"context",noe),Xn(this,"storagePrefix",el),Xn(this,"storageVersion",roe),Xn(this,"events",new Map),Xn(this,"shouldPersist",!1),Xn(this,"init",async()=>{if(!QS())try{const i={eventId:cP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:OU(this.core.relayer.protocol,this.core.relayer.version,$C)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Xn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=cP(),u=this.core.projectId||"",f=Date.now(),d=jp({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Xn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return jp(jp({},a),this.setMethods(a.eventId))}),Xn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Xn(this,"setEventListeners",()=>{this.core.heartbeat.on(rh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ie.fromMiliseconds(Date.now())-Ie.fromMiliseconds(i.timestamp)>ioe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Xn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Xn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Xn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Xn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Xn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,jp(jp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Xn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Xn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${soe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${$C}${s}`,{method:"POST",body:JSON.stringify(i)})}),Xn(this,"getAppDomain",()=>PU().url),this.logger=Xi(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var ile=Object.defineProperty,S6=Object.getOwnPropertySymbols,sle=Object.prototype.hasOwnProperty,ole=Object.prototype.propertyIsEnumerable,GC=(t,e,r)=>e in t?ile(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I6=(t,e)=>{for(var r in e||(e={}))sle.call(e,r)&&GC(t,r,e[r]);if(S6)for(var r of S6(e))ole.call(e,r)&&GC(t,r,e[r]);return t},hr=(t,e,r)=>GC(t,typeof e!="symbol"?e+"":e,r);let ale=class K$ extends oJ{constructor(e){var r;super(e),hr(this,"protocol",O$),hr(this,"version",D$),hr(this,"name",UC),hr(this,"relayUrl"),hr(this,"projectId"),hr(this,"customStoragePrefix"),hr(this,"events",new Qo.EventEmitter),hr(this,"logger"),hr(this,"heartbeat"),hr(this,"relayer"),hr(this,"crypto"),hr(this,"storage"),hr(this,"history"),hr(this,"expirer"),hr(this,"pairing"),hr(this,"verify"),hr(this,"echoClient"),hr(this,"linkModeSupportedApps"),hr(this,"eventClient"),hr(this,"initialized",!1),hr(this,"logChunkController"),hr(this,"on",(a,c)=>this.events.on(a,c)),hr(this,"once",(a,c)=>this.events.once(a,c)),hr(this,"off",(a,c)=>this.events.off(a,c)),hr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),hr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Fr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||M$,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Z0({level:typeof e?.logger=="string"&&e.logger?e.logger:Nse.logger,name:UC}),{logger:s,chunkLoggerController:o}=jS({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Xi(s,this.name),this.heartbeat=new sK,this.crypto=new kae(this,this.logger,e?.keychain),this.history=new Wce(this,this.logger),this.expirer=new Vce(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new jK(I6(I6({},Sse),e?.storageOptions)),this.relayer=new ace({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new jce(this,this.logger),this.verify=new Yce(this,this.logger,this.storage),this.echoClient=new Zce(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new nle(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new K$(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(jse,n),r}get context(){return Hs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(o6,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(o6)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Cse.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const cle=ale,J$="wc",Y$=2,X$="client",pI=`${J$}@${Y$}:${X$}:`,xA={name:X$,logger:"error"},T6="WALLETCONNECT_DEEPLINK_CHOICE",lle="proposal",R6="Proposal expired",ule="session",Ah=Ie.SEVEN_DAYS,fle="engine",di={wc_sessionPropose:{req:{ttl:Ie.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ie.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ie.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ie.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ie.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ie.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ie.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ie.FIVE_MINUTES,prompt:!1,tag:1119}}},CA={min:Ie.FIVE_MINUTES,max:Ie.SEVEN_DAYS},xc={idle:"IDLE",active:"ACTIVE"},dle={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},hle="request",ple=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],gle="wc",mle="auth",yle="authKeys",ble="pairingTopics",_le="requests",mv=`${gle}@${1.5}:${mle}:`,y1=`${mv}:PUB_KEY`;var wle=Object.defineProperty,vle=Object.defineProperties,Ele=Object.getOwnPropertyDescriptors,P6=Object.getOwnPropertySymbols,Ale=Object.prototype.hasOwnProperty,xle=Object.prototype.propertyIsEnumerable,VC=(t,e,r)=>e in t?wle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tr=(t,e)=>{for(var r in e||(e={}))Ale.call(e,r)&&VC(t,r,e[r]);if(P6)for(var r of P6(e))xle.call(e,r)&&VC(t,r,e[r]);return t},Oi=(t,e)=>vle(t,Ele(e)),ve=(t,e,r)=>VC(t,typeof e!="symbol"?e+"":e,r);class Cle extends AJ{constructor(e){super(e),ve(this,"name",fle),ve(this,"events",new FS),ve(this,"initialized",!1),ve(this,"requestQueue",{state:xc.idle,queue:[]}),ve(this,"sessionRequestQueue",{state:xc.idle,queue:[]}),ve(this,"emittedSessionRequests",new pte({limit:500})),ve(this,"requestQueueDelay",Ie.ONE_SECOND),ve(this,"expectedPairingMethodMap",new Map),ve(this,"recentlyDeletedMap",new Map),ve(this,"recentlyDeletedLimit",200),ve(this,"relayMessageCache",[]),ve(this,"pendingSessions",new Map),ve(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(di)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ie.toMiliseconds(this.requestQueueDelay)))}),ve(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Oi(tr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=gie(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,f,d=!1;try{if(u){const P=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=P.active}}catch(P){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),P}if(!u||!d){const{topic:P,uri:F}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=P,f=F}if(!u){const{message:P}=Se("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(P)}const h=await this.client.core.crypto.generateKeyPair(),m=di.wc_sessionPropose.req.ttl||Ie.FIVE_MINUTES,g=Hn(m),y=Oi(tr(tr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:k$}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Rc()}),w=Jt("session_connect",y.id),{reject:x,resolve:S,done:R}=id(m,R6),D=({id:P})=>{P===y.id&&(this.client.events.off("proposal_expire",D),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:R6,code:0}}))};return this.client.events.on("proposal_expire",D),this.events.once(w,({error:P,session:F})=>{this.client.events.off("proposal_expire",D),P?x(P):F&&S(F)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:f,approval:R}}),ve(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ve(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[Nu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(v){throw o.setError(Lp.no_internet_connection),v}try{await this.isValidProposalId(r?.id)}catch(v){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(Lp.proposal_not_found),v}try{await this.isValidApprove(r)}catch(v){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Lp.session_approve_namespace_validation_failure),v}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=h;let x=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Nu.session_approve_started,properties:{topic:m,trace:[Nu.session_approve_started,Nu.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),R=g.publicKey,D=await this.client.core.crypto.generateSharedKey(S,R),P=tr(tr(tr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:Hn(Ah)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),F=Fr.relay;x.addTrace(Nu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(D,{transportType:F,internal:{skipSubscribe:!0}})}catch(v){throw x.setError(Lp.subscribe_session_topic_failure),v}x.addTrace(Nu.subscribe_session_topic_success);const E=Oi(tr({},P),{topic:D,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:P.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:Fr.relay});await this.client.session.set(D,E),x.addTrace(Nu.store_session);try{await this.sendApproveSession({sessionTopic:D,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:S},sessionSettleRequest:P,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),x.addTrace(Nu.session_approve_publish_success)}catch(v){throw this.client.logger.error(v),this.client.session.delete(D,qr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(D),v}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(D,Hn(Ah)),{topic:D,acknowledged:()=>Promise.resolve(this.client.session.get(D))}}),ve(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:di.wc_sessionPropose.reject}),await this.deleteProposal(n)}),ve(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=id(),c=Rc(),l=Ju().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Jt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),ve(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=Rc(),{done:s,resolve:o,reject:a}=id();return this.events.once(Jt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Hn(Ah)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ve(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:i,topic:s,expiry:o=di.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const c=Rc(),l=Ju().toString(),{done:u,resolve:f,reject:d}=id(o,"Request expired. Please try again.");this.events.once(Jt("session_request",c),({error:y,result:w})=>{y?d(y):f(w)});const h="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:{request:Oi(tr({},i),{expiryTimestamp:Hn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>d(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const g={request:Oi(tr({},i),{expiryTimestamp:Hn(o)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const x=await lte(this.client.core.storage,T6);await ote({id:c,topic:s,wcDeepLink:x})}y()}),u()]).then(y=>y[2])}),ve(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Pc(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Oo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ve(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Rc(),s=Ju().toString(),{done:o,resolve:a,reject:c}=id();this.events.once(Jt("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ve(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Ju().toString(),a=Rc();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ve(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:qr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Se("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ve(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>bie(n,r)))),ve(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ve(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Fr.link_mode:Fr.relay;o===Fr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:m,methods:g=[],expiry:y}=r,w=[...r.resources||[]],{topic:x,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:S}});const R=await this.client.core.crypto.generateKeyPair(),D=g1(R);if(await Promise.all([this.client.auth.authKeys.set(y1,{responseTopic:D,publicKey:R}),this.client.auth.pairingTopics.set(D,{topic:D,pairingTopic:x})]),await this.client.core.relayer.subscribe(D,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),g.length>0){const{namespace:$}=Sd(a[0]);let j=Cre($,"request",g);p1(w)&&(j=Sre(j,w.pop())),w.push(j)}const P=y&&y>di.wc_sessionAuthenticate.req.ttl?y:di.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:m,resources:w},requester:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:Hn(P)},E={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},v={requiredNamespaces:{},optionalNamespaces:E,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:R,metadata:this.client.metadata},expiryTimestamp:Hn(di.wc_sessionPropose.req.ttl),id:Rc()},{done:M,resolve:U,reject:I}=id(P,"Request expired"),C=Rc(),p=Jt("session_connect",v.id),b=Jt("session_request",C),_=async({error:$,session:j})=>{this.events.off(b,N),$?I($):j&&U({session:j})},N=async $=>{var j,k,A;if(await this.deletePendingAuthRequest(C,{message:"fulfilled",code:0}),$.error){const Y=qr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===Y.code?void 0:(this.events.off(p,_),I($.error.message))}await this.deleteProposal(v.id),this.events.off(p,_);const{cacaos:L,responder:H}=$.result,T=[],G=[];for(const Y of L){await _P({cacao:Y,projectId:this.client.core.projectId})||(this.client.logger.error(Y,"Signature verification failed"),I(qr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=Y,oe=p1(ee.resources),z=[CC(ee.iss)],Q=F_(ee.iss);if(oe){const W=wP(oe),Z=vP(oe);T.push(...W),z.push(...Z)}for(const W of z)G.push(`${W}:${Q}`)}const B=await this.client.core.crypto.generateSharedKey(R,H.publicKey);let J;T.length>0&&(J={topic:B,acknowledged:!0,self:{publicKey:R,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:Hn(Ah),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:zP([...new Set(T)],[...new Set(G)]),transportType:o},await this.client.core.relayer.subscribe(B,{transportType:o}),await this.client.session.set(B,J),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:H.metadata}),J=this.client.session.get(B)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(k=H.metadata.redirect)!=null&&k.linkMode&&(A=H.metadata.redirect)!=null&&A.universal&&n&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(B,{transportType:Fr.link_mode})),U({auths:L,session:J})};this.events.once(p,_),this.events.once(b,N);let O;try{if(s){const $=Uc("wc_sessionAuthenticate",F,C);this.client.core.history.set(x,$);const j=await this.client.core.crypto.encode("",$,{type:Hy,encoding:zu});O=Rb(n,x,j)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:F,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:C}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:v,expiry:di.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v.id})])}catch($){throw this.events.off(p,_),this.events.off(b,N),$}return await this.setProposal(v.id,v),await this.setAuthRequest(C,{request:Oi(tr({},F),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:O??S,response:M}}),ve(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Jf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(Fp.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Fp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Fr.relay;a===Fr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=g1(c),f={type:Wl,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const y of i){if(!await _P({cacao:y,projectId:this.client.core.projectId})){s.setError(Fp.invalid_cacao);const D=qr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:D,encodeOpts:f}),new Error(D.message)}s.addTrace(Jf.cacaos_verified);const{p:w}=y,x=p1(w.resources),S=[CC(w.iss)],R=F_(w.iss);if(x){const D=wP(x),P=vP(x);d.push(...D),S.push(...P)}for(const D of S)h.push(`${D}:${R}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Jf.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Hn(Ah),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:zP([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(Jf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(y){throw s.setError(Fp.subscribe_authenticated_session_topic_failure),y}s.addTrace(Jf.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Jf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Jf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(Fp.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),ve(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Fr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=g1(o),l={type:Wl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:di.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),ve(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return JU(n,i)}),ve(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ve(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ve(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,qr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(T6).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,qr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=xc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ve(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Lp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,qr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ve(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=xc.idle,this.client.events.emit("session_request_expire",{id:r}))}),ve(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ve(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ve(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Hn(di.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ve(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Fr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ve(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Hn(di.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ve(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,h=Uc(i,s,c);let m;const g=!!u;try{const x=g?zu:Os;m=await this.client.core.crypto.encode(n,h,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),x}let y;if(ple.includes(i)){const x=Po(JSON.stringify(h)),S=Po(m);y=await this.client.core.verify.register({id:S,decryptedId:x})}const w=tr(tr({},di[i].req),d);if(w.attestation=y,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(n,h),g){const x=Rb(u,n,m);await global.Linking.openURL(x,this.client.name)}else w.tvf=Oi(tr({},f),{correlationId:h.id}),l?(w.internal=Oi(tr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,w)):this.client.core.relayer.publish(n,m,w).catch(x=>this.client.logger.error(x));return h.id}),ve(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Uc("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Os}),a=Po(JSON.stringify(s)),c=Po(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Oi(tr({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),ve(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=Um(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Os}),u=Uc("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(n,u,{encoding:Os});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Oi(tr({},a),{publishMethod:"wc_approveSession"})})}),ve(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Um(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?zu:Os;u=await this.client.core.crypto.encode(i,l,Oi(tr({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let d,h;try{d=await this.client.core.history.get(i,n);const m=d.request;try{h=this.getTVFParams(n,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(f){const m=Rb(c,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=d.request.method,g=di[m].res;g.tvf=Oi(tr({},h),{correlationId:n}),o?(g.internal=Oi(tr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ve(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=hv(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?zu:Os;u=await this.client.core.crypto.encode(i,l,Oi(tr({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=Rb(c,i,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,m=a||di[h].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(l)}),ve(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Lu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Lu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ve(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ve(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ve(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===xc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=xc.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=xc.idle}),ve(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ve(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ve(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Se("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ve(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ve(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Cl.proposal_listener_not_found)),this.isValidConnect(tr({},i.params));const u=a.expiryTimestamp||Hn(di.wc_sessionPropose.req.ttl),f=tr({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:Po(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(Sc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:di.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ve(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Pc(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Oo(n)){await this.deleteProposal(s);const o=Jt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ve(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(y=>y.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(h.proposalId),g=Oi(tr(tr(tr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:Fr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Jt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ve(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Pc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Jt("session_approve",i),{})):Oo(n)&&(await this.client.session.delete(r,qr("USER_DISCONNECTED")),this.events.emit(Jt("session_approve",i),{error:n.error}))}),ve(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Up.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:qr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(tr({topic:r},i));try{Up.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw Up.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ve(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ve(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Jt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Pc(n)?this.events.emit(Jt("session_update",i),{}):Oo(n)&&this.events.emit(Jt("session_update",i),{error:n.error})}),ve(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Hn(Ah)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ve(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Jt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Pc(n)?this.events.emit(Jt("session_extend",i),{}):Oo(n)&&this.events.emit(Jt("session_extend",i),{error:n.error})}),ve(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ve(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Jt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Pc(n)?this.events.emit(Jt("session_ping",i),{}):Oo(n)&&this.events.emit(Jt("session_ping",i),{error:n.error})},500)}),ve(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(hn.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:qr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ve(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(tr({topic:o},d));const h=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Po(JSON.stringify(Uc("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:m};await this.setPendingSessionRequest(g),u===Fr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),ve(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Jt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Pc(n)?this.events.emit(Jt("session_request",i),{result:n.result}):Oo(n)&&this.events.emit(Jt("session_request",i),{error:n.error})}),ve(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Up.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(tr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Up.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ve(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Pc(n)?this.events.emit(Jt("session_request",i),{result:n.result}):Oo(n)&&this.events.emit(Jt("session_request",i),{error:n.error})}),ve(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:Po(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===Fr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Wl,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:h,rpcOpts:di.wc_sessionAuthenticate.autoReject,appLink:d})}}),ve(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ve(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=xc.idle,this.processSessionRequestQueue()},Ie.toMiliseconds(this.requestQueueDelay))}),ve(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Jt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Jt("session_request",s.request.id),{error:n})})}),ve(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===xc.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ve(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=xc.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),ve(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Uc("wc_sessionPropose",Oi(tr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),ve(this,"isValidConnect",async r=>{if(!Is(r)){const{message:l}=Se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Wn(n)||await this.isValidPairingTopic(n),!Rie(c)){const{message:l}=Se("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Wn(i)&&Jc(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Wn(s)&&Jc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Wn(o)||this.validateSessionProps(o,"sessionProperties"),!Wn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ve(this,"validateNamespaces",(r,n)=>{const i=Tie(r,"connect()",n);if(i)throw new Error(i.message)}),ve(this,"isValidApprove",async r=>{if(!Is(r))throw new Error(Se("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=bA(i,"approve()");if(l)throw new Error(l.message);const u=KP(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!_n(s,!0)){const{message:f}=Se("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Wn(o)||this.validateSessionProps(o,"sessionProperties"),!Wn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ve(this,"isValidReject",async r=>{if(!Is(r)){const{message:s}=Se("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Oie(i)){const{message:s}=Se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ve(this,"isValidSessionSettleRequest",r=>{if(!Is(r)){const{message:l}=Se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!N$(n)){const{message:l}=Se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Aie(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=bA(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Lu(o)){const{message:l}=Se("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ve(this,"isValidUpdate",async r=>{if(!Is(r)){const{message:c}=Se("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=bA(i,"update()");if(o)throw new Error(o.message);const a=KP(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ve(this,"isValidExtend",async r=>{if(!Is(r)){const{message:i}=Se("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ve(this,"isValidRequest",async r=>{if(!Is(r)){const{message:c}=Se("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!VP(a,s)){const{message:c}=Se("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Die(i)){const{message:c}=Se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Uie(a,s,i.method)){const{message:c}=Se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Bie(o,CA)){const{message:c}=Se("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${CA.min} and ${CA.max}`);throw new Error(c)}}),ve(this,"isValidRespond",async r=>{var n;if(!Is(r)){const{message:o}=Se("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!kie(s)){const{message:o}=Se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ve(this,"isValidPing",async r=>{if(!Is(r)){const{message:i}=Se("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ve(this,"isValidEmit",async r=>{if(!Is(r)){const{message:a}=Se("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!VP(o,s)){const{message:a}=Se("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Mie(i)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!$ie(o,s,i.name)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ve(this,"isValidDisconnect",async r=>{if(!Is(r)){const{message:i}=Se("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ve(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!_n(i,!1))throw new Error("uri is required parameter");if(!_n(s,!1))throw new Error("domain is required parameter");if(!_n(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Sd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Sd(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ve(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Ug,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Fr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ve(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Se("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ve(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ve(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ve(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ve(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,f,d;return!r||n!==Fr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ve(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),ve(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=aP(r,"topic")||"",i=decodeURIComponent(aP(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Fr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ve(this,"registerLinkModeListeners",async()=>{var r;if(QS()||Cf()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ve(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ve(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ve(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=dle[s];if(s==="sui_signTransaction")return[lre(n.transactionBytes)];if(s==="near_signTransaction")return[gP(n)];if(s==="near_signTransactions")return n.map(c=>gP(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[tse({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return zl(n)?n.map(c=>mP(c)):[mP(n)];if(s==="cosmos_signDirect")return[fre(n)];if(typeof n=="string")return[n];const a=n[o.key];if(zl(a))return s==="solana_signAllTransactions"?a.map(c=>cre(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(y1)?this.client.auth.authKeys.get(y1):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Fr.link_mode?zu:Os});hI(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Po(n)})):pv(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(To.expired,async e=>{const{topic:r,id:n}=kU(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Se("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Se("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(cd.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(cd.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!_n(e,!1)){const{message:r}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Lu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Se("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!_n(e,!1)){const{message:r}=Se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Lu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Se("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Se("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(_n(e,!1)){const{message:r}=Se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Pie(e)){const{message:r}=Se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Lu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Se("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Nle extends ih{constructor(e,r){super(e,r,lle,pI),this.core=e,this.logger=r}}let Sle=class extends ih{constructor(e,r){super(e,r,ule,pI),this.core=e,this.logger=r}};class Ile extends ih{constructor(e,r){super(e,r,hle,pI,n=>n.id),this.core=e,this.logger=r}}class Tle extends ih{constructor(e,r){super(e,r,yle,mv,()=>y1),this.core=e,this.logger=r}}class Rle extends ih{constructor(e,r){super(e,r,ble,mv),this.core=e,this.logger=r}}class Ple extends ih{constructor(e,r){super(e,r,_le,mv,n=>n.id),this.core=e,this.logger=r}}var Ole=Object.defineProperty,Dle=(t,e,r)=>e in t?Ole(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NA=(t,e,r)=>Dle(t,typeof e!="symbol"?e+"":e,r);class kle{constructor(e,r){this.core=e,this.logger=r,NA(this,"authKeys"),NA(this,"pairingTopics"),NA(this,"requests"),this.authKeys=new Tle(this.core,this.logger),this.pairingTopics=new Rle(this.core,this.logger),this.requests=new Ple(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Mle=Object.defineProperty,Ule=(t,e,r)=>e in t?Mle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nt=(t,e,r)=>Ule(t,typeof e!="symbol"?e+"":e,r);let $le=class Q$ extends EJ{constructor(e){super(e),Nt(this,"protocol",J$),Nt(this,"version",Y$),Nt(this,"name",xA.name),Nt(this,"metadata"),Nt(this,"core"),Nt(this,"logger"),Nt(this,"events",new Qo.EventEmitter),Nt(this,"engine"),Nt(this,"session"),Nt(this,"proposal"),Nt(this,"pendingRequest"),Nt(this,"auth"),Nt(this,"signConfig"),Nt(this,"on",(n,i)=>this.events.on(n,i)),Nt(this,"once",(n,i)=>this.events.once(n,i)),Nt(this,"off",(n,i)=>this.events.off(n,i)),Nt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Nt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Nt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Nt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Nt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Nt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||xA.name,this.metadata=ete(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:My(Z0({level:e?.logger||xA.logger}));this.core=e?.core||new cle(e),this.logger=Xi(r,this.name),this.session=new Sle(this.core,this.logger),this.proposal=new Nle(this.core,this.logger),this.pendingRequest=new Ile(this.core,this.logger),this.engine=new Cle(this),this.auth=new kle(this.core,this.logger)}static async init(e){const r=new Q$(e);return await r.initialize(),r}get context(){return Hs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Pb={exports:{}},O6;function Lle(){return O6||(O6=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof za<"u"&&za,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof za<"u"&&za||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(b){return b&&DataView.prototype.isPrototypeOf(b)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(b){return b&&u.indexOf(Object.prototype.toString.call(b))>-1};function d(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function m(b){var _={next:function(){var N=b.shift();return{done:N===void 0,value:N}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(b){this.map={},b instanceof g?b.forEach(function(_,N){this.append(N,_)},this):Array.isArray(b)?b.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(_){this.append(_,b[_])},this)}g.prototype.append=function(b,_){b=d(b),_=h(_);var N=this.map[b];this.map[b]=N?N+", "+_:_},g.prototype.delete=function(b){delete this.map[d(b)]},g.prototype.get=function(b){return b=d(b),this.has(b)?this.map[b]:null},g.prototype.has=function(b){return this.map.hasOwnProperty(d(b))},g.prototype.set=function(b,_){this.map[d(b)]=h(_)},g.prototype.forEach=function(b,_){for(var N in this.map)this.map.hasOwnProperty(N)&&b.call(_,this.map[N],N,this)},g.prototype.keys=function(){var b=[];return this.forEach(function(_,N){b.push(N)}),m(b)},g.prototype.values=function(){var b=[];return this.forEach(function(_){b.push(_)}),m(b)},g.prototype.entries=function(){var b=[];return this.forEach(function(_,N){b.push([N,_])}),m(b)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(b){if(!b._noBody){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}}function w(b){return new Promise(function(_,N){b.onload=function(){_(b.result)},b.onerror=function(){N(b.error)}})}function x(b){var _=new FileReader,N=w(_);return _.readAsArrayBuffer(b),N}function S(b){var _=new FileReader,N=w(_),O=/charset=([A-Za-z0-9_-]+)/.exec(b.type),$=O?O[1]:"utf-8";return _.readAsText(b,$),N}function R(b){for(var _=new Uint8Array(b),N=new Array(_.length),O=0;O<_.length;O++)N[O]=String.fromCharCode(_[O]);return N.join("")}function D(b){if(b.slice)return b.slice(0);var _=new Uint8Array(b.byteLength);return _.set(new Uint8Array(b)),_.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:c.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:c.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c.arrayBuffer&&c.blob&&l(b)?(this._bodyArrayBuffer=D(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||f(b))?this._bodyArrayBuffer=D(b):this._bodyText=b=Object.prototype.toString.call(b):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var b=y(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=y(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var b=y(this);if(b)return b;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(b){var _=b.toUpperCase();return F.indexOf(_)>-1?_:b}function v(b,_){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var N=_.body;if(b instanceof v){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,_.headers||(this.headers=new g(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!N&&b._bodyInit!=null&&(N=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=E(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in a){var j=new AbortController;return j.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function M(b){var _=new FormData;return b.trim().split("&").forEach(function(N){if(N){var O=N.split("="),$=O.shift().replace(/\+/g," "),j=O.join("=").replace(/\+/g," ");_.append(decodeURIComponent($),decodeURIComponent(j))}}),_}function U(b){var _=new g,N=b.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var $=O.split(":"),j=$.shift().trim();if(j){var k=$.join(":").trim();try{_.append(j,k)}catch(A){console.warn("Response "+A.message)}}}),_}P.call(v.prototype);function I(b,_){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(b)}P.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},I.error=function(){var b=new I(null,{status:200,statusText:""});return b.ok=!1,b.status=0,b.type="error",b};var C=[301,302,303,307,308];I.redirect=function(b,_){if(C.indexOf(_)===-1)throw new RangeError("Invalid status code");return new I(null,{status:_,headers:{location:b}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,N){this.message=_,this.name=N;var O=Error(_);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function p(b,_){return new Promise(function(N,O){var $=new v(b,_);if($.signal&&$.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function k(){j.abort()}j.onload=function(){var H={statusText:j.statusText,headers:U(j.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(j.status<200||j.status>599)?H.status=200:H.status=j.status,H.url="responseURL"in j?j.responseURL:H.headers.get("X-Request-URL");var T="response"in j?j.response:j.responseText;setTimeout(function(){N(new I(T,H))},0)},j.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){O(new o.DOMException("Aborted","AbortError"))},0)};function A(H){try{return H===""&&a.location.href?a.location.href:H}catch{return H}}if(j.open($.method,A($.url),!0),$.credentials==="include"?j.withCredentials=!0:$.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(c.blob?j.responseType="blob":c.arrayBuffer&&(j.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(_.headers).forEach(function(H){L.push(d(H)),j.setRequestHeader(H,h(_.headers[H]))}),$.headers.forEach(function(H,T){L.indexOf(T)===-1&&j.setRequestHeader(T,H)})}else $.headers.forEach(function(H,T){j.setRequestHeader(T,H)});$.signal&&($.signal.addEventListener("abort",k),j.onreadystatechange=function(){j.readyState===4&&$.signal.removeEventListener("abort",k)}),j.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return p.polyfill=!0,a.fetch||(a.fetch=p,a.Headers=g,a.Request=v,a.Response=I),o.Headers=g,o.Request=v,o.Response=I,o.fetch=p,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Pb,Pb.exports)),Pb.exports}var Fle=Lle();const D6=Yi(Fle);var Ble=Object.defineProperty,jle=Object.defineProperties,Hle=Object.getOwnPropertyDescriptors,k6=Object.getOwnPropertySymbols,qle=Object.prototype.hasOwnProperty,Wle=Object.prototype.propertyIsEnumerable,M6=(t,e,r)=>e in t?Ble(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U6=(t,e)=>{for(var r in e||(e={}))qle.call(e,r)&&M6(t,r,e[r]);if(k6)for(var r of k6(e))Wle.call(e,r)&&M6(t,r,e[r]);return t},$6=(t,e)=>jle(t,Hle(e));const zle={Accept:"application/json","Content-Type":"application/json"},Gle="POST",L6={headers:zle,method:Gle},F6=10;let mc=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Qo.EventEmitter,this.isAvailable=!1,this.registering=!1,!t6(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Zl(e),n=await(await D6(this.url,$6(U6({},L6),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!t6(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Zl({id:1,jsonrpc:"2.0",method:"test",params:[]});await D6(e,$6(U6({},L6),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?$d(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=hv(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return T$(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>F6&&this.events.setMaxListeners(F6)}};const B6="error",Vle="wss://relay.walletconnect.org",Kle="wc",Jle="universal_provider",Ob=`${Kle}@2:${Jle}:`,Z$="https://rpc.walletconnect.org/v1/",eL="generic",Yle=`${Z$}bundler`,ea={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function gI(t){return t==null||typeof t!="object"&&typeof t!="function"}function tL(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function rL(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Xle="[object RegExp]",nL="[object String]",iL="[object Number]",sL="[object Boolean]",oL="[object Arguments]",Qle="[object Symbol]",Zle="[object Date]",eue="[object Map]",tue="[object Set]",rue="[object Array]",nue="[object ArrayBuffer]",iue="[object Object]",sue="[object DataView]",oue="[object Uint8Array]",aue="[object Uint8ClampedArray]",cue="[object Uint16Array]",lue="[object Uint32Array]",uue="[object Int8Array]",fue="[object Int16Array]",due="[object Int32Array]",hue="[object Float32Array]",pue="[object Float64Array]";function mI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gue(t,e){return d0(t,void 0,t,new Map,e)}function d0(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(gI(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=d0(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,d0(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(d0(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(mI(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=d0(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),ld(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),ld(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),ld(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ld(o,t,r,n,i),o}if(typeof t=="object"&&mue(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),ld(o,t,r,n,i),o}return t}function ld(t,e,r=t,n,i){const s=[...Object.keys(e),...tL(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=d0(e[a],a,r,n,i))}}function mue(t){switch(rL(t)){case oL:case rue:case nue:case sue:case sL:case Zle:case hue:case pue:case uue:case fue:case due:case eue:case iL:case iue:case Xle:case tue:case nL:case Qle:case oue:case aue:case cue:case lue:return!0;default:return!1}}function yue(t,e){return gue(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case iL:case nL:case sL:{const o=new t.constructor(t?.valueOf());return ld(o,t),o}case oL:{const o={};return ld(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function j6(t){return yue(t)}function H6(t){return t!==null&&typeof t=="object"&&rL(t)==="[object Arguments]"}function q6(t){return typeof t=="object"&&t!==null}function bue(){}function _ue(t){return mI(t)}function wue(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vue(t){if(gI(t))return t;if(Array.isArray(t)||mI(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Eue(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=KC(i,o,n,new Map)}return i}function KC(t,e,r,n){if(gI(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return vue(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...tL(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(H6(a)&&(a={...a}),H6(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=j6(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||q6(c)&&q6(a)?t[o]=KC(c,a,r,n):c==null&&wue(a)?t[o]=KC({},a,r,n):c==null&&_ue(a)?t[o]=j6(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Aue(t,...e){return Eue(t,...e,bue)}var xue=Object.defineProperty,Cue=Object.defineProperties,Nue=Object.getOwnPropertyDescriptors,W6=Object.getOwnPropertySymbols,Sue=Object.prototype.hasOwnProperty,Iue=Object.prototype.propertyIsEnumerable,z6=(t,e,r)=>e in t?xue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Db=(t,e)=>{for(var r in e||(e={}))Sue.call(e,r)&&z6(t,r,e[r]);if(W6)for(var r of W6(e))Iue.call(e,r)&&z6(t,r,e[r]);return t},Tue=(t,e)=>Cue(t,Nue(e));function so(t,e,r){var n;const i=Sd(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${Z$}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function sh(t){return t.includes(":")?t.split(":")[1]:t}function aL(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Rue(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function G6(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function kb(t={},e={}){const r=G6(V6(t)),n=G6(V6(e));return Aue(r,n)}function V6(t){var e,r,n,i,s;const o={};if(!Jc(t))return o;for(const[a,c]of Object.entries(t)){const l=dv(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=f0(a);o[h]=Tue(Db(Db({},o[h]),c),{chains:Kc(l,(e=o[h])==null?void 0:e.chains),methods:Kc(u,(r=o[h])==null?void 0:r.methods),events:Kc(f,(n=o[h])==null?void 0:n.events)}),(Jc(d)||Jc(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=Db(Db({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function K6(t){return t.includes(":")?t.split(":")[2]:t}function J6(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=dv(r)?[r]:n.chains?n.chains:aL(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function SA(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const cL={},Gt=t=>cL[t],IA=(t,e)=>{cL[t]=e};var Pue=Object.defineProperty,Y6=Object.getOwnPropertySymbols,Oue=Object.prototype.hasOwnProperty,Due=Object.prototype.propertyIsEnumerable,X6=(t,e,r)=>e in t?Pue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q6=(t,e)=>{for(var r in e||(e={}))Oue.call(e,r)&&X6(t,r,e[r]);if(Y6)for(var r of Y6(e))Due.call(e,r)&&X6(t,r,e[r]);return t};const Z6="eip155",kue=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Mue=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,TA=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,e5=t=>Object.keys(t).filter(e=>kue.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),Uue=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Jc(i)&&!Jc(n))return;const o=e5(n);for(const a of r){const c=Mue(a);if(!c)continue;s[TA(c)]=o;const l=i?.[`${Z6}:${c}`];if(l){const u=l?.[`${Z6}:${c}:${e}`];s[TA(c)]=Q6(Q6({},s[TA(c)]),e5(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var $ue=Object.defineProperty,Lue=(t,e,r)=>e in t?$ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xh=(t,e,r)=>Lue(t,typeof e!="symbol"?e+"":e,r);class Fue{constructor(e){xh(this,"name","polkadot"),xh(this,"client"),xh(this,"httpProviders"),xh(this,"events"),xh(this,"namespace"),xh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=sh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var Bue=Object.defineProperty,jue=Object.defineProperties,Hue=Object.getOwnPropertyDescriptors,t5=Object.getOwnPropertySymbols,que=Object.prototype.hasOwnProperty,Wue=Object.prototype.propertyIsEnumerable,JC=(t,e,r)=>e in t?Bue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r5=(t,e)=>{for(var r in e||(e={}))que.call(e,r)&&JC(t,r,e[r]);if(t5)for(var r of t5(e))Wue.call(e,r)&&JC(t,r,e[r]);return t},n5=(t,e)=>jue(t,Hue(e)),Ch=(t,e,r)=>JC(t,typeof e!="symbol"?e+"":e,r);class zue{constructor(e){Ch(this,"name","eip155"),Ch(this,"client"),Ch(this,"chainId"),Ch(this,"namespace"),Ch(this,"httpProviders"),Ch(this,"events"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||so(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(sh(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=Uue(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:n5(r5({},l.sessionProperties||{}),{capabilities:n5(r5({},u||{}),{[f]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Uc("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${Yle}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var Gue=Object.defineProperty,Vue=(t,e,r)=>e in t?Gue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nh=(t,e,r)=>Vue(t,typeof e!="symbol"?e+"":e,r);class Kue{constructor(e){Nh(this,"name","solana"),Nh(this,"client"),Nh(this,"httpProviders"),Nh(this,"events"),Nh(this,"namespace"),Nh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=sh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var Jue=Object.defineProperty,Yue=(t,e,r)=>e in t?Jue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sh=(t,e,r)=>Yue(t,typeof e!="symbol"?e+"":e,r);class Xue{constructor(e){Sh(this,"name","cosmos"),Sh(this,"client"),Sh(this,"httpProviders"),Sh(this,"events"),Sh(this,"namespace"),Sh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=sh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var Que=Object.defineProperty,Zue=(t,e,r)=>e in t?Que(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ih=(t,e,r)=>Zue(t,typeof e!="symbol"?e+"":e,r);class efe{constructor(e){Ih(this,"name","algorand"),Ih(this,"client"),Ih(this,"httpProviders"),Ih(this,"events"),Ih(this,"namespace"),Ih(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||so(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new Zo(new mc(n,Gt("disableProviderPing")))}}var tfe=Object.defineProperty,rfe=(t,e,r)=>e in t?tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Th=(t,e,r)=>rfe(t,typeof e!="symbol"?e+"":e,r);class nfe{constructor(e){Th(this,"name","cip34"),Th(this,"client"),Th(this,"httpProviders"),Th(this,"events"),Th(this,"namespace"),Th(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=sh(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var ife=Object.defineProperty,sfe=(t,e,r)=>e in t?ife(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rh=(t,e,r)=>sfe(t,typeof e!="symbol"?e+"":e,r);class ofe{constructor(e){Rh(this,"name","elrond"),Rh(this,"client"),Rh(this,"httpProviders"),Rh(this,"events"),Rh(this,"namespace"),Rh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=sh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var afe=Object.defineProperty,cfe=(t,e,r)=>e in t?afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ph=(t,e,r)=>cfe(t,typeof e!="symbol"?e+"":e,r);class lfe{constructor(e){Ph(this,"name","multiversx"),Ph(this,"client"),Ph(this,"httpProviders"),Ph(this,"events"),Ph(this,"namespace"),Ph(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=sh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var ufe=Object.defineProperty,ffe=(t,e,r)=>e in t?ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oh=(t,e,r)=>ffe(t,typeof e!="symbol"?e+"":e,r);class dfe{constructor(e){Oh(this,"name","near"),Oh(this,"client"),Oh(this,"httpProviders"),Oh(this,"events"),Oh(this,"namespace"),Oh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||so(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace);return typeof n>"u"?void 0:new Zo(new mc(n,Gt("disableProviderPing")))}}var hfe=Object.defineProperty,pfe=(t,e,r)=>e in t?hfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dh=(t,e,r)=>pfe(t,typeof e!="symbol"?e+"":e,r);class gfe{constructor(e){Dh(this,"name","tezos"),Dh(this,"client"),Dh(this,"httpProviders"),Dh(this,"events"),Dh(this,"namespace"),Dh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||so(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace);return typeof n>"u"?void 0:new Zo(new mc(n))}}var mfe=Object.defineProperty,yfe=(t,e,r)=>e in t?mfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kh=(t,e,r)=>yfe(t,typeof e!="symbol"?e+"":e,r);class bfe{constructor(e){kh(this,"name",eL),kh(this,"client"),kh(this,"httpProviders"),kh(this,"events"),kh(this,"namespace"),kh(this,"chainId"),this.namespace=e.namespace,this.events=Gt("events"),this.client=Gt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(ea.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Sd(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=Sd(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||so(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zo(new mc(n,Gt("disableProviderPing")))}}var _fe=Object.defineProperty,wfe=Object.defineProperties,vfe=Object.getOwnPropertyDescriptors,i5=Object.getOwnPropertySymbols,Efe=Object.prototype.hasOwnProperty,Afe=Object.prototype.propertyIsEnumerable,YC=(t,e,r)=>e in t?_fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mb=(t,e)=>{for(var r in e||(e={}))Efe.call(e,r)&&YC(t,r,e[r]);if(i5)for(var r of i5(e))Afe.call(e,r)&&YC(t,r,e[r]);return t},RA=(t,e)=>wfe(t,vfe(e)),bo=(t,e,r)=>YC(t,typeof e!="symbol"?e+"":e,r);let xfe=class lL{constructor(e){bo(this,"client"),bo(this,"namespaces"),bo(this,"optionalNamespaces"),bo(this,"sessionProperties"),bo(this,"scopedProperties"),bo(this,"events",new FS),bo(this,"rpcProviders",{}),bo(this,"session"),bo(this,"providerOpts"),bo(this,"logger"),bo(this,"uri"),bo(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:My(Z0({level:e?.logger||B6})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new lL(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Mb({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Um(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:qr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=J6(this.session.namespaces);this.namespaces=kb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=J6(i.namespaces);return this.namespaces=kb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!zl(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await $le.init({core:this.providerOpts.core,logger:this.providerOpts.logger||B6,relayUrl:this.providerOpts.relayUrl||Vle,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>f0(r)))];IA("client",this.client),IA("events",this.events),IA("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Rue(r,this.session);if(n?.length===0)return;const i=aL(n),s=kb(this.namespaces,this.optionalNamespaces),o=RA(Mb({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new zue({namespace:o});break;case"algorand":this.rpcProviders[r]=new efe({namespace:o});break;case"solana":this.rpcProviders[r]=new Kue({namespace:o});break;case"cosmos":this.rpcProviders[r]=new Xue({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Fue({namespace:o});break;case"cip34":this.rpcProviders[r]=new nfe({namespace:o});break;case"elrond":this.rpcProviders[r]=new ofe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new lfe({namespace:o});break;case"near":this.rpcProviders[r]=new dfe({namespace:o});break;case"tezos":this.rpcProviders[r]=new gfe({namespace:o});break;default:this.rpcProviders[r]=new bfe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&zl(o)&&this.events.emit("accountsChanged",o.map(K6))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=f0(o),l=SA(o)!==SA(a)?`${c}:${SA(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=RA(Mb({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",RA(Mb({},qr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ea.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[eL]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=kb(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>f0(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=f0(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(K6);if(!zl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Ob}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Ob}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Ob}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Ob)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}},Yf=null;const eo={getSIWX(){return ge.state.siwx},async initializeIfEnabled(t=X.getActiveCaipAddress()){const e=ge.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(X.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(ge.state.remoteFeatures?.emailCapture){const o=X.getAccountData(r)?.user;await St.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Yf&&await Yf,(await e.getSessions(`${r}:${n}`,i)).length)return;await St.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Ut.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Te._getClient()?.disconnect().catch(console.error),Xe.reset("Connect"),Bc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=ge.state.siwx,e=ke.getPlainAddress(X.getActiveCaipAddress()),r=sg(),n=Te._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();Ne.getConnectorId(r.chainNamespace)===le.CONNECTOR_ID.AUTH&&Xe.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),X.setLastConnectedSIWECaipNetwork(r),St.close(),Ut.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!St.state.open||Xe.state.view==="ApproveTransaction")&&await St.open({view:"SIWXSignMessage"}),Bc.showError("Error signing message"),Ut.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=X.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,ke.getPlainAddress(X.getActiveCaipAddress())||"");n&&n.length>0?await X.switchActiveNetwork(r):await Te.disconnect()}else await Te.disconnect()}else St.close();St.close(),Ut.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=X.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,ke.getPlainAddress(X.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=ge.state.siwx;let r=t?.address;if(!r){const i=X.getActiveCaipAddress();r=ke.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=X.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Xe.state.view==="ApproveTransaction",r=Xe.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=eo.getSIWX(),o=sg();if(!s||!i.includes(le.CHAIN.EVM)||ge.state.remoteFeatures?.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await eo.addEmbeddedWalletSession(l,u.message,u.signature),X.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Yf)return Yf;const n=eo.getSIWX();return n?(Yf=n.addSession({data:t,message:e,signature:r}).finally(()=>{Yf=null}),Yf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=eo.getSIWX(),i=sg(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:sg()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Bc.showLoading("Authenticating...",{autoClose:!1}),Le.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&X.setLastConnectedSIWECaipNetwork(i),Ut.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:eo.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Ut.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:eo.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Bc.hide()}}return!0},getSIWXEventProperties(){const t=X.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:X.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Bs(t)===Jn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Ot={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:le.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Lc={ConnectorExplorerIds:{[le.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[le.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[le.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[le.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[le.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ot.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ot.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ot.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ot.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ot.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ot.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ot.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ot.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ot.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ot.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ot.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Ot.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[le.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[le.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[le.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[le.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[le.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[le.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[le.CONNECTOR_ID.INJECTED]:"Browser Wallet",[le.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[le.CONNECTOR_ID.COINBASE]:"Coinbase",[le.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[le.CONNECTOR_ID.LEDGER]:"Ledger",[le.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[le.CONNECTOR_ID.INJECTED]:"INJECTED",[le.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[le.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[le.CONNECTOR_ID.AUTH]:"AUTH",[Ot.CONNECTOR_TYPE_AUTH]:"AUTH"}},Vn={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Ot.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=X.state.activeChain;return le.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Ne.getConnectorId(e)===le.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return le.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?le.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},Cfe=new AbortController,Di={EmbeddedWalletAbortController:Cfe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${l0()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},Nfe={createLogger(t,e="error"){const r=Z0({level:e}),{logger:n}=jS({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},Sfe="rpc.walletconnect.org";function s5(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const PA=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Kh={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Sfe}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:le.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${le.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return PA.includes(e)?s5(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(d=>d.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Lc.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Kh.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(yb(i.url,i.config))}),PA.includes(t.caipNetworkId)&&n.push(yb(s5(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(yb(i))}),QT(n)},extendWagmiTransports(t,e,r){if(PA.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return QT([r,yb(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:le.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=we.getActiveCaipNetworkId(),r=X.getAllRequestedCaipNetworks(),n=Array.from(X.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},W_={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},bs=vr({providers:{...W_},providerIds:{...W_}}),mt={state:bs,subscribeKey(t,e){return Ji(bs,t,e)},subscribe(t){return wi(bs,()=>{t(bs)})},subscribeProviders(t){return wi(bs.providers,()=>t(bs.providers))},setProvider(t,e){t&&e&&(bs.providers[t]=Md(e))},getProvider(t){if(t)return bs.providers[t]},setProviderId(t,e){e&&(bs.providerIds[t]=e)},getProviderId(t){if(t)return bs.providerIds[t]},reset(){bs.providers={...W_},bs.providerIds={...W_}},resetChain(t){bs.providers[t]=void 0,bs.providerIds[t]=void 0}},o5={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},hi={set(t,e){to.isClient&&localStorage.setItem(`${Be.STORAGE_KEY}${t}`,e)},get(t){return to.isClient?localStorage.getItem(`${Be.STORAGE_KEY}${t}`):null},delete(t,e){to.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Be.STORAGE_KEY}${t}`))}},Ub=30*1e3,to={checkIfAllowedToTriggerEmail(){const t=hi.get(Be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Ub){const r=Math.ceil((Ub-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=hi.get(Be.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Ub)return Math.ceil((Ub-e)/1e3)}return 0},checkIfRequestExists(t){return Jn.NOT_SAFE_RPC_METHODS.includes(t.method)||Jn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(o5.transactionHash)||t?.match(o5.signedMessage))?Be.RPC_RESPONSE_TYPE_TX:Be.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Jn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Wt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Wt||(Wt={}));var XC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(XC||(XC={}));const De=Wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gu=t=>{switch(typeof t){case"undefined":return De.undefined;case"string":return De.string;case"number":return isNaN(t)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(t)?De.array:t===null?De.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?De.promise:typeof Map<"u"&&t instanceof Map?De.map:typeof Set<"u"&&t instanceof Set?De.set:typeof Date<"u"&&t instanceof Date?De.date:De.object;default:return De.unknown}},Ae=Wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ife=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class lc extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}lc.create=t=>new lc(t);const $m=(t,e)=>{let r;switch(t.code){case Ae.invalid_type:t.received===De.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Wt.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${Wt.joinValues(t.keys,", ")}`;break;case Ae.invalid_union:r="Invalid input";break;case Ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Wt.joinValues(t.options)}`;break;case Ae.invalid_enum_value:r=`Invalid enum value. Expected ${Wt.joinValues(t.options)}, received '${t.received}'`;break;case Ae.invalid_arguments:r="Invalid function arguments";break;case Ae.invalid_return_type:r="Invalid function return type";break;case Ae.invalid_date:r="Invalid date";break;case Ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Wt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ae.custom:r="Invalid input";break;case Ae.invalid_intersection_types:r="Intersection results could not be merged";break;case Ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,Wt.assertNever(t)}return{message:r}};let uL=$m;function Tfe(t){uL=t}function z_(){return uL}const G_=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Rfe=[];function Fe(t,e){const r=G_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,z_(),$m].filter(n=>!!n)});t.common.issues.push(r)}class Ki{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return st;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Ki.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return st;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const st=Object.freeze({status:"aborted"}),fL=t=>({status:"dirty",value:t}),ds=t=>({status:"valid",value:t}),QC=t=>t.status==="aborted",ZC=t=>t.status==="dirty",Lm=t=>t.status==="valid",V_=t=>typeof Promise<"u"&&t instanceof Promise;var Ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ke||(Ke={}));class tl{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a5=(t,e)=>{if(Lm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new lc(t.common.issues);return this._error=r,this._error}}};function ut(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class dt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Gu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ki,ctx:{common:e.parent.common,data:e.data,parsedType:Gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(V_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gu(e)},s=this._parseSync({data:e,path:i.path,parent:i});return a5(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gu(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(V_(i)?i:Promise.resolve(i));return a5(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ae.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new hc({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Gl.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return uc.create(this,this._def)}promise(){return q0.create(this,this._def)}or(e){return Hm.create([this,e],this._def)}and(e){return qm.create(this,e,this._def)}transform(e){return new hc({...ut(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Km({...ut(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new hL({typeName:et.ZodBranded,type:this,...ut(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new X_({...ut(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Wy.create(this,e)}readonly(){return Z_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pfe=/^c[^\s-]{8,}$/i,Ofe=/^[a-z][a-z0-9]*$/,Dfe=/^[0-9A-HJKMNP-TV-Z]{26}$/,kfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ufe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let OA;const $fe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Lfe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ffe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Bfe(t,e){return!!((e==="v4"||!e)&&$fe.test(t)||(e==="v6"||!e)&&Lfe.test(t))}class Qa extends dt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==De.string){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ae.invalid_type,expected:De.string,received:s.parsedType}),st}const n=new Ki;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Fe(i,{code:Ae.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Fe(i,{code:Ae.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Mfe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")OA||(OA=new RegExp(Ufe,"u")),OA.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")kfe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Pfe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Ofe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Dfe.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Ae.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Ae.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Ae.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Ffe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Bfe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Ae.invalid_string,message:s.message}),n.dirty()):Wt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ae.invalid_string,...Ke.errToObj(n)})}_addCheck(e){return new Qa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ke.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...Ke.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ke.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ke.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ke.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ke.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ke.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ke.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ke.errToObj(r)})}nonempty(e){return this.min(1,Ke.errToObj(e))}trim(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Qa.create=t=>{var e;return new Qa({checks:[],typeName:et.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};function jfe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class uf extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==De.number){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ae.invalid_type,expected:De.number,received:s.parsedType}),st}let n;const i=new Ki;for(const s of this._def.checks)s.kind==="int"?Wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?jfe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.not_finite,message:s.message}),i.dirty()):Wt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ke.toString(r))}setLimit(e,r,n,i){return new uf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ke.toString(i)}]})}_addCheck(e){return new uf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Wt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}uf.create=t=>new uf({checks:[],typeName:et.ZodNumber,coerce:t?.coerce||!1,...ut(t)});class ff extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==De.bigint){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ae.invalid_type,expected:De.bigint,received:s.parsedType}),st}let n;const i=new Ki;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:Ae.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Wt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ke.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ke.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ke.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ke.toString(r))}setLimit(e,r,n,i){return new ff({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ke.toString(i)}]})}_addCheck(e){return new ff({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ff.create=t=>{var e;return new ff({checks:[],typeName:et.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};class Fm extends dt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==De.boolean){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.boolean,received:n.parsedType}),st}return ds(e.data)}}Fm.create=t=>new Fm({typeName:et.ZodBoolean,coerce:t?.coerce||!1,...ut(t)});class jd extends dt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==De.date){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ae.invalid_type,expected:De.date,received:s.parsedType}),st}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ae.invalid_date}),st}const n=new Ki;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ae.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Wt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ke.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ke.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}jd.create=t=>new jd({checks:[],coerce:t?.coerce||!1,typeName:et.ZodDate,...ut(t)});class K_ extends dt{_parse(e){if(this._getType(e)!==De.symbol){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.symbol,received:n.parsedType}),st}return ds(e.data)}}K_.create=t=>new K_({typeName:et.ZodSymbol,...ut(t)});class Bm extends dt{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.undefined,received:n.parsedType}),st}return ds(e.data)}}Bm.create=t=>new Bm({typeName:et.ZodUndefined,...ut(t)});class jm extends dt{_parse(e){if(this._getType(e)!==De.null){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.null,received:n.parsedType}),st}return ds(e.data)}}jm.create=t=>new jm({typeName:et.ZodNull,...ut(t)});class H0 extends dt{constructor(){super(...arguments),this._any=!0}_parse(e){return ds(e.data)}}H0.create=t=>new H0({typeName:et.ZodAny,...ut(t)});class Id extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ds(e.data)}}Id.create=t=>new Id({typeName:et.ZodUnknown,...ut(t)});class ru extends dt{_parse(e){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ae.invalid_type,expected:De.never,received:r.parsedType}),st}}ru.create=t=>new ru({typeName:et.ZodNever,...ut(t)});class J_ extends dt{_parse(e){if(this._getType(e)!==De.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.void,received:n.parsedType}),st}return ds(e.data)}}J_.create=t=>new J_({typeName:et.ZodVoid,...ut(t)});class uc extends dt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==De.array)return Fe(r,{code:Ae.invalid_type,expected:De.array,received:r.parsedType}),st;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Fe(r,{code:o?Ae.too_big:Ae.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Fe(r,{code:Ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Fe(r,{code:Ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new tl(r,o,r.path,a)))).then(o=>Ki.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new tl(r,o,r.path,a)));return Ki.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new uc({...this._def,minLength:{value:e,message:Ke.toString(r)}})}max(e,r){return new uc({...this._def,maxLength:{value:e,message:Ke.toString(r)}})}length(e,r){return new uc({...this._def,exactLength:{value:e,message:Ke.toString(r)}})}nonempty(e){return this.min(1,e)}}uc.create=(t,e)=>new uc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ut(e)});function Jh(t){if(t instanceof Xr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Gl.create(Jh(n))}return new Xr({...t._def,shape:()=>e})}else return t instanceof uc?new uc({...t._def,type:Jh(t.element)}):t instanceof Gl?Gl.create(Jh(t.unwrap())):t instanceof qd?qd.create(Jh(t.unwrap())):t instanceof rl?rl.create(t.items.map(e=>Jh(e))):t}class Xr extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Wt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==De.object){const l=this._getOrReturnCtx(e);return Fe(l,{code:Ae.invalid_type,expected:De.object,received:l.parsedType}),st}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ru&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new tl(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof ru){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(Fe(i,{code:Ae.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new tl(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Ki.mergeObjectSync(n,l)):Ki.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ke.errToObj,new Xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ke.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:et.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xr({...this._def,catchall:e})}pick(e){const r={};return Wt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xr({...this._def,shape:()=>r})}omit(e){const r={};return Wt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Xr({...this._def,shape:()=>r})}deepPartial(){return Jh(this)}partial(e){const r={};return Wt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Xr({...this._def,shape:()=>r})}required(e){const r={};return Wt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Gl;)s=s._def.innerType;r[n]=s}}),new Xr({...this._def,shape:()=>r})}keyof(){return dL(Wt.objectKeys(this.shape))}}Xr.create=(t,e)=>new Xr({shape:()=>t,unknownKeys:"strip",catchall:ru.create(),typeName:et.ZodObject,...ut(e)});Xr.strictCreate=(t,e)=>new Xr({shape:()=>t,unknownKeys:"strict",catchall:ru.create(),typeName:et.ZodObject,...ut(e)});Xr.lazycreate=(t,e)=>new Xr({shape:t,unknownKeys:"strip",catchall:ru.create(),typeName:et.ZodObject,...ut(e)});class Hm extends dt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new lc(a.ctx.common.issues));return Fe(r,{code:Ae.invalid_union,unionErrors:o}),st}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new lc(c));return Fe(r,{code:Ae.invalid_union,unionErrors:a}),st}}get options(){return this._def.options}}Hm.create=(t,e)=>new Hm({options:t,typeName:et.ZodUnion,...ut(e)});const b1=t=>t instanceof zm?b1(t.schema):t instanceof hc?b1(t.innerType()):t instanceof Gm?[t.value]:t instanceof df?t.options:t instanceof Vm?Object.keys(t.enum):t instanceof Km?b1(t._def.innerType):t instanceof Bm?[void 0]:t instanceof jm?[null]:null;class yv extends dt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.object)return Fe(r,{code:Ae.invalid_type,expected:De.object,received:r.parsedType}),st;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Fe(r,{code:Ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),st)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=b1(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new yv({typeName:et.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ut(n)})}}function eN(t,e){const r=Gu(t),n=Gu(e);if(t===e)return{valid:!0,data:t};if(r===De.object&&n===De.object){const i=Wt.objectKeys(e),s=Wt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=eN(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===De.array&&n===De.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=eN(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===De.date&&n===De.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qm extends dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(QC(s)||QC(o))return st;const a=eN(s.value,o.value);return a.valid?((ZC(s)||ZC(o))&&r.dirty(),{status:r.value,value:a.data}):(Fe(n,{code:Ae.invalid_intersection_types}),st)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qm.create=(t,e,r)=>new qm({left:t,right:e,typeName:et.ZodIntersection,...ut(r)});class rl extends dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.array)return Fe(n,{code:Ae.invalid_type,expected:De.array,received:n.parsedType}),st;if(n.data.length<this._def.items.length)return Fe(n,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new tl(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Ki.mergeArray(r,o)):Ki.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new rl({...this._def,rest:e})}}rl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rl({items:t,typeName:et.ZodTuple,rest:null,...ut(e)})};class Wm extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.object)return Fe(n,{code:Ae.invalid_type,expected:De.object,received:n.parsedType}),st;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new tl(n,a,n.path,a)),value:o._parse(new tl(n,n.data[a],n.path,a))});return n.common.async?Ki.mergeObjectAsync(r,i):Ki.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof dt?new Wm({keyType:e,valueType:r,typeName:et.ZodRecord,...ut(n)}):new Wm({keyType:Qa.create(),valueType:e,typeName:et.ZodRecord,...ut(r)})}}class Y_ extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.map)return Fe(n,{code:Ae.invalid_type,expected:De.map,received:n.parsedType}),st;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new tl(n,a,n.path,[l,"key"])),value:s._parse(new tl(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return st;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return st;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}Y_.create=(t,e,r)=>new Y_({valueType:e,keyType:t,typeName:et.ZodMap,...ut(r)});class Hd extends dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==De.set)return Fe(n,{code:Ae.invalid_type,expected:De.set,received:n.parsedType}),st;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Fe(n,{code:Ae.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Fe(n,{code:Ae.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return st;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new tl(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Hd({...this._def,minSize:{value:e,message:Ke.toString(r)}})}max(e,r){return new Hd({...this._def,maxSize:{value:e,message:Ke.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Hd.create=(t,e)=>new Hd({valueType:t,minSize:null,maxSize:null,typeName:et.ZodSet,...ut(e)});class v0 extends dt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.function)return Fe(r,{code:Ae.invalid_type,expected:De.function,received:r.parsedType}),st;function n(a,c){return G_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,z_(),$m].filter(l=>!!l),issueData:{code:Ae.invalid_arguments,argumentsError:c}})}function i(a,c){return G_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,z_(),$m].filter(l=>!!l),issueData:{code:Ae.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof q0){const a=this;return ds(async function(...c){const l=new lc([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(i(f,h)),l})})}else{const a=this;return ds(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new lc([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new lc([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new v0({...this._def,args:rl.create(e).rest(Id.create())})}returns(e){return new v0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new v0({args:e||rl.create([]).rest(Id.create()),returns:r||Id.create(),typeName:et.ZodFunction,...ut(n)})}}class zm extends dt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}zm.create=(t,e)=>new zm({getter:t,typeName:et.ZodLazy,...ut(e)});class Gm extends dt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Fe(r,{received:r.data,code:Ae.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gm.create=(t,e)=>new Gm({value:t,typeName:et.ZodLiteral,...ut(e)});function dL(t,e){return new df({values:t,typeName:et.ZodEnum,...ut(e)})}class df extends dt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{expected:Wt.joinValues(n),received:r.parsedType,code:Ae.invalid_type}),st}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{received:r.data,code:Ae.invalid_enum_value,options:n}),st}return ds(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return df.create(e)}exclude(e){return df.create(this.options.filter(r=>!e.includes(r)))}}df.create=dL;class Vm extends dt{_parse(e){const r=Wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==De.string&&n.parsedType!==De.number){const i=Wt.objectValues(r);return Fe(n,{expected:Wt.joinValues(i),received:n.parsedType,code:Ae.invalid_type}),st}if(r.indexOf(e.data)===-1){const i=Wt.objectValues(r);return Fe(n,{received:n.data,code:Ae.invalid_enum_value,options:i}),st}return ds(e.data)}get enum(){return this._def.values}}Vm.create=(t,e)=>new Vm({values:t,typeName:et.ZodNativeEnum,...ut(e)});class q0 extends dt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==De.promise&&r.common.async===!1)return Fe(r,{code:Ae.invalid_type,expected:De.promise,received:r.parsedType}),st;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return ds(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}q0.create=(t,e)=>new q0({type:t,typeName:et.ZodPromise,...ut(e)});class hc extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Fe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?st:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Lm(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Lm(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Wt.assertNever(i)}}hc.create=(t,e,r)=>new hc({schema:t,typeName:et.ZodEffects,effect:e,...ut(r)});hc.createWithPreprocess=(t,e,r)=>new hc({schema:e,effect:{type:"preprocess",transform:t},typeName:et.ZodEffects,...ut(r)});class Gl extends dt{_parse(e){return this._getType(e)===De.undefined?ds(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gl.create=(t,e)=>new Gl({innerType:t,typeName:et.ZodOptional,...ut(e)});class qd extends dt{_parse(e){return this._getType(e)===De.null?ds(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qd.create=(t,e)=>new qd({innerType:t,typeName:et.ZodNullable,...ut(e)});class Km extends dt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Km.create=(t,e)=>new Km({innerType:t,typeName:et.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class X_ extends dt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return V_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new lc(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}X_.create=(t,e)=>new X_({innerType:t,typeName:et.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class Q_ extends dt{_parse(e){if(this._getType(e)!==De.nan){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ae.invalid_type,expected:De.nan,received:n.parsedType}),st}return{status:"valid",value:e.data}}}Q_.create=t=>new Q_({typeName:et.ZodNaN,...ut(t)});const Hfe=Symbol("zod_brand");class hL extends dt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wy extends dt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?st:s.status==="dirty"?(r.dirty(),fL(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?st:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Wy({in:e,out:r,typeName:et.ZodPipeline})}}class Z_ extends dt{_parse(e){const r=this._def.innerType._parse(e);return Lm(r)&&(r.value=Object.freeze(r.value)),r}}Z_.create=(t,e)=>new Z_({innerType:t,typeName:et.ZodReadonly,...ut(e)});const pL=(t,e={},r)=>t?H0.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):H0.create(),qfe={object:Xr.lazycreate};var et;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(et||(et={}));const Wfe=(t,e={message:`Input not instance of ${t.name}`})=>pL(r=>r instanceof t,e),gL=Qa.create,mL=uf.create,zfe=Q_.create,Gfe=ff.create,yL=Fm.create,Vfe=jd.create,Kfe=K_.create,Jfe=Bm.create,Yfe=jm.create,Xfe=H0.create,Qfe=Id.create,Zfe=ru.create,ede=J_.create,tde=uc.create,rde=Xr.create,nde=Xr.strictCreate,ide=Hm.create,sde=yv.create,ode=qm.create,ade=rl.create,cde=Wm.create,lde=Y_.create,ude=Hd.create,fde=v0.create,dde=zm.create,hde=Gm.create,pde=df.create,gde=Vm.create,mde=q0.create,c5=hc.create,yde=Gl.create,bde=qd.create,_de=hc.createWithPreprocess,wde=Wy.create,vde=()=>gL().optional(),Ede=()=>mL().optional(),Ade=()=>yL().optional(),xde={string:(t=>Qa.create({...t,coerce:!0})),number:(t=>uf.create({...t,coerce:!0})),boolean:(t=>Fm.create({...t,coerce:!0})),bigint:(t=>ff.create({...t,coerce:!0})),date:(t=>jd.create({...t,coerce:!0}))},Cde=st;var q=Object.freeze({__proto__:null,defaultErrorMap:$m,setErrorMap:Tfe,getErrorMap:z_,makeIssue:G_,EMPTY_PATH:Rfe,addIssueToContext:Fe,ParseStatus:Ki,INVALID:st,DIRTY:fL,OK:ds,isAborted:QC,isDirty:ZC,isValid:Lm,isAsync:V_,get util(){return Wt},get objectUtil(){return XC},ZodParsedType:De,getParsedType:Gu,ZodType:dt,ZodString:Qa,ZodNumber:uf,ZodBigInt:ff,ZodBoolean:Fm,ZodDate:jd,ZodSymbol:K_,ZodUndefined:Bm,ZodNull:jm,ZodAny:H0,ZodUnknown:Id,ZodNever:ru,ZodVoid:J_,ZodArray:uc,ZodObject:Xr,ZodUnion:Hm,ZodDiscriminatedUnion:yv,ZodIntersection:qm,ZodTuple:rl,ZodRecord:Wm,ZodMap:Y_,ZodSet:Hd,ZodFunction:v0,ZodLazy:zm,ZodLiteral:Gm,ZodEnum:df,ZodNativeEnum:Vm,ZodPromise:q0,ZodEffects:hc,ZodTransformer:hc,ZodOptional:Gl,ZodNullable:qd,ZodDefault:Km,ZodCatch:X_,ZodNaN:Q_,BRAND:Hfe,ZodBranded:hL,ZodPipeline:Wy,ZodReadonly:Z_,custom:pL,Schema:dt,ZodSchema:dt,late:qfe,get ZodFirstPartyTypeKind(){return et},coerce:xde,any:Xfe,array:tde,bigint:Gfe,boolean:yL,date:Vfe,discriminatedUnion:sde,effect:c5,enum:pde,function:fde,instanceof:Wfe,intersection:ode,lazy:dde,literal:hde,map:lde,nan:zfe,nativeEnum:gde,never:Zfe,null:Yfe,nullable:bde,number:mL,object:rde,oboolean:Ade,onumber:Ede,optional:yde,ostring:vde,pipeline:wde,preprocess:_de,promise:mde,record:cde,set:ude,strictObject:nde,string:gL,symbol:Kfe,transformer:c5,tuple:ade,undefined:Jfe,union:ide,unknown:Qfe,void:ede,NEVER:Cde,ZodIssueCode:Ae,quotelessJson:Ife,ZodError:lc});const tn=q.object({message:q.string()});function Me(t){return q.literal(Be[t])}const bv=q.object({serializedMessage:q.string().optional(),accountAddress:q.string(),chainId:q.string(),notBefore:q.string().optional(),domain:q.string(),uri:q.string(),version:q.string(),nonce:q.string(),statement:q.string().optional(),resources:q.array(q.string()).optional(),requestId:q.string().optional(),issuedAt:q.string().optional(),expirationTime:q.string().optional()});q.object({accessList:q.array(q.string()),blockHash:q.string().nullable(),blockNumber:q.string().nullable(),chainId:q.string().or(q.number()),from:q.string(),gas:q.string(),hash:q.string(),input:q.string().nullable(),maxFeePerGas:q.string(),maxPriorityFeePerGas:q.string(),nonce:q.string(),r:q.string(),s:q.string(),to:q.string(),transactionIndex:q.string().nullable(),type:q.string(),v:q.string(),value:q.string()});const Nde=q.object({chainId:q.string().or(q.number()),rpcUrl:q.optional(q.string())}),Sde=q.object({email:q.string().email()}),Ide=q.object({otp:q.string()}),Tde=q.object({uri:q.string(),preferredAccountType:q.optional(q.string()),chainId:q.optional(q.string().or(q.number())),siwxMessage:q.optional(bv),rpcUrl:q.optional(q.string())}),Rde=q.object({chainId:q.optional(q.string().or(q.number())),preferredAccountType:q.optional(q.string()),socialUri:q.optional(q.string()),siwxMessage:q.optional(bv),rpcUrl:q.optional(q.string())}),Pde=q.object({provider:q.enum(["google","github","apple","facebook","x","discord"])}),Ode=q.object({email:q.string().email()}),Dde=q.object({otp:q.string()}),kde=q.object({otp:q.string()}),Mde=q.object({themeMode:q.optional(q.enum(["light","dark"])),themeVariables:q.optional(q.record(q.string(),q.string().or(q.number()))),w3mThemeVariables:q.optional(q.record(q.string(),q.string()))}),Ude=q.object({metadata:q.object({name:q.string(),description:q.string(),url:q.string(),icons:q.array(q.string())}).optional(),sdkVersion:q.string().optional(),sdkType:q.string().optional(),projectId:q.string()}),$de=q.object({type:q.string()}),Lde=q.object({action:q.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Fde=q.object({url:q.string()}),Bde=q.object({userName:q.string()}),jde=q.object({email:q.string().optional().nullable(),address:q.string(),chainId:q.string().or(q.number()),accounts:q.array(q.object({address:q.string(),type:q.enum([Jn.ACCOUNT_TYPES.EOA,Jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:q.string().optional().nullable(),preferredAccountType:q.optional(q.string()),signature:q.string().optional(),message:q.string().optional(),siwxMessage:q.optional(bv)}),Hde=q.object({action:q.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),qde=q.object({email:q.string().email().optional().nullable(),address:q.string(),chainId:q.string().or(q.number()),smartAccountDeployed:q.optional(q.boolean()),accounts:q.array(q.object({address:q.string(),type:q.enum([Jn.ACCOUNT_TYPES.EOA,Jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:q.optional(q.string()),signature:q.string().optional(),message:q.string().optional(),siwxMessage:q.optional(bv)}),Wde=q.object({uri:q.string()}),zde=q.object({isConnected:q.boolean()}),Gde=q.object({chainId:q.string().or(q.number())}),Vde=q.object({chainId:q.string().or(q.number())}),Kde=q.object({newEmail:q.string().email()}),Jde=q.object({smartAccountEnabledNetworks:q.array(q.number())});q.object({address:q.string(),isDeployed:q.boolean()});const Yde=q.object({version:q.string().optional()}),Xde=q.object({type:q.string(),address:q.string()}),Qde=q.any(),Zde=q.object({method:q.literal("eth_accounts")}),ehe=q.object({method:q.literal("eth_blockNumber")}),the=q.object({method:q.literal("eth_call"),params:q.array(q.any())}),rhe=q.object({method:q.literal("eth_chainId")}),nhe=q.object({method:q.literal("eth_estimateGas"),params:q.array(q.any())}),ihe=q.object({method:q.literal("eth_feeHistory"),params:q.array(q.any())}),she=q.object({method:q.literal("eth_gasPrice")}),ohe=q.object({method:q.literal("eth_getAccount"),params:q.array(q.any())}),ahe=q.object({method:q.literal("eth_getBalance"),params:q.array(q.any())}),che=q.object({method:q.literal("eth_getBlockByHash"),params:q.array(q.any())}),lhe=q.object({method:q.literal("eth_getBlockByNumber"),params:q.array(q.any())}),uhe=q.object({method:q.literal("eth_getBlockReceipts"),params:q.array(q.any())}),fhe=q.object({method:q.literal("eth_getBlockTransactionCountByHash"),params:q.array(q.any())}),dhe=q.object({method:q.literal("eth_getBlockTransactionCountByNumber"),params:q.array(q.any())}),hhe=q.object({method:q.literal("eth_getCode"),params:q.array(q.any())}),phe=q.object({method:q.literal("eth_getFilterChanges"),params:q.array(q.any())}),ghe=q.object({method:q.literal("eth_getFilterLogs"),params:q.array(q.any())}),mhe=q.object({method:q.literal("eth_getLogs"),params:q.array(q.any())}),yhe=q.object({method:q.literal("eth_getProof"),params:q.array(q.any())}),bhe=q.object({method:q.literal("eth_getStorageAt"),params:q.array(q.any())}),_he=q.object({method:q.literal("eth_getTransactionByBlockHashAndIndex"),params:q.array(q.any())}),whe=q.object({method:q.literal("eth_getTransactionByBlockNumberAndIndex"),params:q.array(q.any())}),vhe=q.object({method:q.literal("eth_getTransactionByHash"),params:q.array(q.any())}),Ehe=q.object({method:q.literal("eth_getTransactionCount"),params:q.array(q.any())}),Ahe=q.object({method:q.literal("eth_getTransactionReceipt"),params:q.array(q.any())}),xhe=q.object({method:q.literal("eth_getUncleCountByBlockHash"),params:q.array(q.any())}),Che=q.object({method:q.literal("eth_getUncleCountByBlockNumber"),params:q.array(q.any())}),Nhe=q.object({method:q.literal("eth_maxPriorityFeePerGas")}),She=q.object({method:q.literal("eth_newBlockFilter")}),Ihe=q.object({method:q.literal("eth_newFilter"),params:q.array(q.any())}),The=q.object({method:q.literal("eth_newPendingTransactionFilter")}),Rhe=q.object({method:q.literal("eth_sendRawTransaction"),params:q.array(q.any())}),Phe=q.object({method:q.literal("eth_syncing"),params:q.array(q.any())}),Ohe=q.object({method:q.literal("eth_uninstallFilter"),params:q.array(q.any())}),l5=q.object({method:q.literal("personal_sign"),params:q.array(q.any())}),Dhe=q.object({method:q.literal("eth_signTypedData_v4"),params:q.array(q.any())}),khe=q.object({method:q.literal("eth_sendTransaction"),params:q.array(q.any())}),Mhe=q.object({method:q.literal("solana_signMessage"),params:q.object({message:q.string(),pubkey:q.string()})}),Uhe=q.object({method:q.literal("solana_signTransaction"),params:q.object({transaction:q.string()})}),$he=q.object({method:q.literal("solana_signAllTransactions"),params:q.object({transactions:q.array(q.string())})}),Lhe=q.object({method:q.literal("solana_signAndSendTransaction"),params:q.object({transaction:q.string(),options:q.object({skipPreflight:q.boolean().optional(),preflightCommitment:q.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:q.number().optional(),minContextSlot:q.number().optional()}).optional()})}),Fhe=q.object({method:q.literal("wallet_sendCalls"),params:q.array(q.object({chainId:q.string().or(q.number()).optional(),from:q.string().optional(),version:q.string().optional(),capabilities:q.any().optional(),calls:q.array(q.object({to:q.string().startsWith("0x"),data:q.string().startsWith("0x").optional(),value:q.string().optional()}))}))}),Bhe=q.object({method:q.literal("wallet_getCallsStatus"),params:q.array(q.string())}),jhe=q.object({method:q.literal("wallet_getCapabilities"),params:q.array(q.string().or(q.number()).optional()).optional()}),Hhe=q.object({method:q.literal("wallet_grantPermissions"),params:q.array(q.any())}),qhe=q.object({method:q.literal("wallet_revokePermissions"),params:q.any()}),Whe=q.object({method:q.literal("wallet_getAssets"),params:q.any()}),u5=q.object({token:q.string()}),Ue=q.object({id:q.string().optional()}),DA={appEvent:Ue.extend({type:Me("APP_SWITCH_NETWORK"),payload:Nde}).or(Ue.extend({type:Me("APP_CONNECT_EMAIL"),payload:Sde})).or(Ue.extend({type:Me("APP_CONNECT_DEVICE")})).or(Ue.extend({type:Me("APP_CONNECT_OTP"),payload:Ide})).or(Ue.extend({type:Me("APP_CONNECT_SOCIAL"),payload:Tde})).or(Ue.extend({type:Me("APP_GET_FARCASTER_URI")})).or(Ue.extend({type:Me("APP_CONNECT_FARCASTER")})).or(Ue.extend({type:Me("APP_GET_USER"),payload:q.optional(Rde)})).or(Ue.extend({type:Me("APP_GET_SOCIAL_REDIRECT_URI"),payload:Pde})).or(Ue.extend({type:Me("APP_SIGN_OUT")})).or(Ue.extend({type:Me("APP_IS_CONNECTED"),payload:q.optional(u5)})).or(Ue.extend({type:Me("APP_GET_CHAIN_ID")})).or(Ue.extend({type:Me("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ue.extend({type:Me("APP_INIT_SMART_ACCOUNT")})).or(Ue.extend({type:Me("APP_SET_PREFERRED_ACCOUNT"),payload:$de})).or(Ue.extend({type:Me("APP_RPC_REQUEST"),payload:l5.or(Whe).or(Zde).or(ehe).or(the).or(rhe).or(nhe).or(ihe).or(she).or(ohe).or(ahe).or(che).or(lhe).or(uhe).or(fhe).or(dhe).or(hhe).or(phe).or(ghe).or(mhe).or(yhe).or(bhe).or(_he).or(whe).or(vhe).or(Ehe).or(Ahe).or(xhe).or(Che).or(Nhe).or(She).or(Ihe).or(The).or(Rhe).or(Phe).or(Ohe).or(l5).or(Dhe).or(khe).or(Mhe).or(Uhe).or($he).or(Lhe).or(Bhe).or(Fhe).or(jhe).or(Hhe).or(qhe).and(q.object({chainId:q.string().or(q.number()).optional(),chainNamespace:q.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:q.string().optional()}))})).or(Ue.extend({type:Me("APP_UPDATE_EMAIL"),payload:Ode})).or(Ue.extend({type:Me("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Dde})).or(Ue.extend({type:Me("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:kde})).or(Ue.extend({type:Me("APP_SYNC_THEME"),payload:Mde})).or(Ue.extend({type:Me("APP_SYNC_DAPP_DATA"),payload:Ude})).or(Ue.extend({type:Me("APP_RELOAD")})).or(Ue.extend({type:Me("APP_RPC_ABORT")})),frameEvent:Ue.extend({type:Me("FRAME_SWITCH_NETWORK_ERROR"),payload:tn}).or(Ue.extend({type:Me("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Vde})).or(Ue.extend({type:Me("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Lde})).or(Ue.extend({type:Me("FRAME_CONNECT_EMAIL_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Fde})).or(Ue.extend({type:Me("FRAME_GET_FARCASTER_URI_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Bde})).or(Ue.extend({type:Me("FRAME_CONNECT_FARCASTER_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_CONNECT_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_CONNECT_OTP_SUCCESS")})).or(Ue.extend({type:Me("FRAME_CONNECT_DEVICE_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ue.extend({type:Me("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:jde})).or(Ue.extend({type:Me("FRAME_CONNECT_SOCIAL_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_GET_USER_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_GET_USER_SUCCESS"),payload:qde})).or(Ue.extend({type:Me("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Wde})).or(Ue.extend({type:Me("FRAME_SIGN_OUT_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_SIGN_OUT_SUCCESS")})).or(Ue.extend({type:Me("FRAME_IS_CONNECTED_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_IS_CONNECTED_SUCCESS"),payload:zde})).or(Ue.extend({type:Me("FRAME_GET_CHAIN_ID_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Gde})).or(Ue.extend({type:Me("FRAME_RPC_REQUEST_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_RPC_REQUEST_SUCCESS"),payload:Qde})).or(Ue.extend({type:Me("FRAME_SESSION_UPDATE"),payload:u5})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Hde})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Kde})).or(Ue.extend({type:Me("FRAME_SYNC_THEME_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_SYNC_THEME_SUCCESS")})).or(Ue.extend({type:Me("FRAME_SYNC_DAPP_DATA_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ue.extend({type:Me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Jde})).or(Ue.extend({type:Me("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Xde})).or(Ue.extend({type:Me("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_READY"),payload:Yde})).or(Ue.extend({type:Me("FRAME_RELOAD_ERROR"),payload:tn})).or(Ue.extend({type:Me("FRAME_RELOAD_SUCCESS")}))};function kA(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function zhe({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=le.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(Yz);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",Qz),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class Ghe{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=le.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:f}){if(!kA(Be.FRAME_EVENT_KEY,f))return;const d=DA.frameEvent.safeParse(f);if(!d.success){console.warn("W3mFrame: invalid frame event",d.error.message);return}d.data?.id===a&&(c(d.data),window.removeEventListener("message",u))}to.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{to.isClient&&window.addEventListener("message",({data:c})=>{if(!kA(Be.FRAME_EVENT_KEY,c))return;const l=DA.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{to.isClient&&window.addEventListener("message",({data:c})=>{if(!kA(Be.APP_EVENT_KEY,c))return;const l=DA.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(to.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(to.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),to.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=zhe({projectId:e,chainId:n,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class Vhe{constructor(e){const r=Z0({level:Xz}),{logger:n,chunkLoggerController:i}=jS({opts:r});this.logger=Xi(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Khe{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new Vhe(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(r);this.w3mFrame=new Ghe({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!hi.get(Be.EMAIL_LOGIN_USED_KEY)}getEmail(){return hi.get(Be.EMAIL)}getUsername(){return hi.get(Be.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:Be.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{to.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Be.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){try{return this.appEvent({type:Be.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:Be.APP_CONNECT_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:Be.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:Be.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:Be.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){try{const r=await this.appEvent({type:Be.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:Be.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){try{const r=await this.appEvent({type:Be.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){try{return this.appEvent({type:Be.APP_SYNC_THEME,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){try{return this.appEvent({type:Be.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:Be.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:Be.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){if(e?.socialUri)try{await this.init();const r=this.getRpcUrl(e.chainId),n=await this.appEvent({type:Be.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:r}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting social"),r}else try{const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.getUser({chainId:r,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(r)});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async getUser(e){try{await this.init();const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.appEvent({type:Be.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){try{await this.init();const i=this.getRpcUrl(r),s=await this.appEvent({type:Be.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:Be.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:Be.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const r=this.getRpcUrl(e),n=await this.appEvent({type:Be.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(n.chainId),n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error switching network"),r}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const n=setTimeout(()=>{r()},3e3);await this.appEvent({type:Be.APP_SIGN_OUT}),clearTimeout(n),r()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const r=e;try{if(Jn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const n=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(n)?.id;r.chainNamespace=n,r.chainId=i,r.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:Be.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(s,r),s}catch(n){throw this.rpcErrorHandler?.(n,r),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Be.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Be.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Be.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Jn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:r})=>{Jn.SAFE_RPC_METHODS.includes(r)||e.abort(),await this.appEvent({type:Be.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let r,n;function i(c){return c.replace("@w3m-app/","")}const s=[Be.APP_SYNC_DAPP_DATA,Be.APP_SYNC_THEME,Be.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[Be.APP_CONNECT_EMAIL,Be.APP_CONNECT_DEVICE,Be.APP_CONNECT_OTP,Be.APP_CONNECT_SOCIAL,Be.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const f=new AbortController;if(o==="RPC_REQUEST"){const h=e;this.openRpcRequests.set(u,{...h.payload,abortController:f})}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const d=(h,m)=>{h.id===u&&(m?.logger.info?.({framEvent:h,id:u},"Received frame response"),this.openRpcRequests.delete(h.id),h.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&c(h.payload),c(void 0)):h.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&l(new Error(h.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,h=>d(h,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){hi.set(Be.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){hi.set(Be.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&hi.set(Be.EMAIL,e),hi.set(Be.EMAIL_LOGIN_USED_KEY,"true"),hi.delete(Be.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){hi.delete(Be.EMAIL_LOGIN_USED_KEY),hi.delete(Be.EMAIL),hi.delete(Be.LAST_USED_CHAIN_KEY),hi.delete(Be.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&hi.set(Be.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=hi.get(Be.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){hi.set(Be.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=is.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r);return(e?n.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):n[0])?.rpcUrls.default.http?.[0]}}class Lg{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){return Lg.instance||(Lg.instance=new Khe({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!ge.state.remoteFeatures?.emailCapture})),Lg.instance}}var f5={};const Jhe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof f5<"u"?f5.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},tN={filterOutDuplicatesByRDNS(t){const e=ge.state.enableEIP6963?Ne.state.connectors:[],r=we.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&ke.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=we.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,{featuredWalletIds:r}=ge.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||ge.state.features?.connectMethodsOrder,n=e||Ne.state.connectors;if(r)return r;const{injected:i,announced:s}=_1.getConnectorsByType(n,Ge.state.recommended,Ge.state.featured),o=i.filter(_1.showConnector),a=s.filter(_1.showConnector);return o.length||a.length?["wallet","email","social"]:Jhe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ge.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&Ge.state.excludedWallets.some(n=>Vn.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},_1={getConnectorsByType(t,e,r){const{customWallets:n}=ge.state,i=we.getRecentWallets(),s=tN.filterOutDuplicateWallets(e),o=tN.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&Ge.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&Ge.state.excludedWallets.some(i=>Vn.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!ke.isMobile()||ke.isMobile()&&!e&&!Te.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(X.state.chains.values()).some(r=>Ne.getConnectorId(r.namespace)===le.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=ge.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:ge.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),d=new Set(f.map(g=>g.type)),h=c.filter(g=>d.has(g)).map(g=>({type:g,isEnabled:!0})),m=f.filter(({type:g})=>!h.some(({type:w})=>w===g));return Array.from(new Set([...h,...m].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!ke.isMobile())return{accounts:[],chainId:void 0};if(t.id===le.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const w1=globalThis,yI=w1.ShadowRoot&&(w1.ShadyCSS===void 0||w1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,bI=Symbol(),d5=new WeakMap;let bL=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==bI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(yI&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=d5.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&d5.set(r,e))}return e}toString(){return this.cssText}};const Sa=t=>new bL(typeof t=="string"?t:t+"",void 0,bI),Vu=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new bL(r,t,bI)},Yhe=(t,e)=>{if(yI)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),i=w1.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},h5=yI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Sa(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Xhe,defineProperty:Qhe,getOwnPropertyDescriptor:Zhe,getOwnPropertyNames:e0e,getOwnPropertySymbols:t0e,getPrototypeOf:r0e}=Object,_v=globalThis,p5=_v.trustedTypes,n0e=p5?p5.emptyScript:"",i0e=_v.reactiveElementPolyfillSupport,Fg=(t,e)=>t,rN={toAttribute(t,e){switch(e){case Boolean:t=t?n0e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},_L=(t,e)=>!Xhe(t,e),g5={attribute:!0,type:String,converter:rN,reflect:!1,useDefault:!1,hasChanged:_L};Symbol.metadata??=Symbol("metadata"),_v.litPropertyMetadata??=new WeakMap;let Yh=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=g5){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Qhe(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=Zhe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??g5}static _$Ei(){if(this.hasOwnProperty(Fg("elementProperties")))return;const e=r0e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Fg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Fg("properties"))){const r=this.properties,n=[...e0e(r),...t0e(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(h5(i))}else e!==void 0&&r.push(h5(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Yhe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:rN).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:rN;this._$Em=i;const a=o.fromAttribute(r,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??_L)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Yh.elementStyles=[],Yh.shadowRootOptions={mode:"open"},Yh[Fg("elementProperties")]=new Map,Yh[Fg("finalized")]=new Map,i0e?.({ReactiveElement:Yh}),(_v.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _I=globalThis,ew=_I.trustedTypes,m5=ew?ew.createPolicy("lit-html",{createHTML:t=>t}):void 0,wL="$lit$",Ku=`lit$${Math.random().toFixed(9).slice(2)}$`,vL="?"+Ku,s0e=`<${vL}>`,Wd=document,Jm=()=>Wd.createComment(""),Ym=t=>t===null||typeof t!="object"&&typeof t!="function",wI=Array.isArray,o0e=t=>wI(t)||typeof t?.[Symbol.iterator]=="function",MA=`[ 	
\f\r]`,Hp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y5=/-->/g,b5=/>/g,Xf=RegExp(`>|${MA}(?:([^\\s"'>=/]+)(${MA}*=${MA}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_5=/'/g,w5=/"/g,EL=/^(?:script|style|textarea|title)$/i,AL=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),vLe=AL(1),ELe=AL(2),W0=Symbol.for("lit-noChange"),ti=Symbol.for("lit-nothing"),v5=new WeakMap,wd=Wd.createTreeWalker(Wd,129);function xL(t,e){if(!wI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return m5!==void 0?m5.createHTML(e):e}const a0e=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Hp;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Hp?u[1]==="!--"?o=y5:u[1]!==void 0?o=b5:u[2]!==void 0?(EL.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Xf):u[3]!==void 0&&(o=Xf):o===Xf?u[0]===">"?(o=i??Hp,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Xf:u[3]==='"'?w5:_5):o===w5||o===_5?o=Xf:o===y5||o===b5?o=Hp:(o=Xf,i=void 0);const h=o===Xf&&t[a+1].startsWith("/>")?" ":"";s+=o===Hp?c+s0e:f>=0?(n.push(l),c.slice(0,f)+wL+c.slice(f)+Ku+h):c+Ku+(f===-2?a:h)}return[xL(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let nN=class CL{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=a0e(e,r);if(this.el=CL.createElement(l,n),wd.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=wd.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(wL)){const d=u[o++],h=i.getAttribute(f).split(Ku),m=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:m[2],strings:h,ctor:m[1]==="."?l0e:m[1]==="?"?u0e:m[1]==="@"?f0e:wv}),i.removeAttribute(f)}else f.startsWith(Ku)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(EL.test(i.tagName)){const f=i.textContent.split(Ku),d=f.length-1;if(d>0){i.textContent=ew?ew.emptyScript:"";for(let h=0;h<d;h++)i.append(f[h],Jm()),wd.nextNode(),c.push({type:2,index:++s});i.append(f[d],Jm())}}}else if(i.nodeType===8)if(i.data===vL)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Ku,f+1))!==-1;)c.push({type:7,index:s}),f+=Ku.length-1}s++}}static createElement(e,r){const n=Wd.createElement("template");return n.innerHTML=e,n}};function z0(t,e,r=t,n){if(e===W0)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=Ym(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=z0(t,i._$AS(t,e.values),i,n)),e}class c0e{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??Wd).importNode(r,!0);wd.currentNode=i;let s=wd.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new zy(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new d0e(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=wd.nextNode(),o++)}return wd.currentNode=Wd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class zy{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=ti,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=z0(this,e,r),Ym(e)?e===ti||e==null||e===""?(this._$AH!==ti&&this._$AR(),this._$AH=ti):e!==this._$AH&&e!==W0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):o0e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ti&&Ym(this._$AH)?this._$AA.nextSibling.data=e:this.T(Wd.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=nN.createElement(xL(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new c0e(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=v5.get(e.strings);return r===void 0&&v5.set(e.strings,r=new nN(e)),r}k(e){wI(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new zy(this.O(Jm()),this.O(Jm()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class wv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=ti,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ti}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=z0(this,e,r,0),o=!Ym(e)||e!==this._$AH&&e!==W0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=z0(this,a[n+c],r,c),l===W0&&(l=this._$AH[c]),o||=!Ym(l)||l!==this._$AH[c],l===ti?e=ti:e!==ti&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===ti?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class l0e extends wv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ti?void 0:e}}class u0e extends wv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ti)}}class f0e extends wv{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=z0(this,e,r,0)??ti)===W0)return;const n=this._$AH,i=e===ti&&n!==ti||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==ti&&(n===ti||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class d0e{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){z0(this,e)}}const h0e=_I.litHtmlPolyfillSupport;h0e?.(nN,zy),(_I.litHtmlVersions??=[]).push("3.3.1");const p0e=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new zy(e.insertBefore(Jm(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vI=globalThis;class v1 extends Yh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=p0e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return W0}}v1._$litElement$=!0,v1.finalized=!0,vI.litElementHydrateSupport?.({LitElement:v1});const g0e=vI.litElementPolyfillSupport;g0e?.({LitElement:v1});(vI.litElementVersions??=[]).push("4.2.1");const m0e={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},tw={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},y0e={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},b0e={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},_0e={regular:"KHTeka",mono:"KHTekaMono"},w0e={regular:"400",medium:"500"},v0e={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},E0e={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},A0e={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},x0e={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},iN={colors:m0e,fontFamily:_0e,fontWeight:w0e,textSize:v0e,typography:E0e,tokens:{core:tw.core,theme:tw.dark},borderRadius:y0e,spacing:b0e,durations:x0e,easings:A0e},E5="--apkt",Il={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${E5}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${E5}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...iN,tokens:{...iN.tokens,theme:t==="light"?tw.light:tw.dark}},{cssVariables:n}=Il.createCSSVariables(r),i=Il.assignCSSVariables(n,r),s=Il.generateW3MVariables(e),o=Il.generateW3MOverrides(e),a=Il.generateScaledVariables(e),c=Il.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=Il.applyColorMixToVariables(e,l),f={...l,...u};return`:root {${Object.entries(f).map(([h,m])=>`${h}:${m.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:C0e}=Il.createCSSVariables(iN);function ALe(t,...e){return Vu(t,...e.map(r=>Sa(typeof r=="function"?r(C0e):r)))}let ud,vd,Hc,Va,rw;const Nl={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function nw(t,e="dark"){ud&&document.head.removeChild(ud),ud=document.createElement("style"),ud.textContent=Il.createRootStyles(e,t),document.head.appendChild(ud)}function xLe(t,e="dark"){if(rw=t,vd=document.createElement("style"),Hc=document.createElement("style"),Va=document.createElement("style"),vd.textContent=E0(t).core.cssText,Hc.textContent=E0(t).dark.cssText,Va.textContent=E0(t).light.cssText,document.head.appendChild(vd),document.head.appendChild(Hc),document.head.appendChild(Va),nw(t,e),sN(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(Nl)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}sN(e)}function sN(t="dark"){Hc&&Va&&ud&&(t==="light"?(nw(rw,t),Hc.removeAttribute("media"),Va.media="enabled"):(nw(rw,t),Va.removeAttribute("media"),Hc.media="enabled"))}function N0e(t){if(rw=t,vd&&Hc&&Va&&(vd.textContent=E0(t).core.cssText,Hc.textContent=E0(t).dark.cssText,Va.textContent=E0(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];vd.textContent=vd.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Hc.textContent=Hc.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Va.textContent=Va.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(ud){const e=Va?.media==="enabled"?"light":"dark";nw(t,e)}}function E0(t){const e=!!t?.["--w3m-font-family"];return{core:Vu`
      ${e?Vu``:Vu`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Sa(Nl["KHTeka-400-woff2"])}) format('woff2'),
                url(${Sa(Nl["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Sa(Nl["KHTeka-300-woff2"])}) format('woff2'),
                url(${Sa(Nl["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Sa(Nl["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Sa(Nl["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Sa(Nl["KHTeka-400-woff2"])}) format('woff2'),
                url(${Sa(Nl["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Vu`
      :root {
      }
    `,light:Vu`
      :root {
      }
    `}}const CLe=Vu`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,NLe=Vu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,A0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([A0.getAddresses(t),A0.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:A0.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Lc.NetworkImageIds[e.id]]}]})}},Mh={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function oh(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const A5=oh({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),x5=oh({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});oh({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});oh({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});oh({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});oh({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const S0e={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Vl={getMethodsByChainNamespace(t){return S0e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case A5.caipNetworkId:u.chains.push(A5.deprecatedCaipNetworkId);break;case x5.caipNetworkId:u.chains.push(x5.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await Ig.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=Vl.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(f=>{const d=c.find(g=>g.includes(`${e}:${l}:${f}`));if(!d)return;const{chainId:h,chainNamespace:m}=is.parseCaipAddress(d);return{address:f,chainId:h,chainNamespace:m}}).filter(f=>f!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>is.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class I0e{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case le.CHAIN.EVM:await this.syncEVMConnections(e);break;case le.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case le.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const c=Vl.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await _1.fetchProviderData(a);if(c.length>0&&l){const u=r.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),a.provider&&a.id!==le.CONNECTOR_ID.AUTH&&a.id!==le.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const c=Vl.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===le.CONNECTOR_ID.WALLET_CONNECT){const d=Vl.getWalletConnectAccounts(n,this.namespace);d.length>0&&s({connectorId:a.id,accounts:d.map(h=>({address:h.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(d=>ke.createAccount(le.CHAIN.BITCOIN,d.address,d.purpose||"payment",d.publicKey,d.path));if(u&&u.length>1&&(u=[{namespace:le.CHAIN.BITCOIN,publicKey:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:le.CHAIN.BITCOIN,publicKey:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(d=>d.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(d=>({address:d.address,type:d.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>Vn.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>Vn.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Vn.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>Vn.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>Vn.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const Hl={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class EI{constructor({provider:e,namespace:r}){this.id=le.CONNECTOR_ID.WALLET_CONNECT,this.name=Lc.ConnectorNamesMap[le.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Lc.ConnectorImageIds[le.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=X.getCaipNetworks.bind(X),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=ge.state.universalProviderConfigOverride,i=Vl.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return eo.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:T0e})}}const T0e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],R0e=[le.CONNECTOR_ID.AUTH,le.CONNECTOR_ID.WALLET_CONNECT];class NL{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>X.getCaipNetworks(r),this.getConnectorId=r=>Ne.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new I0e({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:le.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:le.CONNECTOR_ID.AUTH,type:"AUTH",name:le.CONNECTOR_NAMES.AUTH,provider:e,imageId:Lc.ConnectorImageIds[le.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!Vn.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){Le.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=Bs(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof EI);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=ke.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=ke.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=ke.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&Vn.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=ke.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Vn.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?A0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),Vn.isLowerCaseMatch(this.getConnectorId(le.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(R0e.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class P0e extends NL{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new EI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>ke.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&Pt.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Le.state.balanceLoading&&e.chainId===X.state.activeCaipNetwork?.id)return{balance:Le.state.balance||"0.00",symbol:Le.state.balanceSymbol||""};const i=(await Le.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return X.state.activeCaipNetwork?.chainNamespace===le.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:np.encode(new TextEncoder().encode(n)),pubkey:i}},X.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},X.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===le.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:qT(r.id)}]})}catch(i){if(i.code===Hl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Hl.ERROR_INVALID_CHAIN_ID||i.code===Hl.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Hl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:qT(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const O0e=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],$b={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Pt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Pt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Pt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Pt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Pt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Pt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Pt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?Pt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},D0e={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=$b[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=$b[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return $b[t].processApi(e)},processFallbackFeature(t,e){return $b[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await Ge.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?Pt.DEFAULT_REMOTE_FEATURES:Pt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of O0e){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Pt.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;gi.open({debugMessage:Di.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class k0e{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=X.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=X.getNetworkData(r)?.caipNetwork;return s||X.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return X.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>X.getCaipNetworks(r),this.getActiveChainNamespace=()=>X.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{X.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>X.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>X.state.activeChain===r||!r?X.state.activeCaipAddress:X.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{Ye.setClientId(r)},this.getProvider=r=>mt.getProvider(r),this.getProviderType=r=>mt.getProviderId(r),this.getPreferredAccountType=r=>Bs(r),this.setCaipAddress=(r,n)=>{Le.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{Le.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Le.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Le.setProfileImage(r,n)},this.setUser=(r,n)=>{Le.setUser(r,n)},this.resetAccount=r=>{Le.resetAccount(r)},this.setCaipNetwork=r=>{X.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{X.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{Le.setStatus(r,n),Ne.isConnected()?we.setConnectionStatus("connected"):we.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>X.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...Ne.state.allConnectors,...r];Ne.setConnectors(n)},this.setConnections=(r,n)=>{we.setConnections(r,n),Te.setConnections(r,n)},this.fetchIdentity=r=>Ye.fetchIdentity(r),this.getReownName=r=>Ig.getNamesForAddress(r),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=r=>c7.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?I_.getConnectionsData(r).connections:(gi.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?I_.getConnectionsData(r).recentConnections:(gi.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){gi.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Te.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){gi.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}we.deleteAddressFromConnection(r),Te.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=mt.getProviderId(n),s=r?{...r,type:i}:void 0;Le.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!X.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Le.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Le.removeAddressLabel(r,n)},this.getAddress=r=>X.state.activeChain===r||!r?Le.state.address:X.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>X.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{X.resetNetwork(r)},this.addConnector=r=>{Ne.addConnector(r)},this.resetWcConnection=()=>{Te.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Le.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Le.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{X.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{ge.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),ge.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await D0e.fetchRemoteFeatures(e),ge.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&sC.setOnrampProviders(this.remoteFeatures.onramp),(ge.state.remoteFeatures?.email||Array.isArray(ge.state.remoteFeatures?.socials)&&ge.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),ge.state.features?.reownAuthentication||ge.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await ei(async()=>{const{ReownAuthentication:i}=await import("./features-CKtPUoJy.js");return{ReownAuthentication:i}},[],import.meta.url),n=ge.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),ge.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await Ge.fetchAllowedOrigins();if(!ke.isClient())return;const r=window.location.origin;Vl.isOriginAllowed(r,e,Hl.DEFAULT_ALLOWED_ANCESTORS)||gi.open(Di.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":gi.open(Di.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;gi.open({displayMessage:Di.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Di.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,Ut.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Ts.setThemeMode(e.themeMode),e.themeVariables&&Ts.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");X.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&X.setActiveCaipNetwork(r)}initializeConnectionController(e){Te.initialize(e.adapters??[]),Te.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){ge.setProjectId(e.projectId),ge.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){ge.setDebug(e.debug!==!1),ge.setEnableWalletConnect(e.enableWalletConnect!==!1),ge.setEnableWalletGuide(e.enableWalletGuide!==!1),ge.setEnableWallets(e.enableWallets!==!1),ge.setEIP6963Enabled(e.enableEIP6963!==!1),ge.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ge.setEnableReconnect(e.enableReconnect!==!1),ge.setEnableAuthLogger(e.enableAuthLogger!==!1),ge.setCustomRpcUrls(e.customRpcUrls),ge.setEnableEmbedded(e.enableEmbedded),ge.setAllWallets(e.allWallets),ge.setIncludeWalletIds(e.includeWalletIds),ge.setExcludeWalletIds(e.excludeWalletIds),ge.setFeaturedWalletIds(e.featuredWalletIds),ge.setTokens(e.tokens),ge.setTermsConditionsUrl(e.termsConditionsUrl),ge.setPrivacyPolicyUrl(e.privacyPolicyUrl),ge.setCustomWallets(e.customWallets),ge.setFeatures(e.features),ge.setAllowUnsupportedChain(e.allowUnsupportedChain),ge.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ge.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ge.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),ge.setMetadata(e.metadata),ge.setDisableAppend(e.disableAppend),ge.setEnableEmbedded(e.enableEmbedded),ge.setSIWX(e.siwx),this.features=ge.state.features??{},!e.projectId){gi.open(Di.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===le.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ge.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return ke.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Kh.getUnsupportedNetwork(`${r}:${e}`);X.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Kh.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Kh.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Kh.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?Kh.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(X.state.chains.get(e)?.accountState?.caipAddress||!ge.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=X.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=Te.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),we.setConnectedNamespaces([...X.state.chains.keys()]),await this.syncWalletConnectAccount(),await eo.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=X.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),we.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||X.state.activeChain,o=Ne.getConnectorId(s),a=r===le.CONNECTOR_ID.AUTH||o===le.CONNECTOR_ID.AUTH,c=r===le.CONNECTOR_ID.WALLET_CONNECT||o===le.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(X.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const f=u.map(async m=>{const g=Ne.getConnectorId(m),y=await this.disconnectNamespace(m,r||g);y&&(a&&we.deleteConnectedSocialProvider(),y.connections.forEach(w=>{we.addDisconnectedConnectorId(w.connectorId,m)})),i&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),d=await Promise.allSettled(f);Rt.resetSend(),Te.resetWcConnection(),eo.getSIWX()?.signOutOnDisconnect&&await eo.clearSessions(),Ne.setFilterByNamespace(void 0),Te.syncStorageConnections();const h=d.filter(m=>m.status==="rejected");if(h.length>0)throw new Error(h.map(m=>m.reason.message).join(", "));Ut.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=X.state.activeChain,n=this.getAdapter(X.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:Le.state.address,provider:mt.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(Pt.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=mt.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===le.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=mt.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=X.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Le.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Le.state.profileImage||!1},getEnsAddress:async e=>await Vl.resolveReownName(e),writeContract:async e=>{const r=X.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=mt.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(X.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(X.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(X.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(X.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(X.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(X.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!Le.state.address||this.updateNativeBalance(Le.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Te.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=X.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===Ot.CONNECTOR_TYPE_AUTH&&le.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>Ne.getConnectorId(f)===le.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return we.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),we.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===Ot.CONNECTOR_TYPE_AUTH,i=Vn.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=X.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=mt.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=mt.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(we.addConnectedNamespace(c),we.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){gi.warn(Di.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Di.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Di.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(mt.getProviderId(X.state.activeChain)===Ot.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=mt.getProvider(r),s=mt.getProviderId(r);if(e.chainNamespace===X.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Ot.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=is.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new P0e({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=we.getConnectionStatus();ge.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(we.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=X.state.activeChain===e,c=X.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(Te.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=Le.state.address,s=X.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=X.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=X.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),we.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Te.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Ut.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:ke.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===le.CHAIN.EVM&&ke.isSafeApp()&&Ne.setConnectorId(le.CONNECTOR_ID.SAFE,e);const r=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),r){case le.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case le.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};X.resetAccount(r),X.resetNetwork(r),we.removeConnectedNamespace(r);const i=Array.from(X.state.chains.keys());(r?[r]:i).forEach(o=>we.addDisconnectedConnectorId(Ne.getConnectorId(o)||"",o)),Ne.removeConnectorId(r),mt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&St.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=we.getConnections()[e]??[];return{hasDisconnected:we.isConnectorDisconnected(i,e),hasConnected:o.some(a=>Vn.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=Ne.getConnectorId(e),i=this.getCaipNetwork(e),o=Ne.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Ut.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=X.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=is.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=is.validateCaipAddress(a),{chainId:l,address:u}=is.parseCaipAddress(c);if(mt.setProviderId(n,Ot.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&X.state.activeCaipNetwork&&i.namespace!==le.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:X.state.activeCaipNetwork});mt.setProvider(n,f)}else mt.setProvider(n,this.universalProvider);Ne.setConnectorId(le.CONNECTOR_ID.WALLET_CONNECT,n),we.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await X.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){mt.setProviderId(i,e),mt.setProvider(i,r),Ne.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===X.state.activeChain,n=X.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=we.getActiveNetworkProps(),c=s||a,l=X.state.activeCaipNetwork?.name===le.UNSUPPORTED_NETWORK_NAME,u=X.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),d=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!f&&!d){const m=this.getApprovedCaipNetworkIds()||[],g=m.find(w=>is.parseCaipNetworkId(w)?.chainId===c.toString()),y=m.find(w=>is.parseCaipNetworkId(w)?.chainNamespace===o);f=this.getCaipNetworks().find(w=>w.caipNetworkId===g),d=this.getCaipNetworks().find(w=>w.caipNetworkId===y||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===y)}const h=f||d;h?.chainNamespace===X.state.activeChain?ge.state.enableNetworkSwitch&&!ge.state.allowUnsupportedChain&&X.state.activeCaipNetwork?.name===le.UNSUPPORTED_NETWORK_NAME?X.showUnsupportedChainUI():this.setCaipNetwork(h):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),Vn.isLowerCaseMatch(i,Le.state.address)||this.syncAccountInfo(i,h?.id,o),r?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=Ne.getConnectorId(e),n=mt.getProviderId(e);if(n===Ot.CONNECTOR_TYPE_ANNOUNCED||n===Ot.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Ot.CONNECTOR_TYPE_WALLET_CONNECT){const i=mt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===le.CONNECTOR_ID.COINBASE_SDK||r===le.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!n7.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=X.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=Nfe.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};ge.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await xfe.init(r),ge.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Vl.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Te.setUri(r)},onConnect:r=>{const{address:n}=ke.getAccount(r[0]);Te.finalizeWcConnection(n)},onDisconnect:()=>{X.state.noAdapters&&this.resetAccount(e),Te.resetWcConnection()},onChainChanged:r=>{const n=X.state.activeChain,i=n&&Ne.state.activeConnectorIds[n]===le.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(X.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=X.state.activeChain,i=n&&Ne.state.activeConnectorIds[n]===le.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(X.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&ke.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Ut.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Di.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Di.ALERT_ERRORS[o];a&&(gi.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&Te.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return St.open({...e,data:{swap:e.arguments}})}return St.open(e)}async close(){await this.injectModalUi(),St.close()}setLoading(e,r){St.setLoading(e,r)}async disconnect(e){await Te.disconnect({namespace:e})}getSIWX(){return ge.state.siwx}getError(){return""}getChainId(){return X.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){gi.open(Di.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await X.switchActiveNetwork(r)}getWalletProvider(){return X.state.activeChain?mt.state.providers[X.state.activeChain]:null}getWalletProviderType(){return mt.getProviderId(X.state.activeChain)}subscribeProviders(e){return mt.subscribeProviders(e)}getThemeMode(){return Ts.state.themeMode}getThemeVariables(){return Ts.state.themeVariables}setThemeMode(e){Ts.setThemeMode(e),sN(Ts.state.themeMode)}setTermsConditionsUrl(e){ge.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ge.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ts.setThemeVariables(e),N0e(Ts.state.themeVariables)}subscribeTheme(e){return Ts.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Te.subscribe(e):(gi.open(le.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?X.state.chains.get(e)?.accountState?.connectedWalletInfo:Le.state.connectedWalletInfo}getAccount(e){const r=e||X.state.activeChain,n=Ne.getAuthConnector(r),i=X.getAccountData(r),s=we.getConnectedConnectorId(X.state.activeChain),o=Te.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>ke.createAccount(r,l,u||"eoa",f)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:ke.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===le.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:we.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Bs(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?X.subscribeChainProp("accountState",n,r):X.subscribe(n),Ne.subscribe(n)}subscribeNetwork(e){return X.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?Le.subscribeKey("connectedWalletInfo",e,r):Le.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Le.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){X.subscribeKey("activeCaipNetwork",e)}getState(){return Xa.state}getRemoteFeatures(){return ge.state.remoteFeatures}subscribeState(e){return Xa.subscribe(e)}subscribeRemoteFeatures(e){return ge.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Bc.showError(e)}showSuccessMessage(e){Bc.showSuccess(e)}getEvent(){return{...Ut.state}}subscribeEvents(e){return Ut.subscribe(e)}replace(e){Xe.replace(e)}redirect(e){Xe.push(e)}popTransactionStack(e){Xe.popTransactionStack(e)}isOpen(){return St.state.open}isTransactionStackEmpty(){return Xe.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ge.setFeatures(e)}updateRemoteFeatures(e){ge.setRemoteFeatures(e)}updateOptions(e){const n={...ge.state||{},...e};ge.setOptions(n)}setConnectMethodsOrder(e){ge.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ge.setWalletFeaturesOrder(e)}setCollapseWallets(e){ge.setCollapseWallets(e)}setSocialsOrder(e){ge.setSocialsOrder(e)}getConnectMethodsOrder(){return tN.getConnectOrderMethod(ge.state.features,Ne.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||X.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&X.removeNetwork(e,r)}}let C5=!1;class M0e extends k0e{async onAuthProviderConnected(e){const r=Vn.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await eo.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===le.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=ge.state.defaultAccountTypes[r],s=Bs(r),o=e.preferredAccountType||s||i;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Le.state.user||{},...u},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{to.checkIfRequestExists(r)?to.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(Jn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(Jn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const i=to.checkIfRequestIsSafe(n),s=Le.state.address,o=X.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=X.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");Ne.getConnectorId(r)===le.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const i=X.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,i)})}async syncAuthConnectorTheme(e){if(!e)return;const r=Ts.getSnapshot(),n=ge.getSnapshot();await Promise.all([e.syncDappData({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:lm(r.themeVariables,r.themeMode)})])}async syncAuthConnector(e,r){const n=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),i=r===X.state.activeChain;if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername();this.setUser({...Le.state?.user||{},username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),r&&n&&i){const l=await e.getSmartAccountEnabledNetworks();if(X.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],r),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:le.CONNECTOR_ID.AUTH,info:{name:le.CONNECTOR_ID.AUTH},type:Ot.CONNECTOR_TYPE_AUTH,provider:e,chainId:X.getNetworkData(r)?.caipNetwork?.id,chain:r}),this.setStatus("connected",r);const u=we.getConnectedSocialProvider();u?Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Le.state.address,properties:{provider:u,reconnect:!0}}):Ut.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Le.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else Ne.getConnectorId(r)===le.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),we.removeConnectedNamespace(r))}this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){try{if(!ke.isTelegram())return;const r=we.getTelegramSocialProvider();if(!r||!ke.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Le.setSocialProvider(r,e),await this.authProvider?.init();const s=Ne.getAuthConnector();r&&s&&(this.setLoading(!0,e),await Te.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),we.setConnectedSocialProvider(r),we.removeTelegramSocialProvider(),Ut.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){if(!le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=n||i,a=Vn.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=Lg.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Di.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?gi.open(Di.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?gi.open(Di.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&gi.open(Di.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>sg(l),getCaipNetworks:l=>X.getCaipNetworks(l)}),Xa.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===X.state.activeChain&&ge.state.enableReconnect;ge.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Ge.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const r=X.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(n);if(n===r&&i){const o=this.getAdapter(n),a=mt.getProvider(n),c=mt.getProviderId(n);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=mt.getProviderId(r)===Ot.CONNECTOR_TYPE_AUTH,c=mt.getProviderId(n),l=c===Ot.CONNECTOR_TYPE_AUTH,u=le.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{X.state.activeChain=e.chainNamespace,i?await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:le.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Ot.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===Ot.CONNECTOR_TYPE_WALLET_CONNECT){if(!X.state.noAdapters){const f=this.getAdapter(n),d=mt.getProvider(n),h=mt.getProviderId(n);await f?.switchNetwork({caipNetwork:e,provider:d,providerType:h})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Xa.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){const i=`${n}:${r}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=Ne.getConnectorId(n)===le.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,n):(this.setProfileName(a,n),this.setProfileImage(c,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=mt.getProviderId(e);if(r===Ot.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=we.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(ke.isClient()&&!C5)try{const e={...Pt.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),ke.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!ge.state.disableAppend&&!ge.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}C5=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!ke.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(ei(()=>import("./embedded-wallet-DJlsbkfh.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),r.email&&n.push(ei(()=>import("./email-C5RSEcrD.js"),__vite__mapDeps([15,3,16,13,7,12,5,6,11,17,9]),import.meta.url)),r.socials&&n.push(ei(()=>import("./socials-gDw4XtER.js"),__vite__mapDeps([18,3,5,19,6,20,12,21,11,7,22,4,23]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(ei(()=>import("./swaps-BrUDhXo5.js"),__vite__mapDeps([24,3,11,7,12,5,25,26,27,23,28,4,9,6]),import.meta.url)),e.send&&n.push(ei(()=>import("./send-Db6ghoQJ.js"),__vite__mapDeps([29,3,11,7,12,5,6,30,13,28,4,23,27,9,31,32,33]),import.meta.url)),e.receive&&n.push(ei(()=>import("./receive-BfonJ3Z6.js"),__vite__mapDeps([34,3,5,4,22]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(ei(()=>import("./onramp-HdhN76zR.js"),__vite__mapDeps([35,3,5,36,7,19,6,4,37,38,13,30,11,12,21,39,9]),import.meta.url)),r.payWithExchange&&n.push(ei(()=>import("./pay-with-exchange-B0osrVoO.js"),__vite__mapDeps([40,3,11,7,10,4,5,36,23,39,12,9,6,13,31,32]),import.meta.url)),r.activity&&n.push(ei(()=>import("./transactions-Dl8Ju20V.js"),__vite__mapDeps([41,3,42,12,5,13,4,23]),import.meta.url)),(e.pay||r.payments)&&n.push(ei(()=>import("./index-D5YN7r9D.js"),__vite__mapDeps([43,3,5,11,7,44,4,12,10,36,32,21]),import.meta.url)),r.emailCapture&&n.push(ei(()=>import("./data-capture-C7HMw2re.js"),__vite__mapDeps([45,3,16,13,7,46]),import.meta.url)),await Promise.all([...n,ei(()=>import("./index-C8LaSCL9.js"),__vite__mapDeps([47,3,5,4,7,33,12,48,38,13,30,8,10,36,11,44,42,23,31,25,26,32,6,9,17,19,20,21,22,14,37]),import.meta.url),ei(()=>import("./w3m-modal-vwkkuOxL.js"),__vite__mapDeps([49,3,5,10,4,8,7,12,26,48,38,13,30,27]),import.meta.url)])}}function vv(t){const e=ze(t?.namespace||X.state.activeChain),r=ze(X.state.chains),n=ze({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){const l=we.getConnectedConnectorId(c),u=c?Ne.getAuthConnector(c):void 0,f=c||X.state.activeChain,d=f?a.get(f)?.accountState:void 0;n.value.address=ke.getPlainAddress(d?.caipAddress),n.value.caipAddress=d?.caipAddress,n.value.status=d?.status,n.value.isConnected=!!d?.caipAddress,n.value.embeddedWalletInfo=u&&l===le.CONNECTOR_ID.AUTH?{user:d?.user,authProvider:d?.socialProvider??"email",accountType:Bs(f),isSmartAccountDeployed:!!d?.smartAccountDeployed}:void 0}const s=X.subscribeKey("activeChain",a=>{e.value=t?.namespace||a,i(r.value,e.value)}),o=X.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return ou(()=>{i(r.value,e.value)}),xf(()=>{o(),s()}),n}let E1;function U0e(t){t&&(E1=t)}function iw(t){const e=ze(mt.state.providers[t]),r=ze(mt.state.providerIds[t]),n=mt.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return xf(()=>{n?.()}),nl({walletProvider:e,walletProviderType:r})}function AI(){if(!E1)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await E1?.open(r)}async function e(){await E1?.close()}return nl({open:t,close:e})}const $0e="1.8.1";let Lb;function L0e(t){return Lb||(Lb=new M0e({...t,sdkVersion:ke.generateSdkVersion(t.adapters??[],"html",$0e)}),U0e(Lb)),Lb}var A1={exports:{}};const F0e={},B0e=Object.freeze(Object.defineProperty({__proto__:null,default:F0e},Symbol.toStringTag,{value:"Module"})),j0e=en(B0e);var H0e=A1.exports,N5;function q0e(){return N5||(N5=1,(function(t){(function(e,r){function n(C,p){if(!C)throw new Error(p||"Assertion failed")}function i(C,p){C.super_=p;var b=function(){};b.prototype=p.prototype,C.prototype=new b,C.prototype.constructor=C}function s(C,p,b){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((p==="le"||p==="be")&&(b=p,p=10),this._init(C||0,p||10,b||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=j0e.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,b){return p.cmp(b)>0?p:b},s.min=function(p,b){return p.cmp(b)<0?p:b},s.prototype._init=function(p,b,_){if(typeof p=="number")return this._initNumber(p,b,_);if(typeof p=="object")return this._initArray(p,b,_);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),p=p.toString().replace(/\s+/g,"");var N=0;p[0]==="-"&&(N++,this.negative=1),N<p.length&&(b===16?this._parseHex(p,N,_):(this._parseBase(p,b,N),_==="le"&&this._initArray(this.toArray(),b,_)))},s.prototype._initNumber=function(p,b,_){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},s.prototype._initArray=function(p,b,_){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O,$,j=0;if(_==="be")for(N=p.length-1,O=0;N>=0;N-=3)$=p[N]|p[N-1]<<8|p[N-2]<<16,this.words[O]|=$<<j&67108863,this.words[O+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,O++);else if(_==="le")for(N=0,O=0;N<p.length;N+=3)$=p[N]|p[N+1]<<8|p[N+2]<<16,this.words[O]|=$<<j&67108863,this.words[O+1]=$>>>26-j&67108863,j+=24,j>=26&&(j-=26,O++);return this._strip()};function a(C,p){var b=C.charCodeAt(p);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+C)}function c(C,p,b){var _=a(C,b);return b-1>=p&&(_|=a(C,b-1)<<4),_}s.prototype._parseHex=function(p,b,_){this.length=Math.ceil((p.length-b)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var O=0,$=0,j;if(_==="be")for(N=p.length-1;N>=b;N-=2)j=c(p,b,N)<<O,this.words[$]|=j&67108863,O>=18?(O-=18,$+=1,this.words[$]|=j>>>26):O+=8;else{var k=p.length-b;for(N=k%2===0?b+1:b;N<p.length;N+=2)j=c(p,b,N)<<O,this.words[$]|=j&67108863,O>=18?(O-=18,$+=1,this.words[$]|=j>>>26):O+=8}this._strip()};function l(C,p,b,_){for(var N=0,O=0,$=Math.min(C.length,b),j=p;j<$;j++){var k=C.charCodeAt(j)-48;N*=_,k>=49?O=k-49+10:k>=17?O=k-17+10:O=k,n(k>=0&&O<_,"Invalid character"),N+=O}return N}s.prototype._parseBase=function(p,b,_){this.words=[0],this.length=1;for(var N=0,O=1;O<=67108863;O*=b)N++;N--,O=O/b|0;for(var $=p.length-_,j=$%N,k=Math.min($,$-j)+_,A=0,L=_;L<k;L+=N)A=l(p,L,L+N,b),this.imuln(O),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(j!==0){var H=1;for(A=l(p,L,p.length,b),L=0;L<j;L++)H*=b;this.imuln(H),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var b=0;b<this.length;b++)p.words[b]=this.words[b];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(C,p){C.words=p.words,C.length=p.length,C.negative=p.negative,C.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,b){p=p||10,b=b|0||1;var _;if(p===16||p==="hex"){_="";for(var N=0,O=0,$=0;$<this.length;$++){var j=this.words[$],k=((j<<N|O)&16777215).toString(16);O=j>>>24-N&16777215,N+=2,N>=26&&(N-=26,$--),O!==0||$!==this.length-1?_=d[6-k.length]+k+_:_=k+_}for(O!==0&&(_=O.toString(16)+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(p===(p|0)&&p>=2&&p<=36){var A=h[p],L=m[p];_="";var H=this.clone();for(H.negative=0;!H.isZero();){var T=H.modrn(L).toString(p);H=H.idivn(L),H.isZero()?_=T+_:_=d[A-T.length]+T+_}for(this.isZero()&&(_="0"+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,b){return this.toArrayLike(o,p,b)}),s.prototype.toArray=function(p,b){return this.toArrayLike(Array,p,b)};var g=function(p,b){return p.allocUnsafe?p.allocUnsafe(b):new p(b)};s.prototype.toArrayLike=function(p,b,_){this._strip();var N=this.byteLength(),O=_||Math.max(1,N);n(N<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var $=g(p,O),j=b==="le"?"LE":"BE";return this["_toArrayLike"+j]($,N),$},s.prototype._toArrayLikeLE=function(p,b){for(var _=0,N=0,O=0,$=0;O<this.length;O++){var j=this.words[O]<<$|N;p[_++]=j&255,_<p.length&&(p[_++]=j>>8&255),_<p.length&&(p[_++]=j>>16&255),$===6?(_<p.length&&(p[_++]=j>>24&255),N=0,$=0):(N=j>>>24,$+=2)}if(_<p.length)for(p[_++]=N;_<p.length;)p[_++]=0},s.prototype._toArrayLikeBE=function(p,b){for(var _=p.length-1,N=0,O=0,$=0;O<this.length;O++){var j=this.words[O]<<$|N;p[_--]=j&255,_>=0&&(p[_--]=j>>8&255),_>=0&&(p[_--]=j>>16&255),$===6?(_>=0&&(p[_--]=j>>24&255),N=0,$=0):(N=j>>>24,$+=2)}if(_>=0)for(p[_--]=N;_>=0;)p[_--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var b=p,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},s.prototype._zeroBits=function(p){if(p===0)return 26;var b=p,_=0;return(b&8191)===0&&(_+=13,b>>>=13),(b&127)===0&&(_+=7,b>>>=7),(b&15)===0&&(_+=4,b>>>=4),(b&3)===0&&(_+=2,b>>>=2),(b&1)===0&&_++,_},s.prototype.bitLength=function(){var p=this.words[this.length-1],b=this._countBits(p);return(this.length-1)*26+b};function y(C){for(var p=new Array(C.bitLength()),b=0;b<p.length;b++){var _=b/26|0,N=b%26;p[b]=C.words[_]>>>N&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(p+=_,_!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]|p.words[b];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var b;this.length>p.length?b=p:b=this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&p.words[_];return this.length=b.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var b,_;this.length>p.length?(b=this,_=p):(b=p,_=this);for(var N=0;N<_.length;N++)this.words[N]=b.words[N]^_.words[N];if(this!==b)for(;N<b.length;N++)this.words[N]=b.words[N];return this.length=b.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var b=Math.ceil(p/26)|0,_=p%26;this._expand(b),_>0&&b--;for(var N=0;N<b;N++)this.words[N]=~this.words[N]&67108863;return _>0&&(this.words[N]=~this.words[N]&67108863>>26-_),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,b){n(typeof p=="number"&&p>=0);var _=p/26|0,N=p%26;return this._expand(_+1),b?this.words[_]=this.words[_]|1<<N:this.words[_]=this.words[_]&~(1<<N),this._strip()},s.prototype.iadd=function(p){var b;if(this.negative!==0&&p.negative===0)return this.negative=0,b=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,b=this.isub(p),p.negative=1,b._normSign();var _,N;this.length>p.length?(_=this,N=p):(_=p,N=this);for(var O=0,$=0;$<N.length;$++)b=(_.words[$]|0)+(N.words[$]|0)+O,this.words[$]=b&67108863,O=b>>>26;for(;O!==0&&$<_.length;$++)b=(_.words[$]|0)+O,this.words[$]=b&67108863,O=b>>>26;if(this.length=_.length,O!==0)this.words[this.length]=O,this.length++;else if(_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this},s.prototype.add=function(p){var b;return p.negative!==0&&this.negative===0?(p.negative=0,b=this.sub(p),p.negative^=1,b):p.negative===0&&this.negative!==0?(this.negative=0,b=p.sub(this),this.negative=1,b):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var b=this.iadd(p);return p.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var _=this.cmp(p);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,O;_>0?(N=this,O=p):(N=p,O=this);for(var $=0,j=0;j<O.length;j++)b=(N.words[j]|0)-(O.words[j]|0)+$,$=b>>26,this.words[j]=b&67108863;for(;$!==0&&j<N.length;j++)b=(N.words[j]|0)+$,$=b>>26,this.words[j]=b&67108863;if($===0&&j<N.length&&N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this.length=Math.max(this.length,j),N!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function w(C,p,b){b.negative=p.negative^C.negative;var _=C.length+p.length|0;b.length=_,_=_-1|0;var N=C.words[0]|0,O=p.words[0]|0,$=N*O,j=$&67108863,k=$/67108864|0;b.words[0]=j;for(var A=1;A<_;A++){for(var L=k>>>26,H=k&67108863,T=Math.min(A,p.length-1),G=Math.max(0,A-C.length+1);G<=T;G++){var B=A-G|0;N=C.words[B]|0,O=p.words[G]|0,$=N*O+H,L+=$/67108864|0,H=$&67108863}b.words[A]=H|0,k=L|0}return k!==0?b.words[A]=k|0:b.length--,b._strip()}var x=function(p,b,_){var N=p.words,O=b.words,$=_.words,j=0,k,A,L,H=N[0]|0,T=H&8191,G=H>>>13,B=N[1]|0,J=B&8191,Y=B>>>13,ee=N[2]|0,oe=ee&8191,z=ee>>>13,Q=N[3]|0,W=Q&8191,Z=Q>>>13,fe=N[4]|0,ae=fe&8191,ye=fe>>>13,Ee=N[5]|0,V=Ee&8191,K=Ee>>>13,se=N[6]|0,ce=se&8191,me=se>>>13,be=N[7]|0,te=be&8191,ue=be>>>13,$e=N[8]|0,je=$e&8191,Je=$e>>>13,zr=N[9]|0,ot=zr&8191,Dt=zr>>>13,ua=O[0]|0,ht=ua&8191,bt=ua>>>13,bc=O[1]|0,nr=bc&8191,Er=bc>>>13,kf=O[2]|0,Ar=kf&8191,xr=kf>>>13,Mf=O[3]|0,Cr=Mf&8191,Nr=Mf>>>13,Uf=O[4]|0,Sr=Uf&8191,Ir=Uf>>>13,$f=O[5]|0,Tr=$f&8191,Rr=$f>>>13,Lf=O[6]|0,Pr=Lf&8191,Or=Lf>>>13,Ff=O[7]|0,Dr=Ff&8191,kr=Ff>>>13,Bf=O[8]|0,Mr=Bf&8191,Ur=Bf>>>13,jf=O[9]|0,$r=jf&8191,Lr=jf>>>13;_.negative=p.negative^b.negative,_.length=19,k=Math.imul(T,ht),A=Math.imul(T,bt),A=A+Math.imul(G,ht)|0,L=Math.imul(G,bt);var uu=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(uu>>>26)|0,uu&=67108863,k=Math.imul(J,ht),A=Math.imul(J,bt),A=A+Math.imul(Y,ht)|0,L=Math.imul(Y,bt),k=k+Math.imul(T,nr)|0,A=A+Math.imul(T,Er)|0,A=A+Math.imul(G,nr)|0,L=L+Math.imul(G,Er)|0;var fu=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(fu>>>26)|0,fu&=67108863,k=Math.imul(oe,ht),A=Math.imul(oe,bt),A=A+Math.imul(z,ht)|0,L=Math.imul(z,bt),k=k+Math.imul(J,nr)|0,A=A+Math.imul(J,Er)|0,A=A+Math.imul(Y,nr)|0,L=L+Math.imul(Y,Er)|0,k=k+Math.imul(T,Ar)|0,A=A+Math.imul(T,xr)|0,A=A+Math.imul(G,Ar)|0,L=L+Math.imul(G,xr)|0;var du=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(du>>>26)|0,du&=67108863,k=Math.imul(W,ht),A=Math.imul(W,bt),A=A+Math.imul(Z,ht)|0,L=Math.imul(Z,bt),k=k+Math.imul(oe,nr)|0,A=A+Math.imul(oe,Er)|0,A=A+Math.imul(z,nr)|0,L=L+Math.imul(z,Er)|0,k=k+Math.imul(J,Ar)|0,A=A+Math.imul(J,xr)|0,A=A+Math.imul(Y,Ar)|0,L=L+Math.imul(Y,xr)|0,k=k+Math.imul(T,Cr)|0,A=A+Math.imul(T,Nr)|0,A=A+Math.imul(G,Cr)|0,L=L+Math.imul(G,Nr)|0;var hu=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(hu>>>26)|0,hu&=67108863,k=Math.imul(ae,ht),A=Math.imul(ae,bt),A=A+Math.imul(ye,ht)|0,L=Math.imul(ye,bt),k=k+Math.imul(W,nr)|0,A=A+Math.imul(W,Er)|0,A=A+Math.imul(Z,nr)|0,L=L+Math.imul(Z,Er)|0,k=k+Math.imul(oe,Ar)|0,A=A+Math.imul(oe,xr)|0,A=A+Math.imul(z,Ar)|0,L=L+Math.imul(z,xr)|0,k=k+Math.imul(J,Cr)|0,A=A+Math.imul(J,Nr)|0,A=A+Math.imul(Y,Cr)|0,L=L+Math.imul(Y,Nr)|0,k=k+Math.imul(T,Sr)|0,A=A+Math.imul(T,Ir)|0,A=A+Math.imul(G,Sr)|0,L=L+Math.imul(G,Ir)|0;var pu=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(pu>>>26)|0,pu&=67108863,k=Math.imul(V,ht),A=Math.imul(V,bt),A=A+Math.imul(K,ht)|0,L=Math.imul(K,bt),k=k+Math.imul(ae,nr)|0,A=A+Math.imul(ae,Er)|0,A=A+Math.imul(ye,nr)|0,L=L+Math.imul(ye,Er)|0,k=k+Math.imul(W,Ar)|0,A=A+Math.imul(W,xr)|0,A=A+Math.imul(Z,Ar)|0,L=L+Math.imul(Z,xr)|0,k=k+Math.imul(oe,Cr)|0,A=A+Math.imul(oe,Nr)|0,A=A+Math.imul(z,Cr)|0,L=L+Math.imul(z,Nr)|0,k=k+Math.imul(J,Sr)|0,A=A+Math.imul(J,Ir)|0,A=A+Math.imul(Y,Sr)|0,L=L+Math.imul(Y,Ir)|0,k=k+Math.imul(T,Tr)|0,A=A+Math.imul(T,Rr)|0,A=A+Math.imul(G,Tr)|0,L=L+Math.imul(G,Rr)|0;var sE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(sE>>>26)|0,sE&=67108863,k=Math.imul(ce,ht),A=Math.imul(ce,bt),A=A+Math.imul(me,ht)|0,L=Math.imul(me,bt),k=k+Math.imul(V,nr)|0,A=A+Math.imul(V,Er)|0,A=A+Math.imul(K,nr)|0,L=L+Math.imul(K,Er)|0,k=k+Math.imul(ae,Ar)|0,A=A+Math.imul(ae,xr)|0,A=A+Math.imul(ye,Ar)|0,L=L+Math.imul(ye,xr)|0,k=k+Math.imul(W,Cr)|0,A=A+Math.imul(W,Nr)|0,A=A+Math.imul(Z,Cr)|0,L=L+Math.imul(Z,Nr)|0,k=k+Math.imul(oe,Sr)|0,A=A+Math.imul(oe,Ir)|0,A=A+Math.imul(z,Sr)|0,L=L+Math.imul(z,Ir)|0,k=k+Math.imul(J,Tr)|0,A=A+Math.imul(J,Rr)|0,A=A+Math.imul(Y,Tr)|0,L=L+Math.imul(Y,Rr)|0,k=k+Math.imul(T,Pr)|0,A=A+Math.imul(T,Or)|0,A=A+Math.imul(G,Pr)|0,L=L+Math.imul(G,Or)|0;var oE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(oE>>>26)|0,oE&=67108863,k=Math.imul(te,ht),A=Math.imul(te,bt),A=A+Math.imul(ue,ht)|0,L=Math.imul(ue,bt),k=k+Math.imul(ce,nr)|0,A=A+Math.imul(ce,Er)|0,A=A+Math.imul(me,nr)|0,L=L+Math.imul(me,Er)|0,k=k+Math.imul(V,Ar)|0,A=A+Math.imul(V,xr)|0,A=A+Math.imul(K,Ar)|0,L=L+Math.imul(K,xr)|0,k=k+Math.imul(ae,Cr)|0,A=A+Math.imul(ae,Nr)|0,A=A+Math.imul(ye,Cr)|0,L=L+Math.imul(ye,Nr)|0,k=k+Math.imul(W,Sr)|0,A=A+Math.imul(W,Ir)|0,A=A+Math.imul(Z,Sr)|0,L=L+Math.imul(Z,Ir)|0,k=k+Math.imul(oe,Tr)|0,A=A+Math.imul(oe,Rr)|0,A=A+Math.imul(z,Tr)|0,L=L+Math.imul(z,Rr)|0,k=k+Math.imul(J,Pr)|0,A=A+Math.imul(J,Or)|0,A=A+Math.imul(Y,Pr)|0,L=L+Math.imul(Y,Or)|0,k=k+Math.imul(T,Dr)|0,A=A+Math.imul(T,kr)|0,A=A+Math.imul(G,Dr)|0,L=L+Math.imul(G,kr)|0;var aE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(aE>>>26)|0,aE&=67108863,k=Math.imul(je,ht),A=Math.imul(je,bt),A=A+Math.imul(Je,ht)|0,L=Math.imul(Je,bt),k=k+Math.imul(te,nr)|0,A=A+Math.imul(te,Er)|0,A=A+Math.imul(ue,nr)|0,L=L+Math.imul(ue,Er)|0,k=k+Math.imul(ce,Ar)|0,A=A+Math.imul(ce,xr)|0,A=A+Math.imul(me,Ar)|0,L=L+Math.imul(me,xr)|0,k=k+Math.imul(V,Cr)|0,A=A+Math.imul(V,Nr)|0,A=A+Math.imul(K,Cr)|0,L=L+Math.imul(K,Nr)|0,k=k+Math.imul(ae,Sr)|0,A=A+Math.imul(ae,Ir)|0,A=A+Math.imul(ye,Sr)|0,L=L+Math.imul(ye,Ir)|0,k=k+Math.imul(W,Tr)|0,A=A+Math.imul(W,Rr)|0,A=A+Math.imul(Z,Tr)|0,L=L+Math.imul(Z,Rr)|0,k=k+Math.imul(oe,Pr)|0,A=A+Math.imul(oe,Or)|0,A=A+Math.imul(z,Pr)|0,L=L+Math.imul(z,Or)|0,k=k+Math.imul(J,Dr)|0,A=A+Math.imul(J,kr)|0,A=A+Math.imul(Y,Dr)|0,L=L+Math.imul(Y,kr)|0,k=k+Math.imul(T,Mr)|0,A=A+Math.imul(T,Ur)|0,A=A+Math.imul(G,Mr)|0,L=L+Math.imul(G,Ur)|0;var cE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(cE>>>26)|0,cE&=67108863,k=Math.imul(ot,ht),A=Math.imul(ot,bt),A=A+Math.imul(Dt,ht)|0,L=Math.imul(Dt,bt),k=k+Math.imul(je,nr)|0,A=A+Math.imul(je,Er)|0,A=A+Math.imul(Je,nr)|0,L=L+Math.imul(Je,Er)|0,k=k+Math.imul(te,Ar)|0,A=A+Math.imul(te,xr)|0,A=A+Math.imul(ue,Ar)|0,L=L+Math.imul(ue,xr)|0,k=k+Math.imul(ce,Cr)|0,A=A+Math.imul(ce,Nr)|0,A=A+Math.imul(me,Cr)|0,L=L+Math.imul(me,Nr)|0,k=k+Math.imul(V,Sr)|0,A=A+Math.imul(V,Ir)|0,A=A+Math.imul(K,Sr)|0,L=L+Math.imul(K,Ir)|0,k=k+Math.imul(ae,Tr)|0,A=A+Math.imul(ae,Rr)|0,A=A+Math.imul(ye,Tr)|0,L=L+Math.imul(ye,Rr)|0,k=k+Math.imul(W,Pr)|0,A=A+Math.imul(W,Or)|0,A=A+Math.imul(Z,Pr)|0,L=L+Math.imul(Z,Or)|0,k=k+Math.imul(oe,Dr)|0,A=A+Math.imul(oe,kr)|0,A=A+Math.imul(z,Dr)|0,L=L+Math.imul(z,kr)|0,k=k+Math.imul(J,Mr)|0,A=A+Math.imul(J,Ur)|0,A=A+Math.imul(Y,Mr)|0,L=L+Math.imul(Y,Ur)|0,k=k+Math.imul(T,$r)|0,A=A+Math.imul(T,Lr)|0,A=A+Math.imul(G,$r)|0,L=L+Math.imul(G,Lr)|0;var lE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(lE>>>26)|0,lE&=67108863,k=Math.imul(ot,nr),A=Math.imul(ot,Er),A=A+Math.imul(Dt,nr)|0,L=Math.imul(Dt,Er),k=k+Math.imul(je,Ar)|0,A=A+Math.imul(je,xr)|0,A=A+Math.imul(Je,Ar)|0,L=L+Math.imul(Je,xr)|0,k=k+Math.imul(te,Cr)|0,A=A+Math.imul(te,Nr)|0,A=A+Math.imul(ue,Cr)|0,L=L+Math.imul(ue,Nr)|0,k=k+Math.imul(ce,Sr)|0,A=A+Math.imul(ce,Ir)|0,A=A+Math.imul(me,Sr)|0,L=L+Math.imul(me,Ir)|0,k=k+Math.imul(V,Tr)|0,A=A+Math.imul(V,Rr)|0,A=A+Math.imul(K,Tr)|0,L=L+Math.imul(K,Rr)|0,k=k+Math.imul(ae,Pr)|0,A=A+Math.imul(ae,Or)|0,A=A+Math.imul(ye,Pr)|0,L=L+Math.imul(ye,Or)|0,k=k+Math.imul(W,Dr)|0,A=A+Math.imul(W,kr)|0,A=A+Math.imul(Z,Dr)|0,L=L+Math.imul(Z,kr)|0,k=k+Math.imul(oe,Mr)|0,A=A+Math.imul(oe,Ur)|0,A=A+Math.imul(z,Mr)|0,L=L+Math.imul(z,Ur)|0,k=k+Math.imul(J,$r)|0,A=A+Math.imul(J,Lr)|0,A=A+Math.imul(Y,$r)|0,L=L+Math.imul(Y,Lr)|0;var uE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(uE>>>26)|0,uE&=67108863,k=Math.imul(ot,Ar),A=Math.imul(ot,xr),A=A+Math.imul(Dt,Ar)|0,L=Math.imul(Dt,xr),k=k+Math.imul(je,Cr)|0,A=A+Math.imul(je,Nr)|0,A=A+Math.imul(Je,Cr)|0,L=L+Math.imul(Je,Nr)|0,k=k+Math.imul(te,Sr)|0,A=A+Math.imul(te,Ir)|0,A=A+Math.imul(ue,Sr)|0,L=L+Math.imul(ue,Ir)|0,k=k+Math.imul(ce,Tr)|0,A=A+Math.imul(ce,Rr)|0,A=A+Math.imul(me,Tr)|0,L=L+Math.imul(me,Rr)|0,k=k+Math.imul(V,Pr)|0,A=A+Math.imul(V,Or)|0,A=A+Math.imul(K,Pr)|0,L=L+Math.imul(K,Or)|0,k=k+Math.imul(ae,Dr)|0,A=A+Math.imul(ae,kr)|0,A=A+Math.imul(ye,Dr)|0,L=L+Math.imul(ye,kr)|0,k=k+Math.imul(W,Mr)|0,A=A+Math.imul(W,Ur)|0,A=A+Math.imul(Z,Mr)|0,L=L+Math.imul(Z,Ur)|0,k=k+Math.imul(oe,$r)|0,A=A+Math.imul(oe,Lr)|0,A=A+Math.imul(z,$r)|0,L=L+Math.imul(z,Lr)|0;var fE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(fE>>>26)|0,fE&=67108863,k=Math.imul(ot,Cr),A=Math.imul(ot,Nr),A=A+Math.imul(Dt,Cr)|0,L=Math.imul(Dt,Nr),k=k+Math.imul(je,Sr)|0,A=A+Math.imul(je,Ir)|0,A=A+Math.imul(Je,Sr)|0,L=L+Math.imul(Je,Ir)|0,k=k+Math.imul(te,Tr)|0,A=A+Math.imul(te,Rr)|0,A=A+Math.imul(ue,Tr)|0,L=L+Math.imul(ue,Rr)|0,k=k+Math.imul(ce,Pr)|0,A=A+Math.imul(ce,Or)|0,A=A+Math.imul(me,Pr)|0,L=L+Math.imul(me,Or)|0,k=k+Math.imul(V,Dr)|0,A=A+Math.imul(V,kr)|0,A=A+Math.imul(K,Dr)|0,L=L+Math.imul(K,kr)|0,k=k+Math.imul(ae,Mr)|0,A=A+Math.imul(ae,Ur)|0,A=A+Math.imul(ye,Mr)|0,L=L+Math.imul(ye,Ur)|0,k=k+Math.imul(W,$r)|0,A=A+Math.imul(W,Lr)|0,A=A+Math.imul(Z,$r)|0,L=L+Math.imul(Z,Lr)|0;var dE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(dE>>>26)|0,dE&=67108863,k=Math.imul(ot,Sr),A=Math.imul(ot,Ir),A=A+Math.imul(Dt,Sr)|0,L=Math.imul(Dt,Ir),k=k+Math.imul(je,Tr)|0,A=A+Math.imul(je,Rr)|0,A=A+Math.imul(Je,Tr)|0,L=L+Math.imul(Je,Rr)|0,k=k+Math.imul(te,Pr)|0,A=A+Math.imul(te,Or)|0,A=A+Math.imul(ue,Pr)|0,L=L+Math.imul(ue,Or)|0,k=k+Math.imul(ce,Dr)|0,A=A+Math.imul(ce,kr)|0,A=A+Math.imul(me,Dr)|0,L=L+Math.imul(me,kr)|0,k=k+Math.imul(V,Mr)|0,A=A+Math.imul(V,Ur)|0,A=A+Math.imul(K,Mr)|0,L=L+Math.imul(K,Ur)|0,k=k+Math.imul(ae,$r)|0,A=A+Math.imul(ae,Lr)|0,A=A+Math.imul(ye,$r)|0,L=L+Math.imul(ye,Lr)|0;var hE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(hE>>>26)|0,hE&=67108863,k=Math.imul(ot,Tr),A=Math.imul(ot,Rr),A=A+Math.imul(Dt,Tr)|0,L=Math.imul(Dt,Rr),k=k+Math.imul(je,Pr)|0,A=A+Math.imul(je,Or)|0,A=A+Math.imul(Je,Pr)|0,L=L+Math.imul(Je,Or)|0,k=k+Math.imul(te,Dr)|0,A=A+Math.imul(te,kr)|0,A=A+Math.imul(ue,Dr)|0,L=L+Math.imul(ue,kr)|0,k=k+Math.imul(ce,Mr)|0,A=A+Math.imul(ce,Ur)|0,A=A+Math.imul(me,Mr)|0,L=L+Math.imul(me,Ur)|0,k=k+Math.imul(V,$r)|0,A=A+Math.imul(V,Lr)|0,A=A+Math.imul(K,$r)|0,L=L+Math.imul(K,Lr)|0;var pE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(pE>>>26)|0,pE&=67108863,k=Math.imul(ot,Pr),A=Math.imul(ot,Or),A=A+Math.imul(Dt,Pr)|0,L=Math.imul(Dt,Or),k=k+Math.imul(je,Dr)|0,A=A+Math.imul(je,kr)|0,A=A+Math.imul(Je,Dr)|0,L=L+Math.imul(Je,kr)|0,k=k+Math.imul(te,Mr)|0,A=A+Math.imul(te,Ur)|0,A=A+Math.imul(ue,Mr)|0,L=L+Math.imul(ue,Ur)|0,k=k+Math.imul(ce,$r)|0,A=A+Math.imul(ce,Lr)|0,A=A+Math.imul(me,$r)|0,L=L+Math.imul(me,Lr)|0;var gE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(gE>>>26)|0,gE&=67108863,k=Math.imul(ot,Dr),A=Math.imul(ot,kr),A=A+Math.imul(Dt,Dr)|0,L=Math.imul(Dt,kr),k=k+Math.imul(je,Mr)|0,A=A+Math.imul(je,Ur)|0,A=A+Math.imul(Je,Mr)|0,L=L+Math.imul(Je,Ur)|0,k=k+Math.imul(te,$r)|0,A=A+Math.imul(te,Lr)|0,A=A+Math.imul(ue,$r)|0,L=L+Math.imul(ue,Lr)|0;var mE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(mE>>>26)|0,mE&=67108863,k=Math.imul(ot,Mr),A=Math.imul(ot,Ur),A=A+Math.imul(Dt,Mr)|0,L=Math.imul(Dt,Ur),k=k+Math.imul(je,$r)|0,A=A+Math.imul(je,Lr)|0,A=A+Math.imul(Je,$r)|0,L=L+Math.imul(Je,Lr)|0;var yE=(j+k|0)+((A&8191)<<13)|0;j=(L+(A>>>13)|0)+(yE>>>26)|0,yE&=67108863,k=Math.imul(ot,$r),A=Math.imul(ot,Lr),A=A+Math.imul(Dt,$r)|0,L=Math.imul(Dt,Lr);var bE=(j+k|0)+((A&8191)<<13)|0;return j=(L+(A>>>13)|0)+(bE>>>26)|0,bE&=67108863,$[0]=uu,$[1]=fu,$[2]=du,$[3]=hu,$[4]=pu,$[5]=sE,$[6]=oE,$[7]=aE,$[8]=cE,$[9]=lE,$[10]=uE,$[11]=fE,$[12]=dE,$[13]=hE,$[14]=pE,$[15]=gE,$[16]=mE,$[17]=yE,$[18]=bE,j!==0&&($[19]=j,_.length++),_};Math.imul||(x=w);function S(C,p,b){b.negative=p.negative^C.negative,b.length=C.length+p.length;for(var _=0,N=0,O=0;O<b.length-1;O++){var $=N;N=0;for(var j=_&67108863,k=Math.min(O,p.length-1),A=Math.max(0,O-C.length+1);A<=k;A++){var L=O-A,H=C.words[L]|0,T=p.words[A]|0,G=H*T,B=G&67108863;$=$+(G/67108864|0)|0,B=B+j|0,j=B&67108863,$=$+(B>>>26)|0,N+=$>>>26,$&=67108863}b.words[O]=j,_=$,$=N}return _!==0?b.words[O]=_:b.length--,b._strip()}function R(C,p,b){return S(C,p,b)}s.prototype.mulTo=function(p,b){var _,N=this.length+p.length;return this.length===10&&p.length===10?_=x(this,p,b):N<63?_=w(this,p,b):N<1024?_=S(this,p,b):_=R(this,p,b),_},s.prototype.mul=function(p){var b=new s(null);return b.words=new Array(this.length+p.length),this.mulTo(p,b)},s.prototype.mulf=function(p){var b=new s(null);return b.words=new Array(this.length+p.length),R(this,p,b)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var b=p<0;b&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var _=0,N=0;N<this.length;N++){var O=(this.words[N]|0)*p,$=(O&67108863)+(_&67108863);_>>=26,_+=O/67108864|0,_+=$>>>26,this.words[N]=$&67108863}return _!==0&&(this.words[N]=_,this.length++),this.length=p===0?1:this.length,b?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var b=y(p);if(b.length===0)return new s(1);for(var _=this,N=0;N<b.length&&b[N]===0;N++,_=_.sqr());if(++N<b.length)for(var O=_.sqr();N<b.length;N++,O=O.sqr())b[N]!==0&&(_=_.mul(O));return _},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26,N=67108863>>>26-b<<26-b,O;if(b!==0){var $=0;for(O=0;O<this.length;O++){var j=this.words[O]&N,k=(this.words[O]|0)-j<<b;this.words[O]=k|$,$=j>>>26-b}$&&(this.words[O]=$,this.length++)}if(_!==0){for(O=this.length-1;O>=0;O--)this.words[O+_]=this.words[O];for(O=0;O<_;O++)this.words[O]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,b,_){n(typeof p=="number"&&p>=0);var N;b?N=(b-b%26)/26:N=0;var O=p%26,$=Math.min((p-O)/26,this.length),j=67108863^67108863>>>O<<O,k=_;if(N-=$,N=Math.max(0,N),k){for(var A=0;A<$;A++)k.words[A]=this.words[A];k.length=$}if($!==0)if(this.length>$)for(this.length-=$,A=0;A<this.length;A++)this.words[A]=this.words[A+$];else this.words[0]=0,this.length=1;var L=0;for(A=this.length-1;A>=0&&(L!==0||A>=N);A--){var H=this.words[A]|0;this.words[A]=L<<26-O|H>>>O,L=H&j}return k&&L!==0&&(k.words[k.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,b,_){return n(this.negative===0),this.iushrn(p,b,_)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26,N=1<<b;if(this.length<=_)return!1;var O=this.words[_];return!!(O&N)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var b=p%26,_=(p-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var N=67108863^67108863>>>b<<b;this.words[this.length-1]&=N}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,b,_){var N=p.length+_,O;this._expand(N);var $,j=0;for(O=0;O<p.length;O++){$=(this.words[O+_]|0)+j;var k=(p.words[O]|0)*b;$-=k&67108863,j=($>>26)-(k/67108864|0),this.words[O+_]=$&67108863}for(;O<this.length-_;O++)$=(this.words[O+_]|0)+j,j=$>>26,this.words[O+_]=$&67108863;if(j===0)return this._strip();for(n(j===-1),j=0,O=0;O<this.length;O++)$=-(this.words[O]|0)+j,j=$>>26,this.words[O]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,b){var _=this.length-p.length,N=this.clone(),O=p,$=O.words[O.length-1]|0,j=this._countBits($);_=26-j,_!==0&&(O=O.ushln(_),N.iushln(_),$=O.words[O.length-1]|0);var k=N.length-O.length,A;if(b!=="mod"){A=new s(null),A.length=k+1,A.words=new Array(A.length);for(var L=0;L<A.length;L++)A.words[L]=0}var H=N.clone()._ishlnsubmul(O,1,k);H.negative===0&&(N=H,A&&(A.words[k]=1));for(var T=k-1;T>=0;T--){var G=(N.words[O.length+T]|0)*67108864+(N.words[O.length+T-1]|0);for(G=Math.min(G/$|0,67108863),N._ishlnsubmul(O,G,T);N.negative!==0;)G--,N.negative=0,N._ishlnsubmul(O,1,T),N.isZero()||(N.negative^=1);A&&(A.words[T]=G)}return A&&A._strip(),N._strip(),b!=="div"&&_!==0&&N.iushrn(_),{div:A||null,mod:N}},s.prototype.divmod=function(p,b,_){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var N,O,$;return this.negative!==0&&p.negative===0?($=this.neg().divmod(p,b),b!=="mod"&&(N=$.div.neg()),b!=="div"&&(O=$.mod.neg(),_&&O.negative!==0&&O.iadd(p)),{div:N,mod:O}):this.negative===0&&p.negative!==0?($=this.divmod(p.neg(),b),b!=="mod"&&(N=$.div.neg()),{div:N,mod:$.mod}):(this.negative&p.negative)!==0?($=this.neg().divmod(p.neg(),b),b!=="div"&&(O=$.mod.neg(),_&&O.negative!==0&&O.isub(p)),{div:$.div,mod:O}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?b==="div"?{div:this.divn(p.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,b)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var b=this.divmod(p);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(p):b.mod,N=p.ushrn(1),O=p.andln(1),$=_.cmp(N);return $<0||O===1&&$===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modrn=function(p){var b=p<0;b&&(p=-p),n(p<=67108863);for(var _=(1<<26)%p,N=0,O=this.length-1;O>=0;O--)N=(_*N+(this.words[O]|0))%p;return b?-N:N},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var b=p<0;b&&(p=-p),n(p<=67108863);for(var _=0,N=this.length-1;N>=0;N--){var O=(this.words[N]|0)+_*67108864;this.words[N]=O/p|0,_=O%p}return this._strip(),b?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var b=this,_=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var N=new s(1),O=new s(0),$=new s(0),j=new s(1),k=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++k;for(var A=_.clone(),L=b.clone();!b.isZero();){for(var H=0,T=1;(b.words[0]&T)===0&&H<26;++H,T<<=1);if(H>0)for(b.iushrn(H);H-- >0;)(N.isOdd()||O.isOdd())&&(N.iadd(A),O.isub(L)),N.iushrn(1),O.iushrn(1);for(var G=0,B=1;(_.words[0]&B)===0&&G<26;++G,B<<=1);if(G>0)for(_.iushrn(G);G-- >0;)($.isOdd()||j.isOdd())&&($.iadd(A),j.isub(L)),$.iushrn(1),j.iushrn(1);b.cmp(_)>=0?(b.isub(_),N.isub($),O.isub(j)):(_.isub(b),$.isub(N),j.isub(O))}return{a:$,b:j,gcd:_.iushln(k)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var b=this,_=p.clone();b.negative!==0?b=b.umod(p):b=b.clone();for(var N=new s(1),O=new s(0),$=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var j=0,k=1;(b.words[0]&k)===0&&j<26;++j,k<<=1);if(j>0)for(b.iushrn(j);j-- >0;)N.isOdd()&&N.iadd($),N.iushrn(1);for(var A=0,L=1;(_.words[0]&L)===0&&A<26;++A,L<<=1);if(A>0)for(_.iushrn(A);A-- >0;)O.isOdd()&&O.iadd($),O.iushrn(1);b.cmp(_)>=0?(b.isub(_),N.isub(O)):(_.isub(b),O.isub(N))}var H;return b.cmpn(1)===0?H=N:H=O,H.cmpn(0)<0&&H.iadd(p),H},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var b=this.clone(),_=p.clone();b.negative=0,_.negative=0;for(var N=0;b.isEven()&&_.isEven();N++)b.iushrn(1),_.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var O=b.cmp(_);if(O<0){var $=b;b=_,_=$}else if(O===0||_.cmpn(1)===0)break;b.isub(_)}while(!0);return _.iushln(N)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var b=p%26,_=(p-b)/26,N=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=N,this;for(var O=N,$=_;O!==0&&$<this.length;$++){var j=this.words[$]|0;j+=O,O=j>>>26,j&=67108863,this.words[$]=j}return O!==0&&(this.words[$]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var b=p<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var _;if(this.length>1)_=1;else{b&&(p=-p),n(p<=67108863,"Number is too big");var N=this.words[0]|0;_=N===p?0:N<p?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var b=this.ucmp(p);return this.negative!==0?-b|0:b},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var N=this.words[_]|0,O=p.words[_]|0;if(N!==O){N<O?b=-1:N>O&&(b=1);break}}return b},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new U(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var D={k256:null,p224:null,p192:null,p25519:null};function P(C,p){this.name=C,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},P.prototype.ireduce=function(p){var b=p,_;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),_=b.bitLength();while(_>this.n);var N=_<this.n?-1:b.ucmp(this.p);return N===0?(b.words[0]=0,b.length=1):N>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},P.prototype.split=function(p,b){p.iushrn(this.n,0,b)},P.prototype.imulK=function(p){return p.imul(this.k)};function F(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,P),F.prototype.split=function(p,b){for(var _=4194303,N=Math.min(p.length,9),O=0;O<N;O++)b.words[O]=p.words[O];if(b.length=N,p.length<=9){p.words[0]=0,p.length=1;return}var $=p.words[9];for(b.words[b.length++]=$&_,O=10;O<p.length;O++){var j=p.words[O]|0;p.words[O-10]=(j&_)<<4|$>>>22,$=j}$>>>=22,p.words[O-10]=$,$===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var b=0,_=0;_<p.length;_++){var N=p.words[_]|0;b+=N*977,p.words[_]=b&67108863,b=N*64+(b/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function E(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(E,P);function v(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(v,P);function M(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(M,P),M.prototype.imulK=function(p){for(var b=0,_=0;_<p.length;_++){var N=(p.words[_]|0)*19+b,O=N&67108863;N>>>=26,p.words[_]=O,b=N}return b!==0&&(p.words[p.length++]=b),p},s._prime=function(p){if(D[p])return D[p];var b;if(p==="k256")b=new F;else if(p==="p224")b=new E;else if(p==="p192")b=new v;else if(p==="p25519")b=new M;else throw new Error("Unknown prime "+p);return D[p]=b,b};function U(C){if(typeof C=="string"){var p=s._prime(C);this.m=p.p,this.prime=p}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}U.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},U.prototype._verify2=function(p,b){n((p.negative|b.negative)===0,"red works only with positives"),n(p.red&&p.red===b.red,"red works only with red numbers")},U.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},U.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},U.prototype.add=function(p,b){this._verify2(p,b);var _=p.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},U.prototype.iadd=function(p,b){this._verify2(p,b);var _=p.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},U.prototype.sub=function(p,b){this._verify2(p,b);var _=p.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},U.prototype.isub=function(p,b){this._verify2(p,b);var _=p.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},U.prototype.shl=function(p,b){return this._verify1(p),this.imod(p.ushln(b))},U.prototype.imul=function(p,b){return this._verify2(p,b),this.imod(p.imul(b))},U.prototype.mul=function(p,b){return this._verify2(p,b),this.imod(p.mul(b))},U.prototype.isqr=function(p){return this.imul(p,p.clone())},U.prototype.sqr=function(p){return this.mul(p,p)},U.prototype.sqrt=function(p){if(p.isZero())return p.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(p,_)}for(var N=this.m.subn(1),O=0;!N.isZero()&&N.andln(1)===0;)O++,N.iushrn(1);n(!N.isZero());var $=new s(1).toRed(this),j=$.redNeg(),k=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new s(2*A*A).toRed(this);this.pow(A,k).cmp(j)!==0;)A.redIAdd(j);for(var L=this.pow(A,N),H=this.pow(p,N.addn(1).iushrn(1)),T=this.pow(p,N),G=O;T.cmp($)!==0;){for(var B=T,J=0;B.cmp($)!==0;J++)B=B.redSqr();n(J<G);var Y=this.pow(L,new s(1).iushln(G-J-1));H=H.redMul(Y),L=Y.redSqr(),T=T.redMul(L),G=J}return H},U.prototype.invm=function(p){var b=p._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},U.prototype.pow=function(p,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return p.clone();var _=4,N=new Array(1<<_);N[0]=new s(1).toRed(this),N[1]=p;for(var O=2;O<N.length;O++)N[O]=this.mul(N[O-1],p);var $=N[0],j=0,k=0,A=b.bitLength()%26;for(A===0&&(A=26),O=b.length-1;O>=0;O--){for(var L=b.words[O],H=A-1;H>=0;H--){var T=L>>H&1;if($!==N[0]&&($=this.sqr($)),T===0&&j===0){k=0;continue}j<<=1,j|=T,k++,!(k!==_&&(O!==0||H!==0))&&($=this.mul($,N[j]),k=0,j=0)}A=26}return $},U.prototype.convertTo=function(p){var b=p.umod(this.m);return b===p?b.clone():b},U.prototype.convertFrom=function(p){var b=p.clone();return b.red=null,b},s.mont=function(p){return new I(p)};function I(C){U.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,U),I.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},I.prototype.convertFrom=function(p){var b=this.imod(p.mul(this.rinv));return b.red=null,b},I.prototype.imul=function(p,b){if(p.isZero()||b.isZero())return p.words[0]=0,p.length=1,p;var _=p.imul(b),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=_.isub(N).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},I.prototype.mul=function(p,b){if(p.isZero()||b.isZero())return new s(0)._forceRed(this);var _=p.mul(b),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=_.isub(N).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},I.prototype.invm=function(p){var b=this.imod(p._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,H0e)})(A1)),A1.exports}var W0e=q0e();const re=Yi(W0e),z0e="logger/5.8.0";let S5=!1,I5=!1;const x1={debug:1,default:2,info:2,warning:3,error:4,off:5};let T5=x1.default,UA=null;function G0e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const R5=G0e();var oN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(oN||(oN={}));var Ia;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ia||(Ia={}));const P5="0123456789abcdef";let ie=class Nn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();x1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(T5>x1[n])&&console.log.apply(console,r)}debug(...e){this._log(Nn.levels.DEBUG,e)}info(...e){this._log(Nn.levels.INFO,e)}warn(...e){this._log(Nn.levels.WARNING,e)}makeError(e,r,n){if(I5)return this.makeError("censored error",r,{});r||(r=Nn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=P5[l[f]>>4],u+=P5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ia.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ia.CALL_EXCEPTION:case Ia.INSUFFICIENT_FUNDS:case Ia.MISSING_NEW:case Ia.NONCE_EXPIRED:case Ia.REPLACEMENT_UNDERPRICED:case Ia.TRANSACTION_REPLACED:case Ia.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Nn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){R5&&this.throwError("platform missing String.prototype.normalize",Nn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:R5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Nn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Nn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Nn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return UA||(UA=new Nn(z0e)),UA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),S5){if(!e)return;this.globalLogger().throwError("error censorship permanent",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}I5=!!e,S5=!!r}static setLogLevel(e){const r=x1[e.toLowerCase()];if(r==null){Nn.globalLogger().warn("invalid log level - "+e);return}T5=r}static from(e){return new Nn(e)}};ie.errors=Ia;ie.levels=oN;const V0e="bytes/5.8.0",rn=new ie(V0e);function SL(t){return!!t.toHexString}function x0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return x0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ev(t){return yt(t)&&!(t.length%2)||cp(t)}function O5(t){return typeof t=="number"&&t==t&&t%1===0}function cp(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!O5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!O5(r)||r<0||r>=256)return!1}return!0}function he(t,e){if(e||(e={}),typeof t=="number"){rn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),x0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),SL(t)&&(t=t.toHexString()),yt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":rn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return x0(new Uint8Array(n))}return cp(t)?x0(new Uint8Array(t)):rn.throwArgumentError("invalid arrayify value","value",t)}function Kt(t){const e=t.map(i=>he(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),x0(n)}function Kl(t){let e=he(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function C1(t,e){t=he(t),t.length>e&&rn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),x0(r)}function yt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const $A="0123456789abcdef";function _e(t,e){if(e||(e={}),typeof t=="number"){rn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=$A[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),SL(t))return t.toHexString();if(yt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":rn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(cp(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=$A[(i&240)>>4]+$A[i&15]}return r}return rn.throwArgumentError("invalid hexlify value","value",t)}function zd(t){if(typeof t!="string")t=_e(t);else if(!yt(t)||t.length%2)return null;return(t.length-2)/2}function wn(t,e,r){return typeof t!="string"?t=_e(t):(!yt(t)||t.length%2)&&rn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function as(t){let e="0x";return t.forEach(r=>{e+=_e(r).substring(2)}),e}function xI(t){const e=K0e(_e(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function K0e(t){typeof t!="string"&&(t=_e(t)),yt(t)||rn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function cr(t,e){for(typeof t!="string"?t=_e(t):yt(t)||rn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&rn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function lp(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ev(t)){let r=he(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=_e(r.slice(0,32)),e.s=_e(r.slice(32,64))):r.length===65?(e.r=_e(r.slice(0,32)),e.s=_e(r.slice(32,64)),e.v=r[64]):rn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:rn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=_e(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=C1(he(e._vs),32);e._vs=_e(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&rn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=_e(i);e.s==null?e.s=o:e.s!==o&&rn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?rn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&rn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!yt(e.r)?rn.throwArgumentError("signature missing or invalid r","signature",t):e.r=cr(e.r,32),e.s==null||!yt(e.s)?rn.throwArgumentError("signature missing or invalid s","signature",t):e.s=cr(e.s,32);const r=he(e.s);r[0]>=128&&rn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=_e(r);e._vs&&(yt(e._vs)||rn.throwArgumentError("signature invalid _vs","signature",t),e._vs=cr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&rn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function D5(t){return t=lp(t),_e(Kt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const IL="bignumber/5.8.0";var sw=re.BN;const Tl=new ie(IL),LA={},k5=9007199254740991;function J0e(t){return t!=null&&(Ce.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||yt(t)||typeof t=="bigint"||cp(t))}let M5=!1,Ce=class ba{constructor(e,r){e!==LA&&Tl.throwError("cannot call constructor directly; use BigNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return _s(_t(this).fromTwos(e))}toTwos(e){return _s(_t(this).toTwos(e))}abs(){return this._hex[0]==="-"?ba.from(this._hex.substring(1)):this}add(e){return _s(_t(this).add(_t(e)))}sub(e){return _s(_t(this).sub(_t(e)))}div(e){return ba.from(e).isZero()&&_o("division-by-zero","div"),_s(_t(this).div(_t(e)))}mul(e){return _s(_t(this).mul(_t(e)))}mod(e){const r=_t(e);return r.isNeg()&&_o("division-by-zero","mod"),_s(_t(this).umod(r))}pow(e){const r=_t(e);return r.isNeg()&&_o("negative-power","pow"),_s(_t(this).pow(r))}and(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&_o("unbound-bitwise-result","and"),_s(_t(this).and(r))}or(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&_o("unbound-bitwise-result","or"),_s(_t(this).or(r))}xor(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&_o("unbound-bitwise-result","xor"),_s(_t(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&_o("negative-width","mask"),_s(_t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&_o("negative-width","shl"),_s(_t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&_o("negative-width","shr"),_s(_t(this).shrn(e))}eq(e){return _t(this).eq(_t(e))}lt(e){return _t(this).lt(_t(e))}lte(e){return _t(this).lte(_t(e))}gt(e){return _t(this).gt(_t(e))}gte(e){return _t(this).gte(_t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _t(this).isZero()}toNumber(){try{return _t(this).toNumber()}catch{_o("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Tl.throwError("this platform does not support BigInt",ie.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?M5||(M5=!0,Tl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Tl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ie.errors.UNEXPECTED_ARGUMENT,{}):Tl.throwError("BigNumber.toString does not accept parameters",ie.errors.UNEXPECTED_ARGUMENT,{})),_t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ba)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ba(LA,Xm(e)):e.match(/^-?[0-9]+$/)?new ba(LA,Xm(new sw(e))):Tl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&_o("underflow","BigNumber.from",e),(e>=k5||e<=-k5)&&_o("overflow","BigNumber.from",e),ba.from(String(e));const r=e;if(typeof r=="bigint")return ba.from(r.toString());if(cp(r))return ba.from(_e(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ba.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(yt(n)||n[0]==="-"&&yt(n.substring(1))))return ba.from(n)}return Tl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Xm(t){if(typeof t!="string")return Xm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Tl.throwArgumentError("invalid hex","value",t),t=Xm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function _s(t){return Ce.from(Xm(t))}function _t(t){const e=Ce.from(t).toHexString();return e[0]==="-"?new sw("-"+e.substring(3),16):new sw(e.substring(2),16)}function _o(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Tl.throwError(t,ie.errors.NUMERIC_FAULT,n)}function Y0e(t){return new sw(t,36).toString(16)}const cs=new ie(IL),Bg={},TL=Ce.from(0),RL=Ce.from(-1);function PL(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),cs.throwError(t,ie.errors.NUMERIC_FAULT,i)}let jg="0";for(;jg.length<256;)jg+=jg;function CI(t){if(typeof t!="number")try{t=Ce.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+jg.substring(0,t):cs.throwArgumentError("invalid decimal size","decimals",t)}function N1(t,e){e==null&&(e=0);const r=CI(e);t=Ce.from(t);const n=t.lt(TL);n&&(t=t.mul(RL));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Ic(t,e){e==null&&(e=0);const r=CI(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&cs.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&cs.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&cs.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&PL("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Ce.from(s),c=Ce.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(RL)),l}class C0{constructor(e,r,n,i){e!==Bg&&cs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=CI(i),Object.freeze(this)}static from(e){if(e instanceof C0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||cs.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&cs.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&cs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&cs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new C0(Bg,r,n,i)}}class pi{constructor(e,r,n,i){e!==Bg&&cs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ie.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&cs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ic(this._value,this.format.decimals),n=Ic(e._value,e.format.decimals);return pi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ic(this._value,this.format.decimals),n=Ic(e._value,e.format.decimals);return pi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ic(this._value,this.format.decimals),n=Ic(e._value,e.format.decimals);return pi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ic(this._value,this.format.decimals),n=Ic(e._value,e.format.decimals);return pi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=pi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(U5.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=pi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(U5.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&cs.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=pi.from("1"+jg.substring(0,e),this.format),i=X0e.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&cs.throwArgumentError("invalid byte width","width",e);const r=Ce.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return cr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return pi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!J0e(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),pi.fromString(N1(e,r),C0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=C0.from(r),i=Ic(e,n.decimals);!n.signed&&i.lt(TL)&&PL("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=cr(s,n.width/8));const o=N1(i,n.decimals);return new pi(Bg,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=C0.from(r);if(he(e).length>n.width/8)throw new Error("overflow");let i=Ce.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=N1(i,n.decimals);return new pi(Bg,s,o,n)}static from(e,r){if(typeof e=="string")return pi.fromString(e,r);if(cp(e))return pi.fromBytes(e,r);try{return pi.fromValue(e,0,r)}catch(n){if(n.code!==ie.errors.INVALID_ARGUMENT)throw n}return cs.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const U5=pi.from(1),X0e=pi.from("0.5"),Q0e="properties/5.8.0";var Z0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ow=new ie(Q0e);function de(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Us(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ln(t){return Z0e(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function OL(t,e){(!t||typeof t!="object")&&ow.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||ow.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Kn(t){const e={};for(const r in t)e[r]=t[r];return e}const epe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function DL(t){if(t==null||epe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!DL(n))return!1}return!0}return ow.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function tpe(t){if(DL(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>nu(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&de(e,r,nu(n))}return e}return ow.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function nu(t){return tpe(t)}let co=class{constructor(e){for(const r in e)this[r]=nu(e[r])}};const Gy="abi/5.8.0",It=new ie(Gy),Gd={};let $5={calldata:!0,memory:!0,storage:!0},rpe={calldata:!0,memory:!0};function Fb(t,e){if(t==="bytes"||t==="string"){if($5[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&rpe[e])return!0;return($5[e]||e==="payable")&&It.throwArgumentError("invalid modifier","name",e),!1}function npe(t,e){let r=t;function n(a){It.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=t0(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Fb(o.type,o.name)&&(o.name=""),o.type=t0(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Fb(o.type,o.name)&&(o.name=""),o.type=t0(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=t0(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Fb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&It.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Fb(o.type,o.name)&&(o.name=""),s.type=t0(s.type),s}function S1(t,e){for(let r in e)de(t,r,e[r])}const qt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ipe=new RegExp(/^(.*)\[([0-9]*)\]$/);let Yc=class Du{constructor(e,r){e!==Gd&&It.throwError("use fromString",ie.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),S1(this,r);let n=this.type.match(ipe);n?S1(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Du.fromObject({type:n[1],components:this.components}),baseType:"array"}):S1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=qt.sighash),qt[e]||It.throwArgumentError("invalid format type","format",e),e===qt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==qt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===qt.full?", ":",")+")"):r+=this.type,e!==qt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===qt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Du.fromString(e,r):Du.fromObject(e)}static fromObject(e){return Du.isParamType(e)?e:new Du(Gd,{name:e.name||null,type:t0(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Du.fromObject):null})}static fromString(e,r){function n(i){return Du.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(npe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function Qm(t,e){return ope(t).map(r=>Yc.fromString(r,e))}let Av=class lg{constructor(e,r){e!==Gd&&It.throwError("use a static from method",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),S1(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return lg.isFragment(e)?e:typeof e=="string"?lg.fromString(e):lg.fromObject(e)}static fromObject(e){if(lg.isFragment(e))return e;switch(e.type){case"function":return cw.fromObject(e);case"event":return aN.fromObject(e);case"constructor":return aw.fromObject(e);case"error":return F5.fromObject(e);case"fallback":case"receive":return null}return It.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?aN.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?cw.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?aw.fromString(e.trim()):e.split(" ")[0]==="error"?F5.fromString(e.substring(5).trim()):It.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},aN=class Xh extends Av{format(e){if(e||(e=qt.sighash),qt[e]||It.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==qt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ",e!==qt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Xh.fromString(e):Xh.fromObject(e)}static fromObject(e){if(Xh.isEventFragment(e))return e;e.type!=="event"&&It.throwArgumentError("invalid event object","value",e);const r={name:Zm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Yc.fromObject):[],type:"event"};return new Xh(Gd,r)}static fromString(e){let r=e.match(ey);r||It.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:It.warn("unknown modifier: "+i)}}),Xh.fromObject({name:r[1].trim(),anonymous:n,inputs:Qm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function kL(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&It.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||It.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ce.from(r[1]),r[0]):t}function ML(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function UL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&It.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&It.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&It.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&It.throwArgumentError("unable to determine stateMutability","value",t),e}let aw=class Qh extends Av{format(e){if(e||(e=qt.sighash),qt[e]||It.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===qt.sighash&&It.throwError("cannot format a constructor for sighash",ie.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Qh.fromString(e):Qh.fromObject(e)}static fromObject(e){if(Qh.isConstructorFragment(e))return e;e.type!=="constructor"&&It.throwArgumentError("invalid constructor object","value",e);let r=UL(e);r.constant&&It.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Yc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ce.from(e.gas):null};return new Qh(Gd,n)}static fromString(e){let r={type:"constructor"};e=kL(e,r);let n=e.match(ey);return(!n||n[1].trim()!=="constructor")&&It.throwArgumentError("invalid constructor string","value",e),r.inputs=Qm(n[2].trim(),!1),ML(n[3].trim(),r),Qh.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},cw=class Zh extends aw{format(e){if(e||(e=qt.sighash),qt[e]||It.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==qt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ",e!==qt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Zh.fromString(e):Zh.fromObject(e)}static fromObject(e){if(Zh.isFunctionFragment(e))return e;e.type!=="function"&&It.throwArgumentError("invalid function object","value",e);let r=UL(e);const n={type:e.type,name:Zm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Yc.fromObject):[],outputs:e.outputs?e.outputs.map(Yc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ce.from(e.gas):null};return new Zh(Gd,n)}static fromString(e){let r={type:"function"};e=kL(e,r);let n=e.split(" returns ");n.length>2&&It.throwArgumentError("invalid function string","value",e);let i=n[0].match(ey);if(i||It.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Zm(r.name),r.inputs=Qm(i[2],!1),ML(i[3].trim(),r),n.length>1){let s=n[1].match(ey);(s[1].trim()!=""||s[3].trim()!="")&&It.throwArgumentError("unexpected tokens","value",e),r.outputs=Qm(s[2],!1)}else r.outputs=[];return Zh.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function L5(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&It.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let F5=class e0 extends Av{format(e){if(e||(e=qt.sighash),qt[e]||It.throwArgumentError("invalid format type","format",e),e===qt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==qt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===qt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?e0.fromString(e):e0.fromObject(e)}static fromObject(e){if(e0.isErrorFragment(e))return e;e.type!=="error"&&It.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Zm(e.name),inputs:e.inputs?e.inputs.map(Yc.fromObject):[]};return L5(new e0(Gd,r))}static fromString(e){let r={type:"error"},n=e.match(ey);return n||It.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Zm(r.name),r.inputs=Qm(n[2],!1),L5(e0.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function t0(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const spe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Zm(t){return(!t||!t.match(spe))&&It.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ey=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function ope(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&It.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const NI=new ie(Gy);function ape(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let au=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){NI.throwArgumentError(e,this.localName,r)}},cN=class{constructor(e){de(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return as(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Kt(e._data))}writeBytes(e){let r=he(e);const n=r.length%this.wordSize;return n&&(r=Kt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=he(Ce.from(e));return r.length>this.wordSize&&NI.throwError("value out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Kt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},cpe=class lN{constructor(e,r,n,i){de(this,"_data",he(e)),de(this,"wordSize",r||32),de(this,"_coerceFunc",n),de(this,"allowLoose",i),this._offset=0}get data(){return _e(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):lN.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:NI.throwError("data out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new lN(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ce.from(this.readBytes(this.wordSize))}};var FA={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var B5;function lpe(){return B5||(B5=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=za:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],w=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var R=function(T,G,B){return function(J){return new A(T,G,T).update(J)[B]()}},D=function(T,G,B){return function(J,Y){return new A(T,G,Y).update(J)[B]()}},P=function(T,G,B){return function(J,Y,ee,oe){return p["cshake"+T].update(J,Y,ee,oe)[B]()}},F=function(T,G,B){return function(J,Y,ee,oe){return p["kmac"+T].update(J,Y,ee,oe)[B]()}},E=function(T,G,B,J){for(var Y=0;Y<x.length;++Y){var ee=x[Y];T[ee]=G(B,J,ee)}return T},v=function(T,G){var B=R(T,G,"hex");return B.create=function(){return new A(T,G,T)},B.update=function(J){return B.create().update(J)},E(B,R,T,G)},M=function(T,G){var B=D(T,G,"hex");return B.create=function(J){return new A(T,G,J)},B.update=function(J,Y){return B.create(Y).update(J)},E(B,D,T,G)},U=function(T,G){var B=S[T],J=P(T,G,"hex");return J.create=function(Y,ee,oe){return!ee&&!oe?p["shake"+T].create(Y):new A(T,G,Y).bytepad([ee,oe],B)},J.update=function(Y,ee,oe,z){return J.create(ee,oe,z).update(Y)},E(J,P,T,G)},I=function(T,G){var B=S[T],J=F(T,G,"hex");return J.create=function(Y,ee,oe){return new L(T,G,ee).bytepad(["KMAC",oe],B).bytepad([Y],B)},J.update=function(Y,ee,oe,z){return J.create(Y,oe,z).update(ee)},E(J,F,T,G)},C=[{name:"keccak",padding:d,bits:y,createMethod:v},{name:"sha3",padding:h,bits:y,createMethod:v},{name:"shake",padding:u,bits:w,createMethod:M},{name:"cshake",padding:f,bits:w,createMethod:U},{name:"kmac",padding:f,bits:w,createMethod:I}],p={},b=[],_=0;_<C.length;++_)for(var N=C[_],O=N.bits,$=0;$<O.length;++$){var j=N.name+"_"+O[$];if(b.push(j),p[j]=N.createMethod(O[$],N.padding),N.name!=="sha3"){var k=N.name+O[$];b.push(k),p[k]=p[j]}}function A(T,G,B){this.blocks=[],this.s=[],this.padding=G,this.outputBits=B,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=B>>5,this.extraBytes=(B&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}A.prototype.update=function(T){if(this.finalized)throw new Error(r);var G,B=typeof T;if(B!=="string"){if(B==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);G=!0}for(var J=this.blocks,Y=this.byteCount,ee=T.length,oe=this.blockCount,z=0,Q=this.s,W,Z;z<ee;){if(this.reset)for(this.reset=!1,J[0]=this.block,W=1;W<oe+1;++W)J[W]=0;if(G)for(W=this.start;z<ee&&W<Y;++z)J[W>>2]|=T[z]<<m[W++&3];else for(W=this.start;z<ee&&W<Y;++z)Z=T.charCodeAt(z),Z<128?J[W>>2]|=Z<<m[W++&3]:Z<2048?(J[W>>2]|=(192|Z>>6)<<m[W++&3],J[W>>2]|=(128|Z&63)<<m[W++&3]):Z<55296||Z>=57344?(J[W>>2]|=(224|Z>>12)<<m[W++&3],J[W>>2]|=(128|Z>>6&63)<<m[W++&3],J[W>>2]|=(128|Z&63)<<m[W++&3]):(Z=65536+((Z&1023)<<10|T.charCodeAt(++z)&1023),J[W>>2]|=(240|Z>>18)<<m[W++&3],J[W>>2]|=(128|Z>>12&63)<<m[W++&3],J[W>>2]|=(128|Z>>6&63)<<m[W++&3],J[W>>2]|=(128|Z&63)<<m[W++&3]);if(this.lastByteIndex=W,W>=Y){for(this.start=W-Y,this.block=J[oe],W=0;W<oe;++W)Q[W]^=J[W];H(Q),this.reset=!0}else this.start=W}return this},A.prototype.encode=function(T,G){var B=T&255,J=1,Y=[B];for(T=T>>8,B=T&255;B>0;)Y.unshift(B),T=T>>8,B=T&255,++J;return G?Y.push(J):Y.unshift(J),this.update(Y),Y.length},A.prototype.encodeString=function(T){var G,B=typeof T;if(B!=="string"){if(B==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);G=!0}var J=0,Y=T.length;if(G)J=Y;else for(var ee=0;ee<T.length;++ee){var oe=T.charCodeAt(ee);oe<128?J+=1:oe<2048?J+=2:oe<55296||oe>=57344?J+=3:(oe=65536+((oe&1023)<<10|T.charCodeAt(++ee)&1023),J+=4)}return J+=this.encode(J*8),this.update(T),J},A.prototype.bytepad=function(T,G){for(var B=this.encode(G),J=0;J<T.length;++J)B+=this.encodeString(T[J]);var Y=G-B%G,ee=[];return ee.length=Y,this.update(ee),this},A.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,G=this.lastByteIndex,B=this.blockCount,J=this.s;if(T[G>>2]|=this.padding[G&3],this.lastByteIndex===this.byteCount)for(T[0]=T[B],G=1;G<B+1;++G)T[G]=0;for(T[B-1]|=2147483648,G=0;G<B;++G)J[G]^=T[G];H(J)}},A.prototype.toString=A.prototype.hex=function(){this.finalize();for(var T=this.blockCount,G=this.s,B=this.outputBlocks,J=this.extraBytes,Y=0,ee=0,oe="",z;ee<B;){for(Y=0;Y<T&&ee<B;++Y,++ee)z=G[Y],oe+=l[z>>4&15]+l[z&15]+l[z>>12&15]+l[z>>8&15]+l[z>>20&15]+l[z>>16&15]+l[z>>28&15]+l[z>>24&15];ee%T===0&&(H(G),Y=0)}return J&&(z=G[Y],oe+=l[z>>4&15]+l[z&15],J>1&&(oe+=l[z>>12&15]+l[z>>8&15]),J>2&&(oe+=l[z>>20&15]+l[z>>16&15])),oe},A.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,G=this.s,B=this.outputBlocks,J=this.extraBytes,Y=0,ee=0,oe=this.outputBits>>3,z;J?z=new ArrayBuffer(B+1<<2):z=new ArrayBuffer(oe);for(var Q=new Uint32Array(z);ee<B;){for(Y=0;Y<T&&ee<B;++Y,++ee)Q[ee]=G[Y];ee%T===0&&H(G)}return J&&(Q[Y]=G[Y],z=z.slice(0,oe)),z},A.prototype.buffer=A.prototype.arrayBuffer,A.prototype.digest=A.prototype.array=function(){this.finalize();for(var T=this.blockCount,G=this.s,B=this.outputBlocks,J=this.extraBytes,Y=0,ee=0,oe=[],z,Q;ee<B;){for(Y=0;Y<T&&ee<B;++Y,++ee)z=ee<<2,Q=G[Y],oe[z]=Q&255,oe[z+1]=Q>>8&255,oe[z+2]=Q>>16&255,oe[z+3]=Q>>24&255;ee%T===0&&H(G)}return J&&(z=ee<<2,Q=G[Y],oe[z]=Q&255,J>1&&(oe[z+1]=Q>>8&255),J>2&&(oe[z+2]=Q>>16&255)),oe};function L(T,G,B){A.call(this,T,G,B)}L.prototype=new A,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),A.prototype.finalize.call(this)};var H=function(T){var G,B,J,Y,ee,oe,z,Q,W,Z,fe,ae,ye,Ee,V,K,se,ce,me,be,te,ue,$e,je,Je,zr,ot,Dt,ua,ht,bt,bc,nr,Er,kf,Ar,xr,Mf,Cr,Nr,Uf,Sr,Ir,$f,Tr,Rr,Lf,Pr,Or,Ff,Dr,kr,Bf,Mr,Ur,jf,$r,Lr,uu,fu,du,hu,pu;for(J=0;J<48;J+=2)Y=T[0]^T[10]^T[20]^T[30]^T[40],ee=T[1]^T[11]^T[21]^T[31]^T[41],oe=T[2]^T[12]^T[22]^T[32]^T[42],z=T[3]^T[13]^T[23]^T[33]^T[43],Q=T[4]^T[14]^T[24]^T[34]^T[44],W=T[5]^T[15]^T[25]^T[35]^T[45],Z=T[6]^T[16]^T[26]^T[36]^T[46],fe=T[7]^T[17]^T[27]^T[37]^T[47],ae=T[8]^T[18]^T[28]^T[38]^T[48],ye=T[9]^T[19]^T[29]^T[39]^T[49],G=ae^(oe<<1|z>>>31),B=ye^(z<<1|oe>>>31),T[0]^=G,T[1]^=B,T[10]^=G,T[11]^=B,T[20]^=G,T[21]^=B,T[30]^=G,T[31]^=B,T[40]^=G,T[41]^=B,G=Y^(Q<<1|W>>>31),B=ee^(W<<1|Q>>>31),T[2]^=G,T[3]^=B,T[12]^=G,T[13]^=B,T[22]^=G,T[23]^=B,T[32]^=G,T[33]^=B,T[42]^=G,T[43]^=B,G=oe^(Z<<1|fe>>>31),B=z^(fe<<1|Z>>>31),T[4]^=G,T[5]^=B,T[14]^=G,T[15]^=B,T[24]^=G,T[25]^=B,T[34]^=G,T[35]^=B,T[44]^=G,T[45]^=B,G=Q^(ae<<1|ye>>>31),B=W^(ye<<1|ae>>>31),T[6]^=G,T[7]^=B,T[16]^=G,T[17]^=B,T[26]^=G,T[27]^=B,T[36]^=G,T[37]^=B,T[46]^=G,T[47]^=B,G=Z^(Y<<1|ee>>>31),B=fe^(ee<<1|Y>>>31),T[8]^=G,T[9]^=B,T[18]^=G,T[19]^=B,T[28]^=G,T[29]^=B,T[38]^=G,T[39]^=B,T[48]^=G,T[49]^=B,Ee=T[0],V=T[1],Rr=T[11]<<4|T[10]>>>28,Lf=T[10]<<4|T[11]>>>28,Dt=T[20]<<3|T[21]>>>29,ua=T[21]<<3|T[20]>>>29,fu=T[31]<<9|T[30]>>>23,du=T[30]<<9|T[31]>>>23,Sr=T[40]<<18|T[41]>>>14,Ir=T[41]<<18|T[40]>>>14,Er=T[2]<<1|T[3]>>>31,kf=T[3]<<1|T[2]>>>31,K=T[13]<<12|T[12]>>>20,se=T[12]<<12|T[13]>>>20,Pr=T[22]<<10|T[23]>>>22,Or=T[23]<<10|T[22]>>>22,ht=T[33]<<13|T[32]>>>19,bt=T[32]<<13|T[33]>>>19,hu=T[42]<<2|T[43]>>>30,pu=T[43]<<2|T[42]>>>30,Mr=T[5]<<30|T[4]>>>2,Ur=T[4]<<30|T[5]>>>2,Ar=T[14]<<6|T[15]>>>26,xr=T[15]<<6|T[14]>>>26,ce=T[25]<<11|T[24]>>>21,me=T[24]<<11|T[25]>>>21,Ff=T[34]<<15|T[35]>>>17,Dr=T[35]<<15|T[34]>>>17,bc=T[45]<<29|T[44]>>>3,nr=T[44]<<29|T[45]>>>3,je=T[6]<<28|T[7]>>>4,Je=T[7]<<28|T[6]>>>4,jf=T[17]<<23|T[16]>>>9,$r=T[16]<<23|T[17]>>>9,Mf=T[26]<<25|T[27]>>>7,Cr=T[27]<<25|T[26]>>>7,be=T[36]<<21|T[37]>>>11,te=T[37]<<21|T[36]>>>11,kr=T[47]<<24|T[46]>>>8,Bf=T[46]<<24|T[47]>>>8,$f=T[8]<<27|T[9]>>>5,Tr=T[9]<<27|T[8]>>>5,zr=T[18]<<20|T[19]>>>12,ot=T[19]<<20|T[18]>>>12,Lr=T[29]<<7|T[28]>>>25,uu=T[28]<<7|T[29]>>>25,Nr=T[38]<<8|T[39]>>>24,Uf=T[39]<<8|T[38]>>>24,ue=T[48]<<14|T[49]>>>18,$e=T[49]<<14|T[48]>>>18,T[0]=Ee^~K&ce,T[1]=V^~se&me,T[10]=je^~zr&Dt,T[11]=Je^~ot&ua,T[20]=Er^~Ar&Mf,T[21]=kf^~xr&Cr,T[30]=$f^~Rr&Pr,T[31]=Tr^~Lf&Or,T[40]=Mr^~jf&Lr,T[41]=Ur^~$r&uu,T[2]=K^~ce&be,T[3]=se^~me&te,T[12]=zr^~Dt&ht,T[13]=ot^~ua&bt,T[22]=Ar^~Mf&Nr,T[23]=xr^~Cr&Uf,T[32]=Rr^~Pr&Ff,T[33]=Lf^~Or&Dr,T[42]=jf^~Lr&fu,T[43]=$r^~uu&du,T[4]=ce^~be&ue,T[5]=me^~te&$e,T[14]=Dt^~ht&bc,T[15]=ua^~bt&nr,T[24]=Mf^~Nr&Sr,T[25]=Cr^~Uf&Ir,T[34]=Pr^~Ff&kr,T[35]=Or^~Dr&Bf,T[44]=Lr^~fu&hu,T[45]=uu^~du&pu,T[6]=be^~ue&Ee,T[7]=te^~$e&V,T[16]=ht^~bc&je,T[17]=bt^~nr&Je,T[26]=Nr^~Sr&Er,T[27]=Uf^~Ir&kf,T[36]=Ff^~kr&$f,T[37]=Dr^~Bf&Tr,T[46]=fu^~hu&Mr,T[47]=du^~pu&Ur,T[8]=ue^~Ee&K,T[9]=$e^~V&se,T[18]=bc^~je&zr,T[19]=nr^~Je&ot,T[28]=Sr^~Er&Ar,T[29]=Ir^~kf&xr,T[38]=kr^~$f&Rr,T[39]=Bf^~Tr&Lf,T[48]=hu^~Mr&jf,T[49]=pu^~Ur&$r,T[0]^=g[J],T[1]^=g[J+1]};if(a)t.exports=p;else for(_=0;_<b.length;++_)i[b[_]]=p[b[_]]})()})(FA)),FA.exports}var upe=lpe();const up=Yi(upe);function Vt(t){return"0x"+up.keccak_256(he(t))}const fpe="rlp/5.8.0",Oc=new ie(fpe);function j5(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function H5(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function $L(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat($L(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=j5(n.length);return i.unshift(247+i.length),i.concat(n)}Ev(t)||Oc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(he(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=j5(e.length);return r.unshift(183+r.length),r.concat(e)}function G0(t){return _e($L(t))}function q5(t,e,r,n){const i=[];for(;r<e+1+n;){const s=LL(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Oc.throwError("child data too short",ie.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function LL(t,e){if(t.length===0&&Oc.throwError("data too short",ie.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Oc.throwError("data short segment too short",ie.errors.BUFFER_OVERRUN,{});const n=H5(t,e+1,r);return e+1+r+n>t.length&&Oc.throwError("data long segment too short",ie.errors.BUFFER_OVERRUN,{}),q5(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Oc.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{}),q5(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Oc.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const n=H5(t,e+1,r);e+1+r+n>t.length&&Oc.throwError("data array too short",ie.errors.BUFFER_OVERRUN,{});const i=_e(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Oc.throwError("data too short",ie.errors.BUFFER_OVERRUN,{});const n=_e(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:_e(t[e])}}function SI(t){const e=he(t),r=LL(e,0);return r.consumed!==e.length&&Oc.throwArgumentError("invalid rlp data","data",t),r.result}const dpe="address/5.8.0",h0=new ie(dpe);function W5(t){yt(t,20)||h0.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=he(Vt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const hpe=9007199254740991;function ppe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const II={};for(let t=0;t<10;t++)II[String(t)]=String(t);for(let t=0;t<26;t++)II[String.fromCharCode(65+t)]=String(10+t);const z5=Math.floor(ppe(hpe));function gpe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>II[n]).join("");for(;e.length>=z5;){let n=e.substring(0,z5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Zt(t){let e=null;if(typeof t!="string"&&h0.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=W5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&h0.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==gpe(t)&&h0.throwArgumentError("bad icap checksum","address",t),e=Y0e(t.substring(4));e.length<40;)e="0"+e;e=W5("0x"+e)}else h0.throwArgumentError("invalid address","address",t);return e}function FL(t){let e=null;try{e=Zt(t.from)}catch{h0.throwArgumentError("missing from address","transaction",t)}const r=Kl(he(Ce.from(t.nonce).toHexString()));return Zt(wn(Vt(G0([e,r])),12))}let mpe=class extends au{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Zt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Zt(cr(e.readValue().toHexString(),20))}},ype=class extends au{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const p0=new ie(Gy);function BL(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||p0.throwError("cannot encode object for signature with missing names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&p0.throwError("cannot encode object for signature with duplicate names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else p0.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&p0.throwArgumentError("types/value length mismatch","tuple",r);let i=new cN(t.wordSize),s=new cN(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function jL(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===ie.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===ie.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let bpe=class extends au{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),p0.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return BL(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&p0.throwError("insufficient data length",ie.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new ype(this.coder));return e.coerce(this.name,jL(e,n))}},_pe=class extends au{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},HL=class extends au{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=he(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},wpe=class extends HL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,_e(super.decode(e)))}},vpe=class extends au{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=he(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,_e(e.readBytes(this.size)))}},Epe=class extends au{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Ape="0x0000000000000000000000000000000000000000",qL=Ce.from(-1),TI=Ce.from(0),WL=Ce.from(1),lw=Ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),xpe="0x0000000000000000000000000000000000000000000000000000000000000000";let Cpe=class extends au{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ce.from(r),i=lw.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(WL).mul(qL)))&&this._throwError("value out-of-bounds",r)}else(n.lt(TI)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const Npe="strings/5.8.0",zL=new ie(Npe);var iu;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(iu||(iu={}));var Js;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Js||(Js={}));function Spe(t,e,r,n,i){return zL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function GL(t,e,r,n,i){if(t===Js.BAD_PREFIX||t===Js.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Js.OVERRUN?r.length-e-1:0}function Ipe(t,e,r,n,i){return t===Js.OVERLONG?(n.push(i),0):(n.push(65533),GL(t,e,r))}const Tpe=Object.freeze({error:Spe,ignore:GL,replace:Ipe});function VL(t,e){e==null&&(e=Tpe.error),t=he(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Js.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Js.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Js.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Js.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Js.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Js.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Js.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function sn(t,e=iu.current){e!=iu.current&&(zL.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return he(r)}function Rpe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function fp(t,e){return Rpe(VL(t,e))}function Ppe(t,e=iu.current){return VL(sn(t,e))}let Ope=class extends HL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,sn(r))}decode(e){return fp(super.decode(e))}},Bb=class extends au{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return BL(e,this.coders,r)}decode(e){return e.coerce(this.name,jL(e,this.coders))}};const jb=new ie(Gy),Dpe=new RegExp(/^bytes([0-9]*)$/),kpe=new RegExp(/^(u?int)([0-9]*)$/);let Mpe=class{constructor(e){de(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new mpe(e.name);case"bool":return new _pe(e.name);case"string":return new Ope(e.name);case"bytes":return new wpe(e.name);case"array":return new bpe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Bb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Epe(e.name)}let r=e.type.match(kpe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&jb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Cpe(n/8,r[1]==="int",e.name)}if(r=e.type.match(Dpe),r){let n=parseInt(r[1]);return(n===0||n>32)&&jb.throwArgumentError("invalid bytes length","param",e),new vpe(n,e.name)}return jb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new cpe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new cN(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Yc.from(i)));return new Bb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&jb.throwError("types/values length mismatch",ie.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Yc.from(o))),i=new Bb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Yc.from(o)));return new Bb(i,"_").decode(this._getReader(he(r),n))}};const Upe=new Mpe;function Za(t){return Vt(sn(t))}const KL="hash/5.8.0";function JL(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return he(e)}function YL(t){t=he(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function XL(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function $pe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Lpe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let y=0;for(let D=0;D<f;D++)y=y<<1|u();let w=[],x=0,S=d;for(;;){let D=Math.floor(((y-x+1)*i-1)/S),P=0,F=n;for(;F-P>1;){let M=P+F>>>1;D<s[M]?F=M:P=M}if(P==0)break;w.push(P);let E=x+Math.floor(S*s[P]/i),v=x+Math.floor(S*s[P+1]/i)-1;for(;((E^v)&h)==0;)y=y<<1&g|u(),E=E<<1&g,v=v<<1&g|1;for(;E&~v&m;)y=y&h|y<<1&g>>>1|u(),E=E<<1^h,v=(v^h)<<1|h|1;x=E,S=1+v-E}let R=n-4;return w.map(D=>{switch(D-R){case 3:return R+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return R+256+(t[a++]<<8|t[a++]);case 1:return R+t[a++];default:return D-1}})}function Fpe(t){let e=0;return()=>t[e++]}function Bpe(t){return Fpe(Lpe(t))}function jpe(t){return t&1?~t>>1:t>>1}function Hpe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function G5(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function qpe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=jpe(e());return r}function uw(t,e){let r=G5(t(),t),n=t(),i=G5(n,t),s=Hpe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function Wpe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Gpe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Vpe(r,t))}return $pe(XL(e))}function zpe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function QL(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)qpe(t,r).forEach((s,o)=>n[o].push(s));return n}function Gpe(t,e){let r=1+e(),n=e(),i=zpe(e),s=QL(i.length,1+t,e);return XL(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function Vpe(t,e){let r=1+e();return QL(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Kpe(t){let e=uw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=uw(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function Jpe(){return Bpe(JL("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const xv=Jpe(),Ype=new Set(uw(xv)),Xpe=new Set(uw(xv)),Qpe=Wpe(xv),Zpe=Kpe(xv),V5=45,K5=95;function ZL(t){return Ppe(t)}function ege(t){return t.filter(e=>e!=65039)}function eF(t){for(let e of t.split(".")){let r=ZL(e);try{for(let n=r.lastIndexOf(K5)-1;n>=0;n--)if(r[n]!==K5)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===V5&&r[3]===V5)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function tge(t){return eF(rge(t,ege))}function rge(t,e){let r=ZL(t).reverse(),n=[];for(;r.length;){let i=ige(r);if(i){n.push(...e(i));continue}let s=r.pop();if(Ype.has(s)){n.push(s);continue}if(Xpe.has(s))continue;let o=Qpe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return eF(nge(String.fromCodePoint(...n)))}function nge(t){return t.normalize("NFC")}function ige(t,e){var r;let n=Zpe,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const sge=new ie(KL),tF=new Uint8Array(32);tF.fill(0);function J5(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function rF(t){const e=sn(tge(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(J5(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(J5(e.slice(n))),r}function I1(t){typeof t!="string"&&sge.throwArgumentError("invalid ENS name; not a string","name",t);let e=tF;const r=rF(t);for(;r.length;)e=Vt(Kt([e,Vt(r.pop())]));return _e(e)}function oge(t){return _e(Kt(rF(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const age=`Ethereum Signed Message:
`;function nF(t){return typeof t=="string"&&(t=sn(t)),Vt(Kt([sn(age),sn(String(t.length)),t]))}var cge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Jr=new ie(KL),iF=new Uint8Array(32);iF.fill(0);const lge=Ce.from(-1),sF=Ce.from(0),oF=Ce.from(1),uge=Ce.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function fge(t){const e=he(t),r=e.length%32;return r?as([e,iF.slice(r)]):_e(e)}const dge=cr(oF.toHexString(),32),hge=cr(sF.toHexString(),32),Y5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},BA=["name","version","chainId","verifyingContract","salt"];function X5(t){return function(e){return typeof e!="string"&&Jr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const pge={name:X5("name"),version:X5("version"),chainId:function(t){try{return Ce.from(t).toString()}catch{}return Jr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Zt(t).toLowerCase()}catch{}return Jr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=he(t);if(e.length!==32)throw new Error("bad length");return _e(e)}catch{}return Jr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function jA(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Jr.throwArgumentError("invalid numeric width","type",t);const i=uge.mask(r?n-1:n),s=r?i.add(oF).mul(lge):sF;return function(o){const a=Ce.from(o);return(a.lt(s)||a.gt(i))&&Jr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),cr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Jr.throwArgumentError("invalid bytes width","type",t),function(n){return he(n).length!==r&&Jr.throwArgumentError(`invalid length for ${t}`,"value",n),fge(n)}}}switch(t){case"address":return function(e){return cr(Zt(e),32)};case"bool":return function(e){return e?dge:hge};case"bytes":return function(e){return Vt(e)};case"string":return function(e){return Za(e)}}return null}function Q5(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let ty=class _a{constructor(e){de(this,"types",Object.freeze(nu(e))),de(this,"_encoderCache",{}),de(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Jr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Jr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!jA(u)&&(n[u]||Jr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Jr.throwArgumentError("missing primary type","types",e):s.length>1&&Jr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),de(this,"primaryType",s[0]);function o(a,c){c[a]&&Jr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Q5(a,e[a])+c.map(l=>Q5(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=jA(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Jr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Vt)),Vt(as(c))}}const n=this.types[e];if(n){const i=Za(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Vt(l):l});return o.unshift(i),as(o)}}return Jr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Jr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Vt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(jA(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Jr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Jr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new _a(e)}static getPrimaryType(e){return _a.from(e).primaryType}static hashStruct(e,r,n){return _a.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Y5[n];i||Jr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>BA.indexOf(n.name)-BA.indexOf(i.name)),_a.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return as(["0x1901",_a.hashDomain(e),_a.from(r).hash(n)])}static hash(e,r,n){return Vt(_a.encode(e,r,n))}static resolveNames(e,r,n,i){return cge(this,void 0,void 0,function*(){e=Kn(e);const s={};e.verifyingContract&&!yt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=_a.from(r);o.visit(n,(a,c)=>(a==="address"&&!yt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){_a.hashDomain(e);const i={},s=[];BA.forEach(c=>{const l=e[c];l!=null&&(i[c]=pge[c](l),s.push({name:c,type:Y5[c]}))});const o=_a.from(r),a=Kn(r);return a.EIP712Domain?Jr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return _e(he(l));if(c.match(/^u?int/))return Ce.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Jr.throwArgumentError("invalid string","value",l),l}return Jr.throwArgumentError("unsupported type","type",c)})}}};const Gr=new ie(Gy);let gge=class extends co{},mge=class extends co{},yge=class extends co{},uN=class extends co{static isIndexed(e){return!!(e&&e._isIndexed)}};const bge={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Z5(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let eO=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,de(this,"fragments",r.map(n=>Av.from(n)).filter(n=>n!=null)),de(this,"_abiCoder",Us(new.target,"getAbiCoder")()),de(this,"functions",{}),de(this,"errors",{}),de(this,"events",{}),de(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Gr.warn("duplicate definition - constructor");return}de(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Gr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||de(this,"deploy",aw.from({payable:!1,type:"constructor"})),de(this,"_isInterface",!0)}format(e){e||(e=qt.full),e===qt.sighash&&Gr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===qt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Upe}static getAddress(e){return Zt(e)}static getSighash(e){return wn(Za(e.format()),0,4)}static getEventTopic(e){return Za(e.format())}getFunction(e){if(yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Gr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Gr.throwArgumentError("no matching function","name",n):i.length>1&&Gr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[cw.fromString(e).format()];return r||Gr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Gr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Gr.throwArgumentError("no matching event","name",n):i.length>1&&Gr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[aN.fromString(e).format()];return r||Gr.throwArgumentError("no matching event","signature",e),r}getError(e){if(yt(e)){const n=Us(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Gr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Gr.throwArgumentError("no matching error","name",n):i.length>1&&Gr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[cw.fromString(e).format()];return r||Gr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Us(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Us(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=he(r);return _e(n.slice(0,4))!==this.getSighash(e)&&Gr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",_e(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),_e(Kt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=he(r);return _e(n.slice(0,4))!==this.getSighash(e)&&Gr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",_e(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_e(Kt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=he(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=_e(n.slice(0,4)),u=bge[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Gr.throwError("call revert exception"+s,ie.errors.CALL_EXCEPTION,{method:e.format(),data:_e(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_e(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Gr.throwError("too many arguments for "+e.format(),ie.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Za(o):s.type==="bytes"?Vt(_e(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Ce.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),cr(_e(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Gr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Gr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Gr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Za(c));else if(o.type==="bytes")n.push(Vt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!yt(n[0],32)||n[0].toLowerCase()!==d)&&Gr.throwError("fragment/topic mismatch",ie.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Yc.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Kt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new uN({_isIndexed:!0,hash:null});else if(o[h])l[h]=new uN({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw Z5(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw Z5(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new mge({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ce.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new gge({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=_e(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new yge({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const _ge="abstract-provider/5.8.0";var wge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const vge=new ie(_ge);class Ege extends co{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Vy{constructor(){vge.checkAbstract(new.target,Vy),de(this,"_isProvider",!0)}getFeeData(){return wge(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield ln({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Ce.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Age="abstract-signer/5.8.0";var pa=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const No=new ie(Age),xge=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Cge=[ie.errors.INSUFFICIENT_FUNDS,ie.errors.NONCE_EXPIRED,ie.errors.REPLACEMENT_UNDERPRICED];class dp{constructor(){No.checkAbstract(new.target,dp),de(this,"_isSigner",!0)}getBalance(e){return pa(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return pa(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return pa(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield ln(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return pa(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield ln(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return pa(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return pa(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return pa(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return pa(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return pa(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)xge.indexOf(n)===-1&&No.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Kn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&No.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return pa(this,void 0,void 0,function*(){const r=yield ln(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>pa(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&No.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?No.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&No.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&No.throwError("network does not support EIP-1559",ie.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):No.throwError("failed to get consistent fee data",ie.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Cge.indexOf(i.code)>=0)throw i;return No.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&No.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield ln(r)})}_checkProvider(e){this.provider||No.throwError("missing provider",ie.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class RI extends dp{constructor(e,r){super(),de(this,"address",e),de(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{No.throwError(e,ie.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new RI(this.address,e)}}var HA={},sr={},qA,tO;function Ky(){if(tO)return qA;tO=1,qA=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},qA}var Hb={exports:{}},rO;function Nge(){return rO||(rO=1,typeof Object.create=="function"?Hb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Hb.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Hb.exports}var nO;function il(){if(nO)return sr;nO=1;var t=Ky(),e=Nge();sr.inherits=e;function r(I,C){return(I.charCodeAt(C)&64512)!==55296||C<0||C+1>=I.length?!1:(I.charCodeAt(C+1)&64512)===56320}function n(I,C){if(Array.isArray(I))return I.slice();if(!I)return[];var p=[];if(typeof I=="string")if(C){if(C==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),_=0;_<I.length;_+=2)p.push(parseInt(I[_]+I[_+1],16))}else for(var b=0,_=0;_<I.length;_++){var N=I.charCodeAt(_);N<128?p[b++]=N:N<2048?(p[b++]=N>>6|192,p[b++]=N&63|128):r(I,_)?(N=65536+((N&1023)<<10)+(I.charCodeAt(++_)&1023),p[b++]=N>>18|240,p[b++]=N>>12&63|128,p[b++]=N>>6&63|128,p[b++]=N&63|128):(p[b++]=N>>12|224,p[b++]=N>>6&63|128,p[b++]=N&63|128)}else for(_=0;_<I.length;_++)p[_]=I[_]|0;return p}sr.toArray=n;function i(I){for(var C="",p=0;p<I.length;p++)C+=a(I[p].toString(16));return C}sr.toHex=i;function s(I){var C=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return C>>>0}sr.htonl=s;function o(I,C){for(var p="",b=0;b<I.length;b++){var _=I[b];C==="little"&&(_=s(_)),p+=c(_.toString(16))}return p}sr.toHex32=o;function a(I){return I.length===1?"0"+I:I}sr.zero2=a;function c(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}sr.zero8=c;function l(I,C,p,b){var _=p-C;t(_%4===0);for(var N=new Array(_/4),O=0,$=C;O<N.length;O++,$+=4){var j;b==="big"?j=I[$]<<24|I[$+1]<<16|I[$+2]<<8|I[$+3]:j=I[$+3]<<24|I[$+2]<<16|I[$+1]<<8|I[$],N[O]=j>>>0}return N}sr.join32=l;function u(I,C){for(var p=new Array(I.length*4),b=0,_=0;b<I.length;b++,_+=4){var N=I[b];C==="big"?(p[_]=N>>>24,p[_+1]=N>>>16&255,p[_+2]=N>>>8&255,p[_+3]=N&255):(p[_+3]=N>>>24,p[_+2]=N>>>16&255,p[_+1]=N>>>8&255,p[_]=N&255)}return p}sr.split32=u;function f(I,C){return I>>>C|I<<32-C}sr.rotr32=f;function d(I,C){return I<<C|I>>>32-C}sr.rotl32=d;function h(I,C){return I+C>>>0}sr.sum32=h;function m(I,C,p){return I+C+p>>>0}sr.sum32_3=m;function g(I,C,p,b){return I+C+p+b>>>0}sr.sum32_4=g;function y(I,C,p,b,_){return I+C+p+b+_>>>0}sr.sum32_5=y;function w(I,C,p,b){var _=I[C],N=I[C+1],O=b+N>>>0,$=(O<b?1:0)+p+_;I[C]=$>>>0,I[C+1]=O}sr.sum64=w;function x(I,C,p,b){var _=C+b>>>0,N=(_<C?1:0)+I+p;return N>>>0}sr.sum64_hi=x;function S(I,C,p,b){var _=C+b;return _>>>0}sr.sum64_lo=S;function R(I,C,p,b,_,N,O,$){var j=0,k=C;k=k+b>>>0,j+=k<C?1:0,k=k+N>>>0,j+=k<N?1:0,k=k+$>>>0,j+=k<$?1:0;var A=I+p+_+O+j;return A>>>0}sr.sum64_4_hi=R;function D(I,C,p,b,_,N,O,$){var j=C+b+N+$;return j>>>0}sr.sum64_4_lo=D;function P(I,C,p,b,_,N,O,$,j,k){var A=0,L=C;L=L+b>>>0,A+=L<C?1:0,L=L+N>>>0,A+=L<N?1:0,L=L+$>>>0,A+=L<$?1:0,L=L+k>>>0,A+=L<k?1:0;var H=I+p+_+O+j+A;return H>>>0}sr.sum64_5_hi=P;function F(I,C,p,b,_,N,O,$,j,k){var A=C+b+N+$+k;return A>>>0}sr.sum64_5_lo=F;function E(I,C,p){var b=C<<32-p|I>>>p;return b>>>0}sr.rotr64_hi=E;function v(I,C,p){var b=I<<32-p|C>>>p;return b>>>0}sr.rotr64_lo=v;function M(I,C,p){return I>>>p}sr.shr64_hi=M;function U(I,C,p){var b=I<<32-p|C>>>p;return b>>>0}return sr.shr64_lo=U,sr}var WA={},iO;function Jy(){if(iO)return WA;iO=1;var t=il(),e=Ky();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return WA.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},WA}var Qf={},Cc={},sO;function aF(){if(sO)return Cc;sO=1;var t=il(),e=t.rotr32;function r(u,f,d,h){if(u===0)return n(f,d,h);if(u===1||u===3)return s(f,d,h);if(u===2)return i(f,d,h)}Cc.ft_1=r;function n(u,f,d){return u&f^~u&d}Cc.ch32=n;function i(u,f,d){return u&f^u&d^f&d}Cc.maj32=i;function s(u,f,d){return u^f^d}Cc.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}Cc.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}Cc.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}Cc.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return Cc.g1_256=l,Cc}var zA,oO;function Sge(){if(oO)return zA;oO=1;var t=il(),e=Jy(),r=aF(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),zA=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,d){for(var h=this.W,m=0;m<16;m++)h[m]=f[d+m];for(;m<h.length;m++)h[m]=n(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);var g=this.h[0],y=this.h[1],w=this.h[2],x=this.h[3],S=this.h[4];for(m=0;m<h.length;m++){var R=~~(m/20),D=s(n(g,5),o(R,y,w,x),S,h[m],c[R]);S=x,x=w,w=n(y,30),y=g,g=D}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],y),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],x),this.h[4]=i(this.h[4],S)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},zA}var GA,aO;function cF(){if(aO)return GA;aO=1;var t=il(),e=Jy(),r=aF(),n=Ky(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(g,h),GA=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(w,x){for(var S=this.W,R=0;R<16;R++)S[R]=w[x+R];for(;R<S.length;R++)S[R]=s(d(S[R-2]),S[R-7],f(S[R-15]),S[R-16]);var D=this.h[0],P=this.h[1],F=this.h[2],E=this.h[3],v=this.h[4],M=this.h[5],U=this.h[6],I=this.h[7];for(n(this.k.length===S.length),R=0;R<S.length;R++){var C=o(I,u(v),a(v,M,U),this.k[R],S[R]),p=i(l(D),c(D,P,F));I=U,U=M,M=v,v=i(E,C),E=F,F=P,P=D,D=i(C,p)}this.h[0]=i(this.h[0],D),this.h[1]=i(this.h[1],P),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],E),this.h[4]=i(this.h[4],v),this.h[5]=i(this.h[5],M),this.h[6]=i(this.h[6],U),this.h[7]=i(this.h[7],I)},g.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},GA}var VA,cO;function Ige(){if(cO)return VA;cO=1;var t=il(),e=cF();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),VA=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},VA}var KA,lO;function lF(){if(lO)return KA;lO=1;var t=il(),e=Jy(),r=Ky(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,m=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(y,m),KA=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(p,b){for(var _=this.W,N=0;N<32;N++)_[N]=p[b+N];for(;N<_.length;N+=2){var O=U(_[N-4],_[N-3]),$=I(_[N-4],_[N-3]),j=_[N-14],k=_[N-13],A=v(_[N-30],_[N-29]),L=M(_[N-30],_[N-29]),H=_[N-32],T=_[N-31];_[N]=u(O,$,j,k,A,L,H,T),_[N+1]=f(O,$,j,k,A,L,H,T)}},y.prototype._update=function(p,b){this._prepareBlock(p,b);var _=this.W,N=this.h[0],O=this.h[1],$=this.h[2],j=this.h[3],k=this.h[4],A=this.h[5],L=this.h[6],H=this.h[7],T=this.h[8],G=this.h[9],B=this.h[10],J=this.h[11],Y=this.h[12],ee=this.h[13],oe=this.h[14],z=this.h[15];r(this.k.length===_.length);for(var Q=0;Q<_.length;Q+=2){var W=oe,Z=z,fe=F(T,G),ae=E(T,G),ye=w(T,G,B,J,Y),Ee=x(T,G,B,J,Y,ee),V=this.k[Q],K=this.k[Q+1],se=_[Q],ce=_[Q+1],me=d(W,Z,fe,ae,ye,Ee,V,K,se,ce),be=h(W,Z,fe,ae,ye,Ee,V,K,se,ce);W=D(N,O),Z=P(N,O),fe=S(N,O,$,j,k),ae=R(N,O,$,j,k,A);var te=c(W,Z,fe,ae),ue=l(W,Z,fe,ae);oe=Y,z=ee,Y=B,ee=J,B=T,J=G,T=c(L,H,me,be),G=l(H,H,me,be),L=k,H=A,k=$,A=j,$=N,j=O,N=c(me,be,te,ue),O=l(me,be,te,ue)}a(this.h,0,N,O),a(this.h,2,$,j),a(this.h,4,k,A),a(this.h,6,L,H),a(this.h,8,T,G),a(this.h,10,B,J),a(this.h,12,Y,ee),a(this.h,14,oe,z)},y.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(C,p,b,_,N){var O=C&b^~C&N;return O<0&&(O+=4294967296),O}function x(C,p,b,_,N,O){var $=p&_^~p&O;return $<0&&($+=4294967296),$}function S(C,p,b,_,N){var O=C&b^C&N^b&N;return O<0&&(O+=4294967296),O}function R(C,p,b,_,N,O){var $=p&_^p&O^_&O;return $<0&&($+=4294967296),$}function D(C,p){var b=n(C,p,28),_=n(p,C,2),N=n(p,C,7),O=b^_^N;return O<0&&(O+=4294967296),O}function P(C,p){var b=i(C,p,28),_=i(p,C,2),N=i(p,C,7),O=b^_^N;return O<0&&(O+=4294967296),O}function F(C,p){var b=n(C,p,14),_=n(C,p,18),N=n(p,C,9),O=b^_^N;return O<0&&(O+=4294967296),O}function E(C,p){var b=i(C,p,14),_=i(C,p,18),N=i(p,C,9),O=b^_^N;return O<0&&(O+=4294967296),O}function v(C,p){var b=n(C,p,1),_=n(C,p,8),N=s(C,p,7),O=b^_^N;return O<0&&(O+=4294967296),O}function M(C,p){var b=i(C,p,1),_=i(C,p,8),N=o(C,p,7),O=b^_^N;return O<0&&(O+=4294967296),O}function U(C,p){var b=n(C,p,19),_=n(p,C,29),N=s(C,p,6),O=b^_^N;return O<0&&(O+=4294967296),O}function I(C,p){var b=i(C,p,19),_=i(p,C,29),N=o(C,p,6),O=b^_^N;return O<0&&(O+=4294967296),O}return KA}var JA,uO;function Tge(){if(uO)return JA;uO=1;var t=il(),e=lF();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),JA=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},JA}var fO;function Rge(){return fO||(fO=1,Qf.sha1=Sge(),Qf.sha224=Ige(),Qf.sha256=cF(),Qf.sha384=Tge(),Qf.sha512=lF()),Qf}var YA={},dO;function Pge(){if(dO)return YA;dO=1;var t=il(),e=Jy(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),YA.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(y,w){for(var x=this.h[0],S=this.h[1],R=this.h[2],D=this.h[3],P=this.h[4],F=x,E=S,v=R,M=D,U=P,I=0;I<80;I++){var C=n(r(s(x,c(I,S,R,D),y[f[I]+w],l(I)),h[I]),P);x=P,P=D,D=r(R,10),R=S,S=C,C=n(r(s(F,c(79-I,E,v,M),y[d[I]+w],u(I)),m[I]),U),F=U,U=M,M=r(v,10),v=E,E=C}C=i(this.h[1],R,M),this.h[1]=i(this.h[2],D,U),this.h[2]=i(this.h[3],P,F),this.h[3]=i(this.h[4],x,E),this.h[4]=i(this.h[0],S,v),this.h[0]=C},a.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(g,y,w,x){return g<=15?y^w^x:g<=31?y&w|~y&x:g<=47?(y|~w)^x:g<=63?y&x|w&~x:y^(w|~x)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return YA}var XA,hO;function Oge(){if(hO)return XA;hO=1;var t=il(),e=Ky();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return XA=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},XA}var pO;function Dge(){return pO||(pO=1,(function(t){var e=t;e.utils=il(),e.common=Jy(),e.sha=Rge(),e.ripemd=Pge(),e.hmac=Oge(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(HA)),HA}var kge=Dge();const Ze=Yi(kge);function hp(t,e,r){return r={path:e,exports:{},require:function(n,i){return Mge(n,i??r.path)}},t(r,r.exports),r.exports}function Mge(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var PI=uF;function uF(t,e){if(!t)throw new Error(e||"Assertion failed")}uF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ec=hp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),lo=hp(function(t,e){var r=e;r.assert=PI,r.toArray=ec.toArray,r.zero2=ec.zero2,r.toHex=ec.toHex,r.encode=ec.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,y=m.andln(h-1);m.isOdd()?(y>(h>>1)-1?g=(h>>1)-y:g=y,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var y;(m&1)===0?y=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?y=-m:y=m),u[0].push(y);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===y+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new re(c,"hex","le")}r.intFromLE=a}),fw=lo.getNAF,Uge=lo.getJSF,dw=lo.assert;function Nf(t,e){this.type=t,this.p=new re(e.p,16),this.red=e.prime?re.red(e.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=e.n&&new re(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ah=Nf;Nf.prototype.point=function(){throw new Error("Not implemented")};Nf.prototype.validate=function(){throw new Error("Not implemented")};Nf.prototype._fixedNafMul=function(e,r){dw(e.precomputed);var n=e._getDoubles(),i=fw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Nf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=fw(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];dw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Nf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=fw(n[m],o[m],this._bitLength),c[g]=fw(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var y=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(y[1]=r[m].add(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].add(r[g].neg())):(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=Uge(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,R=x[1][f]|0;c[m][f]=w[(S+1)*3+(R+1)],c[g][f]=0,a[m]=y}}var D=this.jpoint(null,null,null),P=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var E=!0;for(f=0;f<i;f++)P[f]=c[f][u]|0,P[f]!==0&&(E=!1);if(!E)break;F++,u--}if(u>=0&&F++,D=D.dblp(F),u<0)break;for(f=0;f<i;f++){var v=P[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?D=D.mixedAdd(d):D=D.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?D:D.toP()};function ta(t,e){this.curve=t,this.type=e,this.precomputed=null}Nf.BasePoint=ta;ta.prototype.eq=function(){throw new Error("Not implemented")};ta.prototype.validate=function(){return this.curve.validate(this)};Nf.prototype.decodePoint=function(e,r){e=lo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?dw(e[e.length-1]%2===0):e[0]===7&&dw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ta.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ta.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ta.prototype.encode=function(e,r){return lo.encode(this._encode(r),e)};ta.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ta.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ta.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};ta.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};ta.prototype._getBeta=function(){return null};ta.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var OI=hp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),$ge=lo.assert;function ra(t){ah.call(this,"short",t),this.a=new re(t.a,16).toRed(this.red),this.b=new re(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}OI(ra,ah);var Lge=ra;ra.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new re(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],$ge(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new re(a.a,16),b:new re(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ra.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:re.mont(e),n=new re(2).toRed(r).redInvm(),i=n.redNeg(),s=new re(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ra.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new re(1),o=new re(0),a=new re(0),c=new re(1),l,u,f,d,h,m,g,y=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var R=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++y===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=R}h=w.neg(),m=x;var D=f.sqr().add(d.sqr()),P=h.sqr().add(m.sqr());return P.cmp(D)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};ra.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};ra.prototype.pointFromX=function(e,r){e=new re(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ra.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ra.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function si(t,e,r,n){ah.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(e,16),this.y=new re(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}OI(si,ah.BasePoint);ra.prototype.point=function(e,r,n){return new si(this,e,r,n)};ra.prototype.pointFromJSON=function(e,r){return si.fromJSON(this,e,r)};si.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};si.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};si.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};si.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};si.prototype.isInfinity=function(){return this.inf};si.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};si.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};si.prototype.getX=function(){return this.x.fromRed()};si.prototype.getY=function(){return this.y.fromRed()};si.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};si.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};si.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};si.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};si.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};si.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function xi(t,e,r,n){ah.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(e,16),this.y=new re(r,16),this.z=new re(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}OI(xi,ah.BasePoint);ra.prototype.jpoint=function(e,r,n){return new xi(this,e,r,n)};xi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};xi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};xi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};xi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};xi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=y,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};xi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};xi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),y=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};xi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};xi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};xi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};xi.prototype.mul=function(e,r){return e=new re(e,r),this.curve._wnafMul(this,e)};xi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};xi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};xi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};xi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var T1=hp(function(t,e){var r=e;r.base=ah,r.short=Lge,r.mont=null,r.edwards=null}),R1=hp(function(t,e){var r=e,n=lo.assert;function i(a){a.type==="short"?this.curve=new T1.short(a):a.type==="edwards"?this.curve=new T1.edwards(a):this.curve=new T1.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ze.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ze.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ze.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ze.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ze.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ze.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function hf(t){if(!(this instanceof hf))return new hf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ec.toArray(t.entropy,t.entropyEnc||"hex"),r=ec.toArray(t.nonce,t.nonceEnc||"hex"),n=ec.toArray(t.pers,t.persEnc||"hex");PI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var fF=hf;hf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};hf.prototype._hmac=function(){return new Ze.hmac(this.hash,this.K)};hf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};hf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ec.toArray(e,r),n=ec.toArray(n,i),PI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};hf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ec.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,ec.encode(o,r)};var fN=lo.assert;function Wi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var DI=Wi;Wi.fromPublic=function(e,r,n){return r instanceof Wi?r:new Wi(e,{pub:r,pubEnc:n})};Wi.fromPrivate=function(e,r,n){return r instanceof Wi?r:new Wi(e,{priv:r,privEnc:n})};Wi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Wi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Wi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Wi.prototype._importPrivate=function(e,r){this.priv=new re(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Wi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?fN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&fN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Wi.prototype.derive=function(e){return e.validate()||fN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Wi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Wi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Wi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Fge=lo.assert;function Cv(t,e){if(t instanceof Cv)return t;this._importDER(t,e)||(Fge(t.r&&t.s,"Signature without r or s"),this.r=new re(t.r,16),this.s=new re(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Nv=Cv;function Bge(){this.place=0}function QA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function gO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Cv.prototype._importDER=function(e,r){e=lo.toArray(e,r);var n=new Bge;if(e[n.place++]!==48)return!1;var i=QA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=QA(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=QA(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new re(o),this.s=new re(c),this.recoveryParam=null,!0};function ZA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Cv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=gO(r),n=gO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ZA(i,r.length),i=i.concat(r),i.push(2),ZA(i,n.length);var s=i.concat(n),o=[48];return ZA(o,s.length),o=o.concat(s),lo.encode(o,e)};var jge=(function(){throw new Error("unsupported")}),fd=lo.assert;function Ko(t){if(!(this instanceof Ko))return new Ko(t);typeof t=="string"&&(fd(Object.prototype.hasOwnProperty.call(R1,t),"Unknown curve "+t),t=R1[t]),t instanceof R1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Hge=Ko;Ko.prototype.keyPair=function(e){return new DI(this,e)};Ko.prototype.keyFromPrivate=function(e,r){return DI.fromPrivate(this,e,r)};Ko.prototype.keyFromPublic=function(e,r){return DI.fromPublic(this,e,r)};Ko.prototype.genKeyPair=function(e){e||(e={});for(var r=new fF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jge(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new re(2));;){var s=new re(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Ko.prototype._truncateToN=function(e,r,n){var i;if(re.isBN(e)||typeof e=="number")e=new re(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new re(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new re(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ko.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!re.isBN(e)){fd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),fd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)fd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),fd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);fd(new re(c).eq(e),"Can not sign message");for(var l=new fF({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new re(1)),f=0;;f++){var d=i.k?i.k(f):new re(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new Nv({r:g,s:y,recoveryParam:w})}}}}}};Ko.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Nv(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Ko.prototype.recoverPubKey=function(t,e,r,n){fd((3&r)===r,"The recovery param is more than two bits"),e=new Nv(e,n);var i=this.n,s=new re(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Ko.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Nv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var qge=hp(function(t,e){var r=e;r.version="6.6.1",r.utils=lo,r.rand=(function(){throw new Error("unsupported")}),r.curve=T1,r.curves=R1,r.ec=Hge,r.eddsa=null}),Wge=qge.ec;const zge="signing-key/5.8.0",dN=new ie(zge);let ex=null;function Hu(){return ex||(ex=new Wge("secp256k1")),ex}let N0=class{constructor(e){de(this,"curve","secp256k1"),de(this,"privateKey",_e(e)),zd(this.privateKey)!==32&&dN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Hu().keyFromPrivate(he(this.privateKey));de(this,"publicKey","0x"+r.getPublic(!1,"hex")),de(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),de(this,"_isSigningKey",!0)}_addPoint(e){const r=Hu().keyFromPublic(he(this.publicKey)),n=Hu().keyFromPublic(he(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Hu().keyFromPrivate(he(this.privateKey)),n=he(e);n.length!==32&&dN.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return lp({recoveryParam:i.recoveryParam,r:cr("0x"+i.r.toString(16),32),s:cr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Hu().keyFromPrivate(he(this.privateKey)),n=Hu().keyFromPublic(he(dF(e)));return cr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function Gge(t,e){const r=lp(e),n={r:he(r.r),s:he(r.s)};return"0x"+Hu().recoverPubKey(he(t),n,r.recoveryParam).encode("hex",!1)}function dF(t,e){const r=he(t);return r.length===32?new N0(r).publicKey:r.length===33?"0x"+Hu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?_e(r):dN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Vge="transactions/5.8.0",ji=new ie(Vge);var mO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(mO||(mO={}));function kI(t){return t==="0x"?null:Zt(t)}function $i(t){return t==="0x"?TI:Ce.from(t)}const Kge=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Jge={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Jl(t){const e=dF(t);return Zt(wn(Vt(wn(e,1)),12))}function Sv(t,e){return Jl(Gge(he(t),e))}function Ys(t,e){const r=Kl(Ce.from(t).toHexString());return r.length>32&&ji.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function tx(t,e){return{address:Zt(t),storageKeys:(e||[]).map((r,n)=>(zd(r)!==32&&ji.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function pp(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ji.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),tx(r[0],r[1])):tx(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return tx(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function hF(t){return pp(t).map(e=>[e.address,e.storageKeys])}function pF(t,e){if(t.gasPrice!=null){const n=Ce.from(t.gasPrice),i=Ce.from(t.maxFeePerGas||0);n.eq(i)||ji.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Ys(t.chainId||0,"chainId"),Ys(t.nonce||0,"nonce"),Ys(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ys(t.maxFeePerGas||0,"maxFeePerGas"),Ys(t.gasLimit||0,"gasLimit"),t.to!=null?Zt(t.to):"0x",Ys(t.value||0,"value"),t.data||"0x",hF(t.accessList||[])];if(e){const n=lp(e);r.push(Ys(n.recoveryParam,"recoveryParam")),r.push(Kl(n.r)),r.push(Kl(n.s))}return as(["0x02",G0(r)])}function gF(t,e){const r=[Ys(t.chainId||0,"chainId"),Ys(t.nonce||0,"nonce"),Ys(t.gasPrice||0,"gasPrice"),Ys(t.gasLimit||0,"gasLimit"),t.to!=null?Zt(t.to):"0x",Ys(t.value||0,"value"),t.data||"0x",hF(t.accessList||[])];if(e){const n=lp(e);r.push(Ys(n.recoveryParam,"recoveryParam")),r.push(Kl(n.r)),r.push(Kl(n.s))}return as(["0x01",G0(r)])}function Yge(t,e){OL(t,Jge);const r=[];Kge.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=he(_e(a,c)),o.length&&a.length!==o.length&&a.length>0&&ji.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Kl(a),a.length>o.maxLength&&ji.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(_e(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&ji.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Ev(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(_e(n)),r.push("0x"),r.push("0x")),!e)return G0(r);const i=lp(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&ji.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ji.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(_e(s)),r.push(Kl(he(i.r))),r.push(Kl(he(i.s))),G0(r)}function yO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&ji.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),Yge(t,e);switch(t.type){case 1:return gF(t,e);case 2:return pF(t,e)}return ji.throwError(`unsupported transaction type: ${t.type}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function mF(t,e,r){try{const n=$i(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ji.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=cr(e[1],32),t.s=cr(e[2],32);try{const n=Vt(r(t));t.from=Sv(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function Xge(t){const e=SI(t.slice(1));e.length!==9&&e.length!==12&&ji.throwArgumentError("invalid component count for transaction type: 2","payload",_e(t));const r=$i(e[2]),n=$i(e[3]),i={type:2,chainId:$i(e[0]).toNumber(),nonce:$i(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:$i(e[4]),to:kI(e[5]),value:$i(e[6]),data:e[7],accessList:pp(e[8])};return e.length===9||(i.hash=Vt(t),mF(i,e.slice(9),pF)),i}function Qge(t){const e=SI(t.slice(1));e.length!==8&&e.length!==11&&ji.throwArgumentError("invalid component count for transaction type: 1","payload",_e(t));const r={type:1,chainId:$i(e[0]).toNumber(),nonce:$i(e[1]).toNumber(),gasPrice:$i(e[2]),gasLimit:$i(e[3]),to:kI(e[4]),value:$i(e[5]),data:e[6],accessList:pp(e[7])};return e.length===8||(r.hash=Vt(t),mF(r,e.slice(8),gF)),r}function Zge(t){const e=SI(t);e.length!==9&&e.length!==6&&ji.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:$i(e[0]).toNumber(),gasPrice:$i(e[1]),gasLimit:$i(e[2]),to:kI(e[3]),value:$i(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Ce.from(e[6]).toNumber()}catch{return r}if(r.r=cr(e[7],32),r.s=cr(e[8],32),Ce.from(r.r).isZero()&&Ce.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(_e(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Vt(G0(i));try{r.from=Sv(s,{r:_e(r.r),s:_e(r.s),recoveryParam:n})}catch{}r.hash=Vt(t)}return r.type=null,r}function eme(t){const e=he(t);if(e[0]>127)return Zge(e);switch(e[0]){case 1:return Qge(e);case 2:return Xge(e)}return ji.throwError(`unsupported transaction type: ${e[0]}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const tme="contracts/5.7.0";var Vd=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const un=new ie(tme);function hw(t,e){return Vd(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&un.throwArgumentError("invalid address or ENS name","name",r);try{return Zt(r)}catch{}t||un.throwError("a provider or signer is needed to resolve ENS names",ie.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&un.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function P1(t,e,r){return Vd(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>P1(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield hw(t,e):r.type==="tuple"?yield P1(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>P1(t,n,r.arrayChildren))):Promise.reject(un.makeError("invalid value for array",ie.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Iv(t,e,r){return Vd(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Kn(r.pop())),un.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=ln({override:hw(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Vd(this,void 0,void 0,function*(){return Zt(l.signer)!==l.override&&un.throwError("Contract with a Signer cannot override from",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=hw(t.provider,n.from));const i=yield ln({args:P1(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:ln(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=Ce.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Ce.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Ce.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Ce.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Ce.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=pp(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=he(s);for(let f=0;f<u.length;f++)l+=4,u[f]&&(l+=64);o.gasLimit=Ce.from(e.gas).add(l)}if(a.value){const l=Ce.from(a.value);!l.isZero()&&!e.payable&&un.throwError("non-payable method cannot override value",ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Kn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&un.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,ie.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function rme(t,e){return function(...r){return Iv(t,e,r)}}function nme(t,e){const r=t.signer||t.provider;return function(...n){return Vd(this,void 0,void 0,function*(){r||un.throwError("estimate require a provider or signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Iv(t,e,n);return yield r.estimateGas(i)})}}function ime(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=nu(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function yF(t,e,r){const n=t.signer||t.provider;return function(...i){return Vd(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Kn(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Iv(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===ie.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function sme(t,e){return function(...r){return Vd(this,void 0,void 0,function*(){t.signer||un.throwError("sending a transaction requires a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Iv(t,e,r),i=yield t.signer.sendTransaction(n);return ime(t,i),i})}}function bO(t,e,r){return e.constant?yF(t,e,r):sme(t,e)}function bF(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ry{constructor(e,r){de(this,"tag",e),de(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class ome extends ry{constructor(){super("error",null)}}class _O extends ry{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&un.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(bF(s),s),de(this,"address",e),de(this,"interface",r),de(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=ape(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class wO extends ry{constructor(e,r){super("*",{address:e}),de(this,"address",e),de(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class ame{constructor(e,r,n){de(this,"interface",Us(new.target,"getInterface")(r)),n==null?(de(this,"provider",null),de(this,"signer",null)):dp.isSigner(n)?(de(this,"provider",n.provider||null),de(this,"signer",n)):Vy.isProvider(n)?(de(this,"provider",n),de(this,"signer",null)):un.throwArgumentError("invalid signer or provider","signerOrProvider",n),de(this,"callStatic",{}),de(this,"estimateGas",{}),de(this,"functions",{}),de(this,"populateTransaction",{}),de(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];de(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?de(this.filters,a,this.filters[c[0]]):un.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(de(this,"_runningEvents",{}),de(this,"_wrappedEmits",{}),e==null&&un.throwArgumentError("invalid contract address or ENS name","addressOrName",e),de(this,"address",e),this.provider)de(this,"resolvedAddress",hw(this.provider,e));else try{de(this,"resolvedAddress",Promise.resolve(Zt(e)))}catch{un.throwError("provider is required to use ENS name as contract address",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){un.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&de(this,o,bO(this,a,!0)),this.functions[o]==null&&de(this.functions,o,bO(this,a,!1)),this.callStatic[o]==null&&de(this.callStatic,o,yF(this,a,!0)),this.populateTransaction[o]==null&&de(this.populateTransaction,o,rme(this,a)),this.estimateGas[o]==null&&de(this.estimateGas,o,nme(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&de(this,o,this[c])}catch{}this.functions[o]==null&&de(this.functions,o,this.functions[c]),this.callStatic[o]==null&&de(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&de(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&de(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return FL(e)}static getInterface(e){return eO.isInterface(e)?e:new eO(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&un.throwError("contract not deployed",ie.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||un.throwError("sending a transactions require a signer",ie.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Kn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&un.throwError("cannot override "+n,ie.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new RI(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&de(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return uN.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new ome);if(e==="event")return this._normalizeRunningEvent(new ry("event",null));if(e==="*")return this._normalizeRunningEvent(new wO(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new _O(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new _O(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ry(bF(r),r))}return this._normalizeRunningEvent(new wO(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=nu(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||un.throwError("events require a provider or a signer with a provider",ie.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Kn(i.filter);return typeof r=="string"&&yt(r,32)?(n!=null&&un.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Ed extends ame{}let _F=class{constructor(e){de(this,"alphabet",e),de(this,"base",e.length),de(this,"_alphabetMap",{}),de(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=he(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return he(new Uint8Array(r.reverse()))}};new _F("abcdefghijklmnopqrstuvwxyz234567");const ny=new _F("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var iy;(function(t){t.sha256="sha256",t.sha512="sha512"})(iy||(iy={}));const cme="sha2/5.8.0",lme=new ie(cme);function ume(t){return"0x"+Ze.ripemd160().update(he(t)).digest("hex")}function pf(t){return"0x"+Ze.sha256().update(he(t)).digest("hex")}function pw(t,e,r){return iy[t]||lme.throwError("unsupported algorithm "+t,ie.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ze.hmac(Ze[t],he(e)).update(he(r)).digest("hex")}function Yy(t,e,r,n,i){t=he(t),e=he(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=he(pw(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=he(pw(i,t,d));for(let y=0;y<s;y++)u[y]^=d[y]}const h=(f-1)*s,m=f===o?l:s;a.set(he(u).slice(0,m),h)}return _e(a)}const fme="wordlists/5.8.0",dme=new ie(fme);let MI=class wF{constructor(e){dme.checkAbstract(new.target,wF),de(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Za(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const hme="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Hg=null;function vO(t){if(Hg==null&&(Hg=hme.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),MI.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Hg=null,new Error("BIP39 Wordlist for en (English) FAILED")}let pme=class extends MI{constructor(){super("en")}getWord(e){return vO(this),Hg[e]}getWordIndex(e){return vO(this),Hg.indexOf(e)}};const vF=new pme;MI.register(vF);const EO={en:vF},gme="hdnode/5.8.0",gw=new ie(gme),mme=Ce.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yme=sn("Bitcoin seed"),qp=2147483648;function EF(t){return(1<<t)-1<<8-t}function bme(t){return(1<<t)-1}function qb(t){return cr(_e(t),32)}function AO(t){return ny.encode(Kt([t,wn(pf(pf(t)),0,4)]))}function UI(t){if(t==null)return EO.en;if(typeof t=="string"){const e=EO[t];return e==null&&gw.throwArgumentError("unknown locale","wordlist",t),e}return t}const Uh={},gf="m/44'/60'/0'/0/0";let V0=class ku{constructor(e,r,n,i,s,o,a,c){if(e!==Uh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new N0(r);de(this,"privateKey",l.privateKey),de(this,"publicKey",l.compressedPublicKey)}else de(this,"privateKey",null),de(this,"publicKey",_e(n));de(this,"parentFingerprint",i),de(this,"fingerprint",wn(ume(pf(this.publicKey)),0,4)),de(this,"address",Jl(this.publicKey)),de(this,"chainCode",s),de(this,"index",o),de(this,"depth",a),c==null?(de(this,"mnemonic",null),de(this,"path",null)):typeof c=="string"?(de(this,"mnemonic",null),de(this,"path",c)):(de(this,"mnemonic",c),de(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return AO(Kt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",_e(this.depth),this.parentFingerprint,cr(_e(this.index),4),this.chainCode,this.privateKey!=null?Kt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new ku(Uh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~qp));const n=new Uint8Array(37);if(e&qp){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(he(this.privateKey),1),r&&(r+="'")}else n.set(he(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=he(pw(iy.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=qb(Ce.from(s).add(this.privateKey).mod(mme)):c=new N0(_e(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new ku(Uh,a,c,this.fingerprint,qb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=qp)throw new Error("invalid path index - "+s);n=n._derive(qp+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=qp)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=he(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=he(pw(iy.sha512,yme,n));return new ku(Uh,qb(i.slice(0,32)),null,"0x00000000",qb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=UI(n),e=Tv($I(e,n),n),ku._fromSeed(_me(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return ku._fromSeed(e,null)}static fromExtendedKey(e){const r=ny.decode(e);(r.length!==82||AO(r.slice(0,78))!==e)&&gw.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=_e(r.slice(5,9)),s=parseInt(_e(r.slice(9,13)).substring(2),16),o=_e(r.slice(13,45)),a=r.slice(45,78);switch(_e(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new ku(Uh,null,_e(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new ku(Uh,_e(a.slice(1)),null,i,o,s,n,null)}return gw.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function _me(t,e){e||(e="");const r=sn("mnemonic"+e,iu.NFKD);return Yy(sn(t,iu.NFKD),r,2048,64,"sha512")}function $I(t,e){e=UI(e),gw.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=he(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=EF(o);if((he(pf(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return _e(n.slice(0,s/8))}function Tv(t,e){if(e=UI(e),t=he(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&bme(8-n)),n+=3);const i=t.length/4,s=he(pf(t))[0]&EF(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const wme="random/5.8.0",hN=new ie(wme);function vme(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xO=vme();let O1=xO.crypto||xO.msCrypto;(!O1||!O1.getRandomValues)&&(hN.warn("WARNING: Missing strong random number source"),O1={getRandomValues:function(t){return hN.throwError("no secure random source avaialble",ie.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ql(t){(t<=0||t>1024||t%1||t!=t)&&hN.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return O1.getRandomValues(e),he(e)}var rx={exports:{}},CO;function Eme(){return CO||(CO=1,(function(t,e){(function(r){function n(k){return parseInt(k)===k}function i(k){if(!n(k.length))return!1;for(var A=0;A<k.length;A++)if(!n(k[A])||k[A]<0||k[A]>255)return!1;return!0}function s(k,A){if(k.buffer&&ArrayBuffer.isView(k)&&k.name==="Uint8Array")return A&&(k.slice?k=k.slice():k=Array.prototype.slice.call(k)),k;if(Array.isArray(k)){if(!i(k))throw new Error("Array contains invalid value: "+k);return new Uint8Array(k)}if(n(k.length)&&i(k))return new Uint8Array(k);throw new Error("unsupported array-like object")}function o(k){return new Uint8Array(k)}function a(k,A,L,H,T){(H!=null||T!=null)&&(k.slice?k=k.slice(H,T):k=Array.prototype.slice.call(k,H,T)),A.set(k,L)}var c=(function(){function k(L){var H=[],T=0;for(L=encodeURI(L);T<L.length;){var G=L.charCodeAt(T++);G===37?(H.push(parseInt(L.substr(T,2),16)),T+=2):H.push(G)}return s(H)}function A(L){for(var H=[],T=0;T<L.length;){var G=L[T];G<128?(H.push(String.fromCharCode(G)),T++):G>191&&G<224?(H.push(String.fromCharCode((G&31)<<6|L[T+1]&63)),T+=2):(H.push(String.fromCharCode((G&15)<<12|(L[T+1]&63)<<6|L[T+2]&63)),T+=3)}return H.join("")}return{toBytes:k,fromBytes:A}})(),l=(function(){function k(H){for(var T=[],G=0;G<H.length;G+=2)T.push(parseInt(H.substr(G,2),16));return T}var A="0123456789abcdef";function L(H){for(var T=[],G=0;G<H.length;G++){var B=H[G];T.push(A[(B&240)>>4]+A[B&15])}return T.join("")}return{toBytes:k,fromBytes:L}})(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],x=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],R=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],D=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],P=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],F=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],v=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M(k){for(var A=[],L=0;L<k.length;L+=4)A.push(k[L]<<24|k[L+1]<<16|k[L+2]<<8|k[L+3]);return A}var U=function(k){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(k,!0)}),this._prepare()};U.prototype._prepare=function(){var k=u[this.key.length];if(k==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var A=0;A<=k;A++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(k+1)*4,H=this.key.length/4,T=M(this.key),G,A=0;A<H;A++)G=A>>2,this._Ke[G][A%4]=T[A],this._Kd[k-G][A%4]=T[A];for(var B=0,J=H,Y;J<L;){if(Y=T[H-1],T[0]^=d[Y>>16&255]<<24^d[Y>>8&255]<<16^d[Y&255]<<8^d[Y>>24&255]^f[B]<<24,B+=1,H!=8)for(var A=1;A<H;A++)T[A]^=T[A-1];else{for(var A=1;A<H/2;A++)T[A]^=T[A-1];Y=T[H/2-1],T[H/2]^=d[Y&255]^d[Y>>8&255]<<8^d[Y>>16&255]<<16^d[Y>>24&255]<<24;for(var A=H/2+1;A<H;A++)T[A]^=T[A-1]}for(var A=0,ee,oe;A<H&&J<L;)ee=J>>2,oe=J%4,this._Ke[ee][oe]=T[A],this._Kd[k-ee][oe]=T[A++],J++}for(var ee=1;ee<k;ee++)for(var oe=0;oe<4;oe++)Y=this._Kd[ee][oe],this._Kd[ee][oe]=P[Y>>24&255]^F[Y>>16&255]^E[Y>>8&255]^v[Y&255]},U.prototype.encrypt=function(k){if(k.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var A=this._Ke.length-1,L=[0,0,0,0],H=M(k),T=0;T<4;T++)H[T]^=this._Ke[0][T];for(var G=1;G<A;G++){for(var T=0;T<4;T++)L[T]=m[H[T]>>24&255]^g[H[(T+1)%4]>>16&255]^y[H[(T+2)%4]>>8&255]^w[H[(T+3)%4]&255]^this._Ke[G][T];H=L.slice()}for(var B=o(16),J,T=0;T<4;T++)J=this._Ke[A][T],B[4*T]=(d[H[T]>>24&255]^J>>24)&255,B[4*T+1]=(d[H[(T+1)%4]>>16&255]^J>>16)&255,B[4*T+2]=(d[H[(T+2)%4]>>8&255]^J>>8)&255,B[4*T+3]=(d[H[(T+3)%4]&255]^J)&255;return B},U.prototype.decrypt=function(k){if(k.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var A=this._Kd.length-1,L=[0,0,0,0],H=M(k),T=0;T<4;T++)H[T]^=this._Kd[0][T];for(var G=1;G<A;G++){for(var T=0;T<4;T++)L[T]=x[H[T]>>24&255]^S[H[(T+3)%4]>>16&255]^R[H[(T+2)%4]>>8&255]^D[H[(T+1)%4]&255]^this._Kd[G][T];H=L.slice()}for(var B=o(16),J,T=0;T<4;T++)J=this._Kd[A][T],B[4*T]=(h[H[T]>>24&255]^J>>24)&255,B[4*T+1]=(h[H[(T+3)%4]>>16&255]^J>>16)&255,B[4*T+2]=(h[H[(T+2)%4]>>8&255]^J>>8)&255,B[4*T+3]=(h[H[(T+1)%4]&255]^J)&255;return B};var I=function(k){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new U(k)};I.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var A=o(k.length),L=o(16),H=0;H<k.length;H+=16)a(k,L,0,H,H+16),L=this._aes.encrypt(L),a(L,A,H);return A},I.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var A=o(k.length),L=o(16),H=0;H<k.length;H+=16)a(k,L,0,H,H+16),L=this._aes.decrypt(L),a(L,A,H);return A};var C=function(k,A){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!A)A=o(16);else if(A.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(A,!0),this._aes=new U(k)};C.prototype.encrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var A=o(k.length),L=o(16),H=0;H<k.length;H+=16){a(k,L,0,H,H+16);for(var T=0;T<16;T++)L[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(L),a(this._lastCipherblock,A,H)}return A},C.prototype.decrypt=function(k){if(k=s(k),k.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var A=o(k.length),L=o(16),H=0;H<k.length;H+=16){a(k,L,0,H,H+16),L=this._aes.decrypt(L);for(var T=0;T<16;T++)A[H+T]=L[T]^this._lastCipherblock[T];a(k,this._lastCipherblock,0,H,H+16)}return A};var p=function(k,A,L){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!A)A=o(16);else if(A.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=s(A,!0),this._aes=new U(k)};p.prototype.encrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var A=s(k,!0),L,H=0;H<A.length;H+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)A[H+T]^=L[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(A,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return A},p.prototype.decrypt=function(k){if(k.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var A=s(k,!0),L,H=0;H<A.length;H+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)A[H+T]^=L[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(k,this._shiftRegister,16-this.segmentSize,H,H+this.segmentSize)}return A};var b=function(k,A){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!A)A=o(16);else if(A.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(A,!0),this._lastPrecipherIndex=16,this._aes=new U(k)};b.prototype.encrypt=function(k){for(var A=s(k,!0),L=0;L<A.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),A[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return A},b.prototype.decrypt=b.prototype.encrypt;var _=function(k){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");k!==0&&!k&&(k=1),typeof k=="number"?(this._counter=o(16),this.setValue(k)):this.setBytes(k)};_.prototype.setValue=function(k){if(typeof k!="number"||parseInt(k)!=k)throw new Error("invalid counter value (must be an integer)");for(var A=15;A>=0;--A)this._counter[A]=k%256,k=k>>8},_.prototype.setBytes=function(k){if(k=s(k,!0),k.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=k},_.prototype.increment=function(){for(var k=15;k>=0;k--)if(this._counter[k]===255)this._counter[k]=0;else{this._counter[k]++;break}};var N=function(k,A){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",A instanceof _||(A=new _(A)),this._counter=A,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new U(k)};N.prototype.encrypt=function(k){for(var A=s(k,!0),L=0;L<A.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),A[L]^=this._remainingCounter[this._remainingCounterIndex++];return A},N.prototype.decrypt=N.prototype.encrypt;function O(k){k=s(k,!0);var A=16-k.length%16,L=o(k.length+A);a(k,L);for(var H=k.length;H<L.length;H++)L[H]=A;return L}function $(k){if(k=s(k,!0),k.length<16)throw new Error("PKCS#7 invalid length");var A=k[k.length-1];if(A>16)throw new Error("PKCS#7 padding byte out of range");for(var L=k.length-A,H=0;H<A;H++)if(k[L+H]!==A)throw new Error("PKCS#7 invalid padding byte");var T=o(L);return a(k,T,0,0,L),T}var j={AES:U,Counter:_,ModeOfOperation:{ecb:I,cbc:C,cfb:p,ofb:b,ctr:N},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:O,strip:$}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=j})()})(rx)),rx.exports}var Ame=Eme();const An=Yi(Ame),AF="json-wallets/5.8.0";function Td(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),he(t)}function Wp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function LI(t){return typeof t=="string"?sn(t,iu.NFKC):he(t)}function fn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function xme(t){const e=he(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=_e(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Cme=new ie(AF);let Nme=class extends co{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function xF(t,e){const r=JSON.parse(t);e=LI(e);const n=Zt(fn(r,"ethaddr")),i=Td(fn(r,"encseed"));(!i||i.length%16!==0)&&Cme.throwArgumentError("invalid encseed","json",t);const s=he(Yy(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new An.ModeOfOperation.cbc(s,o),l=An.padding.pkcs7.strip(he(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=sn(u),d=Vt(f);return new Nme({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function CF(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function NF(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var nx={exports:{}},NO;function Sme(){return NO||(NO=1,(function(t,e){(function(r){function i(g){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let w=1779033703,x=3144134277,S=1013904242,R=2773480762,D=1359893119,P=2600822924,F=528734635,E=1541459225;const v=new Uint32Array(64);function M(N){let O=0,$=N.length;for(;$>=64;){let j=w,k=x,A=S,L=R,H=D,T=P,G=F,B=E,J,Y,ee,oe,z;for(Y=0;Y<16;Y++)ee=O+Y*4,v[Y]=(N[ee]&255)<<24|(N[ee+1]&255)<<16|(N[ee+2]&255)<<8|N[ee+3]&255;for(Y=16;Y<64;Y++)J=v[Y-2],oe=(J>>>17|J<<15)^(J>>>19|J<<13)^J>>>10,J=v[Y-15],z=(J>>>7|J<<25)^(J>>>18|J<<14)^J>>>3,v[Y]=(oe+v[Y-7]|0)+(z+v[Y-16]|0)|0;for(Y=0;Y<64;Y++)oe=(((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(H&T^~H&G)|0)+(B+(y[Y]+v[Y]|0)|0)|0,z=((j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10))+(j&k^j&A^k&A)|0,B=G,G=T,T=H,H=L+oe|0,L=A,A=k,k=j,j=oe+z|0;w=w+j|0,x=x+k|0,S=S+A|0,R=R+L|0,D=D+H|0,P=P+T|0,F=F+G|0,E=E+B|0,O+=64,$-=64}}M(g);let U,I=g.length%64,C=g.length/536870912|0,p=g.length<<3,b=I<56?56:120,_=g.slice(g.length-I,g.length);for(_.push(128),U=I+1;U<b;U++)_.push(0);return _.push(C>>>24&255),_.push(C>>>16&255),_.push(C>>>8&255),_.push(C>>>0&255),_.push(p>>>24&255),_.push(p>>>16&255),_.push(p>>>8&255),_.push(p>>>0&255),M(_),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255]}function s(g,y,w){g=g.length<=64?g:i(g);const x=64+y.length+4,S=new Array(x),R=new Array(64);let D,P=[];for(D=0;D<64;D++)S[D]=54;for(D=0;D<g.length;D++)S[D]^=g[D];for(D=0;D<y.length;D++)S[64+D]=y[D];for(D=x-4;D<x;D++)S[D]=0;for(D=0;D<64;D++)R[D]=92;for(D=0;D<g.length;D++)R[D]^=g[D];function F(){for(let E=x-1;E>=x-4;E--){if(S[E]++,S[E]<=255)return;S[E]=0}}for(;w>=32;)F(),P=P.concat(i(R.concat(i(S)))),w-=32;return w>0&&(F(),P=P.concat(i(R.concat(i(S))).slice(0,w))),P}function o(g,y,w,x,S){let R;for(u(g,(2*w-1)*16,S,0,16),R=0;R<2*w;R++)l(g,R*16,S,16),c(S,x),u(S,0,g,y+R*16,16);for(R=0;R<w;R++)u(g,y+R*2*16,g,R*16,16);for(R=0;R<w;R++)u(g,y+(R*2+1)*16,g,(R+w)*16,16)}function a(g,y){return g<<y|g>>>32-y}function c(g,y){u(g,0,y,0,16);for(let w=8;w>0;w-=2)y[4]^=a(y[0]+y[12],7),y[8]^=a(y[4]+y[0],9),y[12]^=a(y[8]+y[4],13),y[0]^=a(y[12]+y[8],18),y[9]^=a(y[5]+y[1],7),y[13]^=a(y[9]+y[5],9),y[1]^=a(y[13]+y[9],13),y[5]^=a(y[1]+y[13],18),y[14]^=a(y[10]+y[6],7),y[2]^=a(y[14]+y[10],9),y[6]^=a(y[2]+y[14],13),y[10]^=a(y[6]+y[2],18),y[3]^=a(y[15]+y[11],7),y[7]^=a(y[3]+y[15],9),y[11]^=a(y[7]+y[3],13),y[15]^=a(y[11]+y[7],18),y[1]^=a(y[0]+y[3],7),y[2]^=a(y[1]+y[0],9),y[3]^=a(y[2]+y[1],13),y[0]^=a(y[3]+y[2],18),y[6]^=a(y[5]+y[4],7),y[7]^=a(y[6]+y[5],9),y[4]^=a(y[7]+y[6],13),y[5]^=a(y[4]+y[7],18),y[11]^=a(y[10]+y[9],7),y[8]^=a(y[11]+y[10],9),y[9]^=a(y[8]+y[11],13),y[10]^=a(y[9]+y[8],18),y[12]^=a(y[15]+y[14],7),y[13]^=a(y[12]+y[15],9),y[14]^=a(y[13]+y[12],13),y[15]^=a(y[14]+y[13],18);for(let w=0;w<16;++w)g[w]+=y[w]}function l(g,y,w,x){for(let S=0;S<x;S++)w[S]^=g[y+S]}function u(g,y,w,x,S){for(;S--;)w[x++]=g[y++]}function f(g){if(!g||typeof g.length!="number")return!1;for(let y=0;y<g.length;y++){const w=g[y];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function d(g,y){if(typeof g!="number"||g%1)throw new Error("invalid "+y);return g}function h(g,y,w,x,S,R,D){if(w=d(w,"N"),x=d(x,"r"),S=d(S,"p"),R=d(R,"dkLen"),w===0||(w&w-1)!==0)throw new Error("N must be power of 2");if(w>2147483647/128/x)throw new Error("N too large");if(x>2147483647/128/S)throw new Error("r too large");if(!f(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!f(y))throw new Error("salt must be an array or buffer");y=Array.prototype.slice.call(y);let P=s(g,y,S*128*x);const F=new Uint32Array(S*32*x);for(let H=0;H<F.length;H++){const T=H*4;F[H]=(P[T+3]&255)<<24|(P[T+2]&255)<<16|(P[T+1]&255)<<8|(P[T+0]&255)<<0}const E=new Uint32Array(64*x),v=new Uint32Array(32*x*w),M=32*x,U=new Uint32Array(16),I=new Uint32Array(16),C=S*w*2;let p=0,b=null,_=!1,N=0,O=0,$,j;const k=D?parseInt(1e3/x):4294967295,A=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(_)return D(new Error("cancelled"),p/C);let H;switch(N){case 0:j=O*32*x,u(F,j,E,0,M),N=1,$=0;case 1:H=w-$,H>k&&(H=k);for(let G=0;G<H;G++)u(E,0,v,($+G)*M,M),o(E,M,x,U,I);if($+=H,p+=H,D){const G=parseInt(1e3*p/C);if(G!==b){if(_=D(null,p/C),_)break;b=G}}if($<w)break;$=0,N=2;case 2:H=w-$,H>k&&(H=k);for(let G=0;G<H;G++){const B=(2*x-1)*16,J=E[B]&w-1;l(v,J*M,E,M),o(E,M,x,U,I)}if($+=H,p+=H,D){const G=parseInt(1e3*p/C);if(G!==b){if(_=D(null,p/C),_)break;b=G}}if($<w)break;if(u(E,0,F,j,M),O++,O<S){N=0;break}P=[];for(let G=0;G<F.length;G++)P.push(F[G]>>0&255),P.push(F[G]>>8&255),P.push(F[G]>>16&255),P.push(F[G]>>24&255);const T=s(g,P,R);return D&&D(null,1,T),T}D&&A(L)};if(!D)for(;;){const H=L();if(H!=null)return H}L()}const m={scrypt:function(g,y,w,x,S,R,D){return new Promise(function(P,F){let E=0;D&&D(0),h(g,y,w,x,S,R,function(v,M,U){if(v)F(v);else if(U)D&&E!==1&&D(1),P(new Uint8Array(U));else if(D&&M!==E)return E=M,D(M)})})},syncScrypt:function(g,y,w,x,S,R){return new Uint8Array(h(g,y,w,x,S,R))}};t.exports=m})()})(nx)),nx.exports}var Ime=Sme();const gp=Yi(Ime);var Tme=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const pN=new ie(AF);function SO(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let Rme=class extends co{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function Pme(t,e,r){if(fn(t,"crypto/cipher")==="aes-128-ctr"){const i=Td(fn(t,"crypto/cipherparams/iv")),s=new An.Counter(i),o=new An.ModeOfOperation.ctr(e,s);return he(o.decrypt(r))}return null}function SF(t,e){const r=Td(fn(t,"crypto/ciphertext"));if(_e(Vt(Kt([e.slice(16,32),r]))).substring(2)!==fn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Pme(t,e.slice(0,16),r);i||pN.throwError("unsupported cipher",ie.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Jl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Zt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:_e(i)};if(fn(t,"x-ethers/version")==="0.1"){const c=Td(fn(t,"x-ethers/mnemonicCiphertext")),l=Td(fn(t,"x-ethers/mnemonicCounter")),u=new An.Counter(l),f=new An.ModeOfOperation.ctr(s,u),d=fn(t,"x-ethers/path")||gf,h=fn(t,"x-ethers/locale")||"en",m=he(f.decrypt(c));try{const g=Tv(m,h),y=V0.fromMnemonic(g,null,h).derivePath(d);if(y.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=y.mnemonic}catch(g){if(g.code!==ie.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Rme(a)}function IF(t,e,r,n,i){return he(Yy(t,e,r,n,i))}function Ome(t,e,r,n,i){return Promise.resolve(IF(t,e,r,n,i))}function TF(t,e,r,n,i){const s=LI(e),o=fn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return pN.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=Td(fn(t,"crypto/kdfparams/salt")),l=parseInt(fn(t,"crypto/kdfparams/n")),u=parseInt(fn(t,"crypto/kdfparams/r")),f=parseInt(fn(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(fn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Td(fn(t,"crypto/kdfparams/salt"));let l=null;const u=fn(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(fn(t,"crypto/kdfparams/c")),d=parseInt(fn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return pN.throwArgumentError("unsupported key-derivation function","kdf",o)}function Dme(t,e){const r=JSON.parse(t),n=TF(r,e,IF,gp.syncScrypt);return SF(r,n)}function kme(t,e,r){return Tme(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield TF(n,e,Ome,gp.scrypt,r);return SF(n,i)})}function Mme(t,e,r,n){try{if(Zt(t.address)!==Jl(t.privateKey))throw new Error("address/privateKey mismatch");if(SO(t)){const y=t.mnemonic;if(V0.fromMnemonic(y.phrase,null,y.locale).derivePath(y.path||gf).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=he(t.privateKey),s=LI(e);let o=null,a=null,c=null;if(SO(t)){const y=t.mnemonic;o=he($I(y.phrase,y.locale||"en")),a=y.path||gf,c=y.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=he(r.salt):u=ql(32);let f=null;if(r.iv){if(f=he(r.iv),f.length!==16)throw new Error("invalid iv")}else f=ql(16);let d=null;if(r.uuid){if(d=he(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=ql(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),gp.scrypt(s,u,h,m,g,64,n).then(y=>{y=he(y);const w=y.slice(0,16),x=y.slice(16,32),S=y.slice(32,64),R=new An.Counter(f),D=new An.ModeOfOperation.ctr(w,R),P=he(D.encrypt(i)),F=Vt(Kt([x,P])),E={address:t.address.substring(2).toLowerCase(),id:xme(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:_e(f).substring(2)},ciphertext:_e(P).substring(2),kdf:"scrypt",kdfparams:{salt:_e(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=ql(16),M=new An.Counter(v),U=new An.ModeOfOperation.ctr(S,M),I=he(U.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Wp(C.getUTCMonth()+1,2)+"-"+Wp(C.getUTCDate(),2)+"T"+Wp(C.getUTCHours(),2)+"-"+Wp(C.getUTCMinutes(),2)+"-"+Wp(C.getUTCSeconds(),2)+".0Z";E["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+E.address,mnemonicCounter:_e(v).substring(2),mnemonicCiphertext:_e(I).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(E)})}function Ume(t,e,r){if(CF(t)){r&&r(0);const n=xF(t,e);return r&&r(1),Promise.resolve(n)}return NF(t)?kme(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function $me(t,e){if(CF(t))return xF(t,e);if(NF(t))return Dme(t,e);throw new Error("invalid JSON wallet")}const Lme="wallet/5.7.0";var IO=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const $h=new ie(Lme);function Fme(t){return t!=null&&yt(t.privateKey,32)&&t.address!=null}function Bme(t){const e=t.mnemonic;return e&&e.phrase}class dd extends dp{constructor(e,r){if(super(),Fme(e)){const n=new N0(e.privateKey);if(de(this,"_signingKey",()=>n),de(this,"address",Jl(this.publicKey)),this.address!==Zt(e.address)&&$h.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Bme(e)){const i=e.mnemonic;de(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||gf,locale:i.locale||"en"}));const s=this.mnemonic,o=V0.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Jl(o.privateKey)!==this.address&&$h.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else de(this,"_mnemonic",()=>null)}else{if(N0.isSigningKey(e))e.curve!=="secp256k1"&&$h.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),de(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new N0(e);de(this,"_signingKey",()=>n)}de(this,"_mnemonic",()=>null),de(this,"address",Jl(this.publicKey))}r&&!Vy.isProvider(r)&&$h.throwArgumentError("invalid provider","provider",r),de(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new dd(this,e)}signTransaction(e){return ln(e).then(r=>{r.from!=null&&(Zt(r.from)!==this.address&&$h.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(Vt(yO(r)));return yO(r,n)})}signMessage(e){return IO(this,void 0,void 0,function*(){return D5(this._signingKey().signDigest(nF(e)))})}_signTypedData(e,r,n){return IO(this,void 0,void 0,function*(){const i=yield ty.resolveNames(e,r,n,s=>(this.provider==null&&$h.throwError("cannot resolve ENS names without a provider",ie.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return D5(this._signingKey().signDigest(ty.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Mme(this,e,r,n)}static createRandom(e){let r=ql(16);e||(e={}),e.extraEntropy&&(r=he(wn(Vt(Kt([r,e.extraEntropy])),0,16)));const n=Tv(r,e.locale);return dd.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Ume(e,r,n).then(i=>new dd(i))}static fromEncryptedJsonSync(e,r){return new dd($me(e,r))}static fromMnemonic(e,r,n){return r||(r=gf),new dd(V0.fromMnemonic(e,null,n).derivePath(r))}}function jme(t,e){return Sv(nF(t),e)}function Hme(t,e,r,n){return Sv(ty.hash(t,e,r),n)}const qme=Object.freeze(Object.defineProperty({__proto__:null,Wallet:dd,verifyMessage:jme,verifyTypedData:Hme},Symbol.toStringTag,{value:"Module"})),Wme="networks/5.8.0",TO=new ie(Wme);function zme(t){return t&&typeof t.renetwork=="function"}function Ta(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Ta(r)},e}function mw(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return mw(t,n)},r}const RO={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ta("homestead")},PO={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ta("ropsten")},OO={chainId:63,name:"classicMordor",_defaultProvider:mw("https://www.ethercluster.com/mordor","classicMordor")},Wb={unspecified:{chainId:0,name:"unspecified"},homestead:RO,mainnet:RO,morden:{chainId:2,name:"morden"},ropsten:PO,testnet:PO,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ta("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ta("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ta("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Ta("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Ta("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:mw("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:OO,classicTestnet:OO,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:mw("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ta("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Ta("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Ta("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Gme(t){if(t==null)return null;if(typeof t=="number"){for(const n in Wb){const i=Wb[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Wb[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Wb[t.name];if(!e)return typeof t.chainId!="number"&&TO.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&TO.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(zme(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const Vme="web/5.8.0";var Kme=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function Jme(t,e){return Kme(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:he(new Uint8Array(i))}})}var Yme=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const wa=new ie(Vme);function DO(t){return new Promise(e=>{setTimeout(e,t)})}function Su(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Ev(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return fp(t)}catch{}return _e(t)}return t}function Xme(t){return sn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Qme(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;wa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;wa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&wa.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&wa.throwError("basic authentication requires a secure https url",ie.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+YL(sn(w))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Kn(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?JL(h[3]):Xme(h[3])};let x=w.body;return r&&(x=r(w.body,w)),Promise.resolve(x)}catch(w){wa.throwError("processing response error",ie.errors.SERVER_ERROR,{body:Su(h[1],h[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const x=a[w];m[x.key]=x.value}),l.headers=m;const g=(function(){let w=null;return{promise:new Promise(function(R,D){f&&(w=setTimeout(()=>{w!=null&&(w=null,D(wa.makeError("timeout",ie.errors.TIMEOUT,{requestBody:Su(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}})(),y=(function(){return Yme(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let x=null;try{if(x=yield Jme(c,l),w<n){if(x.statusCode===301||x.statusCode===302){const R=x.headers.location||"";if(l.method==="GET"&&R.match(/^https:/)){c=x.headers.location;continue}}else if(x.statusCode===429){let R=!0;if(i&&(R=yield i(w,c)),R){let D=0;const P=x.headers["retry-after"];typeof P=="string"&&P.match(/^[1-9][0-9]*$/)?D=parseInt(P)*1e3:D=s*parseInt(String(Math.random()*Math.pow(2,w))),yield DO(D);continue}}}}catch(R){x=R.response,x==null&&(g.cancel(),wa.throwError("missing response",ie.errors.SERVER_ERROR,{requestBody:Su(l.body,m["content-type"]),requestMethod:l.method,serverError:R,url:c}))}let S=x.body;if(u&&x.statusCode===304?S=null:!o&&(x.statusCode<200||x.statusCode>=300)&&(g.cancel(),wa.throwError("bad response",ie.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:Su(S,x.headers?x.headers["content-type"]:null),requestBody:Su(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const R=yield r(S,x);return g.cancel(),R}catch(R){if(R.throttleRetry&&w<n){let D=!0;if(i&&(D=yield i(w,c)),D){const P=s*parseInt(String(Math.random()*Math.pow(2,w)));yield DO(P);continue}}g.cancel(),wa.throwError("processing response error",ie.errors.SERVER_ERROR,{body:Su(S,x.headers?x.headers["content-type"]:null),error:R,requestBody:Su(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return wa.throwError("failed response",ie.errors.SERVER_ERROR,{requestBody:Su(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,y])}function FI(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(fp(s))}catch(c){wa.throwError("invalid JSON",ie.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=sn(e);const s=typeof t=="string"?{url:t}:Kn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Kn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return Qme(t,i,n)}function ug(t,e){return e||(e={}),e=Kn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}var ix,kO;function Zme(){if(kO)return ix;kO=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(g){var y=g>>25;return(g&33554431)<<5^-(y>>0&1)&996825010^-(y>>1&1)&642813549^-(y>>2&1)&513874426^-(y>>3&1)&1027748829^-(y>>4&1)&705979059}function s(g){for(var y=1,w=0;w<g.length;++w){var x=g.charCodeAt(w);if(x<33||x>126)return"Invalid prefix ("+g+")";y=i(y)^x>>5}for(y=i(y),w=0;w<g.length;++w){var S=g.charCodeAt(w);y=i(y)^S&31}return y}function o(g,y,w){if(w=w||90,g.length+7+y.length>w)throw new TypeError("Exceeds length limit");g=g.toLowerCase();var x=s(g);if(typeof x=="string")throw new Error(x);for(var S=g+"1",R=0;R<y.length;++R){var D=y[R];if(D>>5!==0)throw new Error("Non 5-bit word");x=i(x)^D,S+=t.charAt(D)}for(R=0;R<6;++R)x=i(x);for(x^=1,R=0;R<6;++R){var P=x>>(5-R)*5&31;S+=t.charAt(P)}return S}function a(g,y){if(y=y||90,g.length<8)return g+" too short";if(g.length>y)return"Exceeds length limit";var w=g.toLowerCase(),x=g.toUpperCase();if(g!==w&&g!==x)return"Mixed-case string "+g;g=w;var S=g.lastIndexOf("1");if(S===-1)return"No separator character for "+g;if(S===0)return"Missing prefix for "+g;var R=g.slice(0,S),D=g.slice(S+1);if(D.length<6)return"Data too short";var P=s(R);if(typeof P=="string")return P;for(var F=[],E=0;E<D.length;++E){var v=D.charAt(E),M=e[v];if(M===void 0)return"Unknown character "+v;P=i(P)^M,!(E+6>=D.length)&&F.push(M)}return P!==1?"Invalid checksum for "+g:{prefix:R,words:F}}function c(){var g=a.apply(null,arguments);if(typeof g=="object")return g}function l(g){var y=a.apply(null,arguments);if(typeof y=="object")return y;throw new Error(y)}function u(g,y,w,x){for(var S=0,R=0,D=(1<<w)-1,P=[],F=0;F<g.length;++F)for(S=S<<y|g[F],R+=y;R>=w;)R-=w,P.push(S>>R&D);if(x)R>0&&P.push(S<<w-R&D);else{if(R>=y)return"Excess padding";if(S<<w-R&D)return"Non-zero padding"}return P}function f(g){var y=u(g,8,5,!0);if(Array.isArray(y))return y}function d(g){var y=u(g,8,5,!0);if(Array.isArray(y))return y;throw new Error(y)}function h(g){var y=u(g,5,8,!1);if(Array.isArray(y))return y}function m(g){var y=u(g,5,8,!1);if(Array.isArray(y))return y;throw new Error(y)}return ix={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:f,toWords:d,fromWordsUnsafe:h,fromWords:m},ix}var eye=Zme();const MO=Yi(eye),Rv="providers/5.7.2",zp=new ie(Rv);class He{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:He.allowNull(this.accessList.bind(this),null),blockHash:He.allowNull(o,null),blockNumber:He.allowNull(c,null),transactionIndex:He.allowNull(c,null),confirmations:He.allowNull(c,null),from:r,gasPrice:He.allowNull(n),maxPriorityFeePerGas:He.allowNull(n),maxFeePerGas:He.allowNull(n),gasLimit:n,to:He.allowNull(r,null),value:n,nonce:c,data:s,r:He.allowNull(this.uint256),s:He.allowNull(this.uint256),v:He.allowNull(c),creates:He.allowNull(r,null),raw:He.allowNull(s)},e.transactionRequest={from:He.allowNull(r),nonce:He.allowNull(c),gasLimit:He.allowNull(n),gasPrice:He.allowNull(n),maxPriorityFeePerGas:He.allowNull(n),maxFeePerGas:He.allowNull(n),to:He.allowNull(r),value:He.allowNull(n),data:He.allowNull(u),type:He.allowNull(c),accessList:He.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:He.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:He.allowNull(this.address,null),from:He.allowNull(this.address,null),contractAddress:He.allowNull(r,null),transactionIndex:c,root:He.allowNull(a),gasUsed:n,logsBloom:He.allowNull(s),blockHash:o,transactionHash:o,logs:He.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:He.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:He.allowNull(n),status:He.allowNull(c),type:l},e.block={hash:He.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:He.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:He.allowNull(r),extraData:s,transactions:He.allowNull(He.arrayOf(o)),baseFeePerGas:He.allowNull(n)},e.blockWithTransactions=Kn(e.block),e.blockWithTransactions.transactions=He.allowNull(He.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:He.allowNull(i,void 0),toBlock:He.allowNull(i,void 0),blockHash:He.allowNull(o,void 0),address:He.allowNull(r,void 0),topics:He.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:He.allowNull(c),blockHash:He.allowNull(o),transactionIndex:c,removed:He.allowNull(this.boolean.bind(this)),address:r,data:He.allowFalsish(s,"0x"),topics:He.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return pp(e||[])}number(e){return e==="0x"?0:Ce.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ce.from(e).toNumber()}bigNumber(e){return Ce.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),yt(e))?e.toLowerCase():zp.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Zt(e)}callAddress(e){if(!yt(e,32))return null;const r=Zt(wn(e,12));return r===Ape?null:r}contractAddress(e){return FL(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||yt(e))return xI(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return zd(n)!==32?zp.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Ce.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!yt(e))throw new Error("invalid uint256");return cr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=He.check(r,e);return i._difficulty=n==null?null:Ce.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return He.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ce.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=He.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;yt(n)&&(n=Ce.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),yt(n)&&(n=Ce.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return eme(e)}receiptLog(e){return He.check(this.formats.receiptLog,e)}receipt(e){const r=He.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Ce.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&zp.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):zp.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&zp.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return He.check(this.formats.filter,e)}filterLog(e){return He.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var nt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const pt=new ie(Rv),tye=10;function UO(t){return t==null?"null":(zd(t)!==32&&pt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function $O(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[UO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return UO(e)}).join("&")}function rye(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Lh(t){if(typeof t=="string"){if(t=t.toLowerCase(),zd(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+$O(t);if(Ege.isForkEvent(t))throw pt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+$O(t.topics||[])}throw new Error("invalid event - "+t)}function Gp(){return new Date().getTime()}function LO(t){return new Promise(e=>{setTimeout(e,t)})}const nye=["block","network","pending","poll"];let iye=class{constructor(e,r,n){de(this,"tag",e),de(this,"listener",r),de(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=rye(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||nye.indexOf(this.tag)>=0}};const sye={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function sx(t){return cr(Ce.from(t).toHexString(),32)}function FO(t){return ny.encode(Kt([t,wn(pf(pf(t)),0,4)]))}const RF=new RegExp("^(ipfs)://(.*)$","i"),BO=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),RF,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function D1(t,e){try{return fp(sy(t,e))}catch{}return null}function sy(t,e){if(t==="0x")return null;const r=Ce.from(wn(t,e,e+32)).toNumber(),n=Ce.from(wn(t,r,r+32)).toNumber();return wn(t,r+32,r+32+n)}function ox(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function jO(t){const e=he(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function oye(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function PF(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=he(t[n]);e[n]=jO(r),e.push(jO(i.length)),e.push(oye(i)),r+=32+Math.ceil(i.length/32)*32}return as(e)}class HO{constructor(e,r,n,i){de(this,"provider",e),de(this,"name",n),de(this,"address",e.formatter.address(r)),de(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ce.from(e).eq(1)).catch(e=>{if(e.code===ie.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return nt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:as([e,I1(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=as(["0x9061b923",PF([oge(this.name),n.data])]));try{let s=yield this.provider.call(n);return he(s).length%32===4&&pt.throwError("resolver threw error",ie.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=sy(s,0)),s}catch(s){if(s.code===ie.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return nt(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?sy(n,0):null})}_getAddress(e,r){const n=sye[String(e)];if(n==null&&pt.throwError(`unsupported coin type: ${e}`,ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=he(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return FO(Kt([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return FO(Kt([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=MO.toWords(i.slice(2));return a.unshift(o),MO.encode(n.prefix,a)}}return null}getAddress(e){return nt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===xpe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===ie.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",sx(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&pt.throwError("invalid or unsupported coin data",ie.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return nt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<BO.length;n++){const i=r.match(BO[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:ox(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=cr(Ce.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:as(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=Ce.from(yield this.provider.call({to:l,data:as(["0x00fdd58e",cr(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const f={to:this.provider.formatter.address(c[0]),data:as([o,u])};let d=D1(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),s==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=ox(d)),e.push({type:"metadata-url",content:d});const h=yield FI(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(RF)==null)return null;e.push({type:"url-ipfs",content:m}),m=ox(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return nt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+ny.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+ny.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+YL("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return pt.throwError("invalid or unsupported content hash data",ie.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return nt(this,void 0,void 0,function*(){let r=sn(e);r=Kt([sx(64),sx(r.length),r]),r.length%32!==0&&(r=Kt([r,cr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",_e(r));return n==null||n==="0x"?null:fp(n)})}}let ax=null,aye=1;class cye extends Vy{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),de(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Us(new.target,"getNetwork")(e);r?(de(this,"_network",r),this.emit("network",r,null)):pt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return nt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||pt.throwError("no network detected",ie.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:de(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ug(()=>this._ready().then(e=>e,e=>{if(!(e.code===ie.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return ax==null&&(ax=new He),ax}static getNetwork(e){return Gme(e??"homestead")}ccipReadFetch(e,r,n){return nt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield FI({url:l,errorPassThrough:!0},u,(h,m)=>(h.status=m.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return pt.throwError(`response not found during CCIP fetch: ${d}`,ie.errors.SERVER_ERROR,{url:c,errorMessage:d});o.push(d)}return pt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,ie.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return nt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Gp()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Gp(),n=ln({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Gp();return i=Ce.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return nt(this,void 0,void 0,function*(){const e=aye++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)pt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",pt.makeError("network block skew detected",ie.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return nt(this,void 0,void 0,function*(){return pt.throwError("provider does not support network detection",ie.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return nt(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield LO(0),this._network;const n=pt.makeError("underlying network changed",ie.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Gp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Gp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return nt(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return nt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||u()||o(d)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const m=g=>nt(this,void 0,void 0,function*(){l||(yield LO(1e3),this.getTransactionCount(i.from).then(y=>nt(this,void 0,void 0,function*(){if(!l){if(y<=i.nonce)d=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=g;){if(l)return;const w=yield this.getBlockWithTransactions(h);for(let x=0;x<w.transactions.length;x++){const S=w.transactions[x];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(l)return;const R=yield this.waitForTransaction(S.hash,r);if(u())return;let D="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?D="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(D="cancelled"),a(pt.makeError("transaction was replaced",ie.errors.TRANSACTION_REPLACED,{cancelled:D==="replaced"||D==="cancelled",reason:D,replacement:this._wrapTransaction(S),hash:e,receipt:R}));return}}h++}}l||this.once("block",m)}}),y=>{l||this.once("block",m)}))});if(l)return;this.once("block",m),c.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{u()||a(pt.makeError("timeout exceeded",ie.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),c.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return nt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ce.from(e)}catch(r){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ln({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Ce.from(i)}catch(s){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ln({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Ce.from(i).toNumber()}catch(s){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ln({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return _e(i)}catch(s){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield ln({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>xI(o))}),s=yield this.perform("getStorageAt",i);try{return _e(s)}catch(o){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&zd(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&pt.throwError("Transaction hash mismatch from Provider.sendTransaction.",ie.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>nt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&pt.throwError("transaction failed",ie.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>_e(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return nt(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Ce.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?_e(s):null))}),this.formatter.transactionRequest(yield ln(n))})}_getFilter(e){return nt(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield ln(r))})}_call(e,r,n){return nt(this,void 0,void 0,function*(){n>=tye&&pt.throwError("CCIP read exceeded maximum redirections",ie.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&zd(s)%32===4)try{const o=wn(s,4),a=wn(o,0,32);Ce.from(a).eq(i)||pt.throwError("CCIP Read sender did not match",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=Ce.from(wn(o,32,64)).toNumber(),u=Ce.from(wn(o,l,l+32)).toNumber(),f=wn(o,l+32);for(let w=0;w<u;w++){const x=D1(f,w*32);x==null&&pt.throwError("CCIP Read contained corrupt URL string",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(x)}const d=sy(o,64);Ce.from(wn(o,100,128)).isZero()||pt.throwError("CCIP Read callback selector included junk",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=wn(o,96,100),m=sy(o,128),g=yield this.ccipReadFetch(e,d,c);g==null&&pt.throwError("CCIP Read disabled or provided no URLs",ie.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y={to:i,data:as([h,PF([g,m])])};return this._call(y,r,n+1)}catch(o){if(o.code===ie.errors.SERVER_ERROR)throw o}try{return _e(s)}catch(o){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ln({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ln({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Ce.from(n)}catch(i){return pt.throwError("bad result from backend",ie.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return nt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&pt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&pt.throwError("ENS name not configured",ie.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(yt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),yt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{pt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ug(()=>nt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ug(()=>nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ug(()=>nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ln({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),He.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return nt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return nt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&pt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return nt(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new HO(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return nt(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||pt.throwError("network does not support ENS",ie.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+I1(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return nt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(yt(e))throw n}typeof e!="string"&&pt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return nt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=D1(yield this.call({to:n,data:"0x691f3431"+I1(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return nt(this,void 0,void 0,function*(){let r=null;if(yt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new HO(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==ie.errors.CALL_EXCEPTION)throw a}try{const a=D1(yield this.call({to:o,data:"0x691f3431"+I1(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==ie.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return pt.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new iye(Lh(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Lh(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Lh(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Lh(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Lh(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Lh(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Rl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const bn=new ie(Rv),lye=["call","estimateGas"];function qg(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=yt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=qg(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return qg(JSON.parse(t),e)}catch{}return null}function OF(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=qg(e,!0);if(s)return s.data;bn.throwError("missing revert data in call exception; Transaction reverted without a reason string",ie.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=qg(e.body,!1);s==null&&(s=qg(e,!1)),s&&bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===ie.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&bn.throwError("insufficient funds for intrinsic transaction cost",ie.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&bn.throwError("nonce has already been used",ie.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&bn.throwError("replacement fee too low",ie.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&bn.throwError("legacy pre-eip-155 transactions not supported",ie.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),lye.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&bn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",ie.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function qO(t){return new Promise(function(e){setTimeout(e,t)})}function uye(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Vp(t){return t&&t.toLowerCase()}const gN={};class DF extends dp{constructor(e,r,n){if(super(),e!==gN)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");de(this,"provider",r),n==null&&(n=0),typeof n=="string"?(de(this,"_address",this.provider.formatter.address(n)),de(this,"_index",null)):typeof n=="number"?(de(this,"_index",n),de(this,"_address",null)):bn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return bn.throwError("cannot alter JSON-RPC Signer connection",ie.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new fye(gN,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&bn.throwError("unknown account #"+this._index,ie.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Kn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Kn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Rl(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&bn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),ln({tx:ln(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&bn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&bn.throwError("user rejected transaction",ie.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),OF("sendTransaction",o,s)))})}signTransaction(e){return bn.throwError("signing transactions is unsupported",ie.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Rl(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ug(()=>Rl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Rl(this,void 0,void 0,function*(){const r=typeof e=="string"?sn(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[_e(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Rl(this,void 0,void 0,function*(){const r=typeof e=="string"?sn(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),_e(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Rl(this,void 0,void 0,function*(){const i=yield ty.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(ty.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&bn.throwError("user rejected signing",ie.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Rl(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class fye extends DF{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const dye={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class yw extends cye{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Us(this.constructor,"defaultUrl")()),typeof e=="string"?de(this,"connection",Object.freeze({url:e})):de(this,"connection",Object.freeze(Kn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Rl(this,void 0,void 0,function*(){yield qO(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Us(this.constructor,"getNetwork");try{return r(Ce.from(e).toNumber())}catch(n){return bn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return bn.throwError("could not detect network",ie.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new DF(gN,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:nu(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=FI(this.connection,JSON.stringify(n),uye).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Vp(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Vp(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Vp(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Vp(r.address),cr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Us(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Us(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Vp(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Rl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Ce.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Kn(r),r.transaction=Kn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&bn.throwError(e+" not implemented",ie.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return OF(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return qO(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Kn(dye);if(r)for(const s in r)r[s]&&(n[s]=!0);OL(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=xI(Ce.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=_e(e[s]))}),e.accessList&&(i.accessList=pp(e.accessList)),i}}const WO=new ie(Rv);let hye=1;function zO(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:hye++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:nu(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function pye(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:nu(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Rd extends yw{constructor(e,r){e==null&&WO.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=pye(e)):e.sendAsync?i=zO(e,e.sendAsync.bind(e)):e.send?i=zO(e,e.send.bind(e)):WO.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),de(this,"jsonRpcFetchFunc",i),de(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const Xy="abi/5.7.0",Tt=new ie(Xy),Kd={};let GO={calldata:!0,memory:!0,storage:!0},gye={calldata:!0,memory:!0};function zb(t,e){if(t==="bytes"||t==="string"){if(GO[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&gye[e])return!0;return(GO[e]||e==="payable")&&Tt.throwArgumentError("invalid modifier","name",e),!1}function mye(t,e){let r=t;function n(a){Tt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=r0(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),zb(o.type,o.name)&&(o.name=""),o.type=r0(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),zb(o.type,o.name)&&(o.name=""),o.type=r0(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=r0(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):zb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Tt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):zb(o.type,o.name)&&(o.name=""),s.type=r0(s.type),s}function k1(t,e){for(let r in e)de(t,r,e[r])}const $t=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),yye=new RegExp(/^(.*)\[([0-9]*)\]$/);class zn{constructor(e,r){e!==Kd&&Tt.throwError("use fromString",ie.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),k1(this,r);let n=this.type.match(yye);n?k1(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:zn.fromObject({type:n[1],components:this.components}),baseType:"array"}):k1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=$t.sighash),$t[e]||Tt.throwArgumentError("invalid format type","format",e),e===$t.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==$t.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===$t.full?", ":",")+")"):r+=this.type,e!==$t.sighash&&(this.indexed===!0&&(r+=" indexed"),e===$t.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?zn.fromString(e,r):zn.fromObject(e)}static fromObject(e){return zn.isParamType(e)?e:new zn(Kd,{name:e.name||null,type:r0(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(zn.fromObject):null})}static fromString(e,r){function n(i){return zn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(mye(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function oy(t,e){return _ye(t).map(r=>zn.fromString(r,e))}class qc{constructor(e,r){e!==Kd&&Tt.throwError("use a static from method",ie.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),k1(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return qc.isFragment(e)?e:typeof e=="string"?qc.fromString(e):qc.fromObject(e)}static fromObject(e){if(qc.isFragment(e))return e;switch(e.type){case"function":return Ja.fromObject(e);case"event":return Fc.fromObject(e);case"constructor":return Ka.fromObject(e);case"error":return Bl.fromObject(e);case"fallback":case"receive":return null}return Tt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Fc.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Ja.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ka.fromString(e.trim()):e.split(" ")[0]==="error"?Bl.fromString(e.substring(5).trim()):Tt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Fc extends qc{format(e){if(e||(e=$t.sighash),$t[e]||Tt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",e!==$t.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Fc.fromString(e):Fc.fromObject(e)}static fromObject(e){if(Fc.isEventFragment(e))return e;e.type!=="event"&&Tt.throwArgumentError("invalid event object","value",e);const r={name:ay(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(zn.fromObject):[],type:"event"};return new Fc(Kd,r)}static fromString(e){let r=e.match(cy);r||Tt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Tt.warn("unknown modifier: "+i)}}),Fc.fromObject({name:r[1].trim(),anonymous:n,inputs:oy(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function kF(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Tt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Tt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Ce.from(r[1]),r[0]):t}function MF(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function UF(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Tt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Tt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Tt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Tt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Tt.throwArgumentError("unable to determine stateMutability","value",t),e}class Ka extends qc{format(e){if(e||(e=$t.sighash),$t[e]||Tt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===$t.sighash&&Tt.throwError("cannot format a constructor for sighash",ie.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Ka.fromString(e):Ka.fromObject(e)}static fromObject(e){if(Ka.isConstructorFragment(e))return e;e.type!=="constructor"&&Tt.throwArgumentError("invalid constructor object","value",e);let r=UF(e);r.constant&&Tt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(zn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ce.from(e.gas):null};return new Ka(Kd,n)}static fromString(e){let r={type:"constructor"};e=kF(e,r);let n=e.match(cy);return(!n||n[1].trim()!=="constructor")&&Tt.throwArgumentError("invalid constructor string","value",e),r.inputs=oy(n[2].trim(),!1),MF(n[3].trim(),r),Ka.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Ja extends Ka{format(e){if(e||(e=$t.sighash),$t[e]||Tt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",e!==$t.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Ja.fromString(e):Ja.fromObject(e)}static fromObject(e){if(Ja.isFunctionFragment(e))return e;e.type!=="function"&&Tt.throwArgumentError("invalid function object","value",e);let r=UF(e);const n={type:e.type,name:ay(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(zn.fromObject):[],outputs:e.outputs?e.outputs.map(zn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Ce.from(e.gas):null};return new Ja(Kd,n)}static fromString(e){let r={type:"function"};e=kF(e,r);let n=e.split(" returns ");n.length>2&&Tt.throwArgumentError("invalid function string","value",e);let i=n[0].match(cy);if(i||Tt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ay(r.name),r.inputs=oy(i[2],!1),MF(i[3].trim(),r),n.length>1){let s=n[1].match(cy);(s[1].trim()!=""||s[3].trim()!="")&&Tt.throwArgumentError("unexpected tokens","value",e),r.outputs=oy(s[2],!1)}else r.outputs=[];return Ja.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function VO(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Tt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Bl extends qc{format(e){if(e||(e=$t.sighash),$t[e]||Tt.throwArgumentError("invalid format type","format",e),e===$t.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==$t.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===$t.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Bl.fromString(e):Bl.fromObject(e)}static fromObject(e){if(Bl.isErrorFragment(e))return e;e.type!=="error"&&Tt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ay(e.name),inputs:e.inputs?e.inputs.map(zn.fromObject):[]};return VO(new Bl(Kd,r))}static fromString(e){let r={type:"error"},n=e.match(cy);return n||Tt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ay(r.name),r.inputs=oy(n[2],!1),VO(Bl.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function r0(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const bye=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ay(t){return(!t||!t.match(bye))&&Tt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const cy=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function _ye(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Tt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const BI=new ie(Xy);function wye(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class cu{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){BI.throwArgumentError(e,this.localName,r)}}class mN{constructor(e){de(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return as(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Kt(e._data))}writeBytes(e){let r=he(e);const n=r.length%this.wordSize;return n&&(r=Kt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=he(Ce.from(e));return r.length>this.wordSize&&BI.throwError("value out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Kt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class bw{constructor(e,r,n,i){de(this,"_data",he(e)),de(this,"wordSize",r||32),de(this,"_coerceFunc",n),de(this,"allowLoose",i),this._offset=0}get data(){return _e(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):bw.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:BI.throwError("data out-of-bounds",ie.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new bw(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Ce.from(this.readBytes(this.wordSize))}}class vye extends cu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Zt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Zt(cr(e.readValue().toHexString(),20))}}class Eye extends cu{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const g0=new ie(Xy);function $F(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||g0.throwError("cannot encode object for signature with missing names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&g0.throwError("cannot encode object for signature with duplicate names",ie.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else g0.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&g0.throwArgumentError("types/value length mismatch","tuple",r);let i=new mN(t.wordSize),s=new mN(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function LF(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===ie.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===ie.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Aye extends cu{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),g0.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return $F(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&g0.throwError("insufficient data length",ie.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Eye(this.coder));return e.coerce(this.name,LF(e,n))}}class xye extends cu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class FF extends cu{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=he(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Cye extends FF{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,_e(super.decode(e)))}}class Nye extends cu{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=he(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,_e(e.readBytes(this.size)))}}class Sye extends cu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Iye extends cu{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Ce.from(r),i=lw.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(WL).mul(qL)))&&this._throwError("value out-of-bounds",r)}else(n.lt(TI)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Tye extends FF{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,sn(r))}decode(e){return fp(super.decode(e))}}class Gb extends cu{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return $F(e,this.coders,r)}decode(e){return e.coerce(this.name,LF(e,this.coders))}}const Vb=new ie(Xy),Rye=new RegExp(/^bytes([0-9]*)$/),Pye=new RegExp(/^(u?int)([0-9]*)$/);class BF{constructor(e){de(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new vye(e.name);case"bool":return new xye(e.name);case"string":return new Tye(e.name);case"bytes":return new Cye(e.name);case"array":return new Aye(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Gb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Sye(e.name)}let r=e.type.match(Pye);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Vb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Iye(n/8,r[1]==="int",e.name)}if(r=e.type.match(Rye),r){let n=parseInt(r[1]);return(n===0||n>32)&&Vb.throwArgumentError("invalid bytes length","param",e),new Nye(n,e.name)}return Vb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new bw(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new mN(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(zn.from(i)));return new Gb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Vb.throwError("types/values length mismatch",ie.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(zn.from(o))),i=new Gb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(zn.from(o)));return new Gb(i,"_").decode(this._getReader(he(r),n))}}const jF=new BF,Vr=new ie(Xy);class HF extends co{}class qF extends co{}class Oye extends co{}class yN extends co{static isIndexed(e){return!!(e&&e._isIndexed)}}const Dye={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function KO(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class kye{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,de(this,"fragments",r.map(n=>qc.from(n)).filter(n=>n!=null)),de(this,"_abiCoder",Us(new.target,"getAbiCoder")()),de(this,"functions",{}),de(this,"errors",{}),de(this,"events",{}),de(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Vr.warn("duplicate definition - constructor");return}de(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Vr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||de(this,"deploy",Ka.from({payable:!1,type:"constructor"})),de(this,"_isInterface",!0)}format(e){e||(e=$t.full),e===$t.sighash&&Vr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===$t.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return jF}static getAddress(e){return Zt(e)}static getSighash(e){return wn(Za(e.format()),0,4)}static getEventTopic(e){return Za(e.format())}getFunction(e){if(yt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Vr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Vr.throwArgumentError("no matching function","name",n):i.length>1&&Vr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Ja.fromString(e).format()];return r||Vr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(yt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Vr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Vr.throwArgumentError("no matching event","name",n):i.length>1&&Vr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Fc.fromString(e).format()];return r||Vr.throwArgumentError("no matching event","signature",e),r}getError(e){if(yt(e)){const n=Us(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Vr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Vr.throwArgumentError("no matching error","name",n):i.length>1&&Vr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Ja.fromString(e).format()];return r||Vr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Us(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Us(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=he(r);return _e(n.slice(0,4))!==this.getSighash(e)&&Vr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",_e(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),_e(Kt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=he(r);return _e(n.slice(0,4))!==this.getSighash(e)&&Vr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",_e(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_e(Kt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=he(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=_e(n.slice(0,4)),u=Dye[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Vr.throwError("call revert exception"+s,ie.errors.CALL_EXCEPTION,{method:e.format(),data:_e(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),_e(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Vr.throwError("too many arguments for "+e.format(),ie.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Za(o):s.type==="bytes"?Vt(_e(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Ce.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),cr(_e(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Vr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Vr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Vr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Za(c));else if(o.type==="bytes")n.push(Vt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!yt(n[0],32)||n[0].toLowerCase()!==d)&&Vr.throwError("fragment/topic mismatch",ie.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(zn.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Kt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new yN({_isIndexed:!0,hash:null});else if(o[h])l[h]=new yN({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw KO(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw KO(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new qF({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ce.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new HF({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=_e(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Oye({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Mye=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:BF,ConstructorFragment:Ka,ErrorFragment:Bl,EventFragment:Fc,FormatTypes:$t,Fragment:qc,FunctionFragment:Ja,Indexed:yN,Interface:kye,LogDescription:HF,ParamType:zn,TransactionDescription:qF,checkResultErrors:wye,defaultAbiCoder:jF},Symbol.toStringTag,{value:"Module"})),Uye="logger/5.8.0";let JO=!1,YO=!1;const M1={debug:1,default:2,info:2,warning:3,error:4,off:5};let XO=M1.default,cx=null;function $ye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const QO=$ye();var bN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(bN||(bN={}));var Ra;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ra||(Ra={}));const ZO="0123456789abcdef";let tc=class Sn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();M1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(XO>M1[n])&&console.log.apply(console,r)}debug(...e){this._log(Sn.levels.DEBUG,e)}info(...e){this._log(Sn.levels.INFO,e)}warn(...e){this._log(Sn.levels.WARNING,e)}makeError(e,r,n){if(YO)return this.makeError("censored error",r,{});r||(r=Sn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=ZO[l[f]>>4],u+=ZO[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ra.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ra.CALL_EXCEPTION:case Ra.INSUFFICIENT_FUNDS:case Ra.MISSING_NEW:case Ra.NONCE_EXPIRED:case Ra.REPLACEMENT_UNDERPRICED:case Ra.TRANSACTION_REPLACED:case Ra.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Sn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){QO&&this.throwError("platform missing String.prototype.normalize",Sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:QO})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Sn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Sn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Sn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cx||(cx=new Sn(Uye)),cx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),JO){if(!e)return;this.globalLogger().throwError("error censorship permanent",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}YO=!!e,JO=!!r}static setLogLevel(e){const r=M1[e.toLowerCase()];if(r==null){Sn.globalLogger().warn("invalid log level - "+e);return}XO=r}static from(e){return new Sn(e)}};tc.errors=Ra;tc.levels=bN;const Lye="bytes/5.8.0",Pd=new tc(Lye);function WF(t){return!!t.toHexString}function Wg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Fye(t){return mf(t)&&!(t.length%2)||Pv(t)}function e8(t){return typeof t=="number"&&t==t&&t%1===0}function Pv(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!e8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!e8(r)||r<0||r>=256)return!1}return!0}function mp(t,e){if(e||(e={}),typeof t=="number"){Pd.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Wg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WF(t)&&(t=t.toHexString()),mf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Pd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Wg(new Uint8Array(n))}return Pv(t)?Wg(new Uint8Array(t)):Pd.throwArgumentError("invalid arrayify value","value",t)}function Bye(t){const e=t.map(i=>mp(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Wg(n)}function jye(t){let e=mp(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function mf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const lx="0123456789abcdef";function Ov(t,e){if(e||(e={}),typeof t=="number"){Pd.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=lx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WF(t))return t.toHexString();if(mf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Pd.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Pv(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=lx[(i&240)>>4]+lx[i&15]}return r}return Pd.throwArgumentError("invalid hexlify value","value",t)}function t8(t){if(typeof t!="string")t=Ov(t);else if(!mf(t)||t.length%2)return null;return(t.length-2)/2}function zF(t,e,r){return typeof t!="string"?t=Ov(t):(!mf(t)||t.length%2)&&Pd.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}const Hye="bignumber/5.8.0";var ly=re.BN;const Pl=new tc(Hye),ux={},r8=9007199254740991;let n8=!1,jI=class va{constructor(e,r){e!==ux&&Pl.throwError("cannot call constructor directly; use BigNumber.from",tc.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ws(wt(this).fromTwos(e))}toTwos(e){return ws(wt(this).toTwos(e))}abs(){return this._hex[0]==="-"?va.from(this._hex.substring(1)):this}add(e){return ws(wt(this).add(wt(e)))}sub(e){return ws(wt(this).sub(wt(e)))}div(e){return va.from(e).isZero()&&wo("division-by-zero","div"),ws(wt(this).div(wt(e)))}mul(e){return ws(wt(this).mul(wt(e)))}mod(e){const r=wt(e);return r.isNeg()&&wo("division-by-zero","mod"),ws(wt(this).umod(r))}pow(e){const r=wt(e);return r.isNeg()&&wo("negative-power","pow"),ws(wt(this).pow(r))}and(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&wo("unbound-bitwise-result","and"),ws(wt(this).and(r))}or(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&wo("unbound-bitwise-result","or"),ws(wt(this).or(r))}xor(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&wo("unbound-bitwise-result","xor"),ws(wt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&wo("negative-width","mask"),ws(wt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&wo("negative-width","shl"),ws(wt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&wo("negative-width","shr"),ws(wt(this).shrn(e))}eq(e){return wt(this).eq(wt(e))}lt(e){return wt(this).lt(wt(e))}lte(e){return wt(this).lte(wt(e))}gt(e){return wt(this).gt(wt(e))}gte(e){return wt(this).gte(wt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return wt(this).isZero()}toNumber(){try{return wt(this).toNumber()}catch{wo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Pl.throwError("this platform does not support BigInt",tc.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?n8||(n8=!0,Pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",tc.errors.UNEXPECTED_ARGUMENT,{}):Pl.throwError("BigNumber.toString does not accept parameters",tc.errors.UNEXPECTED_ARGUMENT,{})),wt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof va)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new va(ux,uy(e)):e.match(/^-?[0-9]+$/)?new va(ux,uy(new ly(e))):Pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&wo("underflow","BigNumber.from",e),(e>=r8||e<=-r8)&&wo("overflow","BigNumber.from",e),va.from(String(e));const r=e;if(typeof r=="bigint")return va.from(r.toString());if(Pv(r))return va.from(Ov(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return va.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(mf(n)||n[0]==="-"&&mf(n.substring(1))))return va.from(n)}return Pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function uy(t){if(typeof t!="string")return uy(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Pl.throwArgumentError("invalid hex","value",t),t=uy(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ws(t){return jI.from(uy(t))}function wt(t){const e=jI.from(t).toHexString();return e[0]==="-"?new ly("-"+e.substring(3),16):new ly(e.substring(2),16)}function wo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Pl.throwError(t,tc.errors.NUMERIC_FAULT,n)}function qye(t){return new ly(t,36).toString(16)}function Wye(t){return new ly(t,16).toString(36)}function HI(t){return"0x"+up.keccak_256(mp(t))}const zye="rlp/5.8.0",Gye=new tc(zye);function i8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function GF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(GF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=i8(n.length);return i.unshift(247+i.length),i.concat(n)}Fye(t)||Gye.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(mp(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=i8(e.length);return r.unshift(183+r.length),r.concat(e)}function Vye(t){return Ov(GF(t))}const Kye="address/5.7.0",Yu=new tc(Kye);function s8(t){mf(t,20)||Yu.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=mp(HI(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Jye=9007199254740991;function Yye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const qI={};for(let t=0;t<10;t++)qI[String(t)]=String(t);for(let t=0;t<26;t++)qI[String.fromCharCode(65+t)]=String(10+t);const o8=Math.floor(Yye(Jye));function VF(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>qI[n]).join("");for(;e.length>=o8;){let n=e.substring(0,o8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function yf(t){let e=null;if(typeof t!="string"&&Yu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=s8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Yu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==VF(t)&&Yu.throwArgumentError("bad icap checksum","address",t),e=qye(t.substring(4));e.length<40;)e="0"+e;e=s8("0x"+e)}else Yu.throwArgumentError("invalid address","address",t);return e}function Xye(t){try{return yf(t),!0}catch{}return!1}function Qye(t){let e=Wye(yf(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+VF("XE00"+e)+e}function Zye(t){let e=null;try{e=yf(t.from)}catch{Yu.throwArgumentError("missing from address","transaction",t)}const r=jye(mp(jI.from(t.nonce).toHexString()));return yf(zF(HI(Vye([e,r])),12))}function ebe(t,e,r){return t8(e)!==32&&Yu.throwArgumentError("salt must be 32 bytes","salt",e),t8(r)!==32&&Yu.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),yf(zF(HI(Bye(["0xff",yf(t),e,r])),12))}const tbe=Object.freeze(Object.defineProperty({__proto__:null,getAddress:yf,getContractAddress:Zye,getCreate2Address:ebe,getIcapAddress:Qye,isAddress:Xye},Symbol.toStringTag,{value:"Module"})),rbe="logger/5.8.0";let a8=!1,c8=!1;const U1={debug:1,default:2,info:2,warning:3,error:4,off:5};let l8=U1.default,fx=null;function nbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const u8=nbe();var _N;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(_N||(_N={}));var Pa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Pa||(Pa={}));const f8="0123456789abcdef";let WI=class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();U1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(l8>U1[n])&&console.log.apply(console,r)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,r,n){if(c8)return this.makeError("censored error",r,{});r||(r=In.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=f8[l[f]>>4],u+=f8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Pa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pa.CALL_EXCEPTION:case Pa.INSUFFICIENT_FUNDS:case Pa.MISSING_NEW:case Pa.NONCE_EXPIRED:case Pa.REPLACEMENT_UNDERPRICED:case Pa.TRANSACTION_REPLACED:case Pa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){u8&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return fx||(fx=new In(rbe)),fx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a8){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c8=!!e,a8=!!r}static setLogLevel(e){const r=U1[e.toLowerCase()];if(r==null){In.globalLogger().warn("invalid log level - "+e);return}l8=r}static from(e){return new In(e)}};WI.errors=Pa;WI.levels=_N;const ibe="bytes/5.8.0",dx=new WI(ibe);function sbe(t){return!!t.toHexString}function $1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return $1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function d8(t){return typeof t=="number"&&t==t&&t%1===0}function obe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!d8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!d8(r)||r<0||r>=256)return!1}return!0}function KF(t,e){if(e||(e={}),typeof t=="number"){dx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),$1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),sbe(t)&&(t=t.toHexString()),abe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return $1(new Uint8Array(n))}return obe(t)?$1(new Uint8Array(t)):dx.throwArgumentError("invalid arrayify value","value",t)}function abe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function cbe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return KF(e)}function lbe(t){t=KF(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const ube=Object.freeze(Object.defineProperty({__proto__:null,decode:cbe,encode:lbe},Symbol.toStringTag,{value:"Module"})),fbe="logger/5.8.0";let h8=!1,p8=!1;const L1={debug:1,default:2,info:2,warning:3,error:4,off:5};let g8=L1.default,hx=null;function dbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m8=dbe();var wN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(wN||(wN={}));var Oa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Oa||(Oa={}));const y8="0123456789abcdef";let zI=class Tn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();L1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g8>L1[n])&&console.log.apply(console,r)}debug(...e){this._log(Tn.levels.DEBUG,e)}info(...e){this._log(Tn.levels.INFO,e)}warn(...e){this._log(Tn.levels.WARNING,e)}makeError(e,r,n){if(p8)return this.makeError("censored error",r,{});r||(r=Tn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y8[l[f]>>4],u+=y8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Oa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Oa.CALL_EXCEPTION:case Oa.INSUFFICIENT_FUNDS:case Oa.MISSING_NEW:case Oa.NONCE_EXPIRED:case Oa.REPLACEMENT_UNDERPRICED:case Oa.TRANSACTION_REPLACED:case Oa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m8&&this.throwError("platform missing String.prototype.normalize",Tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hx||(hx=new Tn(fbe)),hx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p8=!!e,h8=!!r}static setLogLevel(e){const r=L1[e.toLowerCase()];if(r==null){Tn.globalLogger().warn("invalid log level - "+e);return}g8=r}static from(e){return new Tn(e)}};zI.errors=Oa;zI.levels=wN;const hbe="bytes/5.8.0",px=new zI(hbe);function pbe(t){return!!t.toHexString}function F1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return F1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function b8(t){return typeof t=="number"&&t==t&&t%1===0}function gbe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!b8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!b8(r)||r<0||r>=256)return!1}return!0}function _8(t,e){if(e||(e={}),typeof t=="number"){px.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),F1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pbe(t)&&(t=t.toHexString()),mbe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":px.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return F1(new Uint8Array(n))}return gbe(t)?F1(new Uint8Array(t)):px.throwArgumentError("invalid arrayify value","value",t)}function mbe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Kb(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let GI=class{constructor(e){Kb(this,"alphabet",e),Kb(this,"base",e.length),Kb(this,"_alphabetMap",{}),Kb(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=_8(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return _8(new Uint8Array(r.reverse()))}};const ybe=new GI("abcdefghijklmnopqrstuvwxyz234567"),bbe=new GI("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_be=Object.freeze(Object.defineProperty({__proto__:null,Base32:ybe,Base58:bbe,BaseX:GI},Symbol.toStringTag,{value:"Module"})),wbe="logger/5.8.0";let w8=!1,v8=!1;const B1={debug:1,default:2,info:2,warning:3,error:4,off:5};let E8=B1.default,gx=null;function vbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const A8=vbe();var vN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(vN||(vN={}));var Da;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Da||(Da={}));const x8="0123456789abcdef";let VI=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();B1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E8>B1[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if(v8)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=x8[l[f]>>4],u+=x8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Da.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Da.CALL_EXCEPTION:case Da.INSUFFICIENT_FUNDS:case Da.MISSING_NEW:case Da.NONCE_EXPIRED:case Da.REPLACEMENT_UNDERPRICED:case Da.TRANSACTION_REPLACED:case Da.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){A8&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:A8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return gx||(gx=new Rn(wbe)),gx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}v8=!!e,w8=!!r}static setLogLevel(e){const r=B1[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}E8=r}static from(e){return new Rn(e)}};VI.errors=Da;VI.levels=vN;const Ebe="bytes/5.7.0",nn=new VI(Ebe);function JF(t){return!!t.toHexString}function S0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return S0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function YF(t){return jo(t)&&!(t.length%2)||Dv(t)}function C8(t){return typeof t=="number"&&t==t&&t%1===0}function Dv(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!C8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!C8(r)||r<0||r>=256)return!1}return!0}function Od(t,e){if(e||(e={}),typeof t=="number"){nn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),S0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),JF(t)&&(t=t.toHexString()),jo(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":nn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return S0(new Uint8Array(n))}return Dv(t)?S0(new Uint8Array(t)):nn.throwArgumentError("invalid arrayify value","value",t)}function XF(t){const e=t.map(i=>Od(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),S0(n)}function Abe(t){let e=Od(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function QF(t,e){t=Od(t),t.length>e&&nn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),S0(r)}function jo(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const mx="0123456789abcdef";function mi(t,e){if(e||(e={}),typeof t=="number"){nn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=mx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),JF(t))return t.toHexString();if(jo(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":nn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Dv(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=mx[(i&240)>>4]+mx[i&15]}return r}return nn.throwArgumentError("invalid hexlify value","value",t)}function xbe(t){if(typeof t!="string")t=mi(t);else if(!jo(t)||t.length%2)return null;return(t.length-2)/2}function Cbe(t,e,r){return typeof t!="string"?t=mi(t):(!jo(t)||t.length%2)&&nn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Nbe(t){let e="0x";return t.forEach(r=>{e+=mi(r).substring(2)}),e}function Sbe(t){const e=ZF(mi(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function ZF(t){typeof t!="string"&&(t=mi(t)),jo(t)||nn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function j1(t,e){for(typeof t!="string"?t=mi(t):jo(t)||nn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&nn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function eB(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(YF(t)){let r=Od(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=mi(r.slice(0,32)),e.s=mi(r.slice(32,64))):r.length===65?(e.r=mi(r.slice(0,32)),e.s=mi(r.slice(32,64)),e.v=r[64]):nn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:nn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=mi(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=QF(Od(e._vs),32);e._vs=mi(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&nn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=mi(i);e.s==null?e.s=o:e.s!==o&&nn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?nn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&nn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!jo(e.r)?nn.throwArgumentError("signature missing or invalid r","signature",t):e.r=j1(e.r,32),e.s==null||!jo(e.s)?nn.throwArgumentError("signature missing or invalid s","signature",t):e.s=j1(e.s,32);const r=Od(e.s);r[0]>=128&&nn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=mi(r);e._vs&&(jo(e._vs)||nn.throwArgumentError("signature invalid _vs","signature",t),e._vs=j1(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&nn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Ibe(t){return t=eB(t),mi(XF([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Tbe=Object.freeze(Object.defineProperty({__proto__:null,arrayify:Od,concat:XF,hexConcat:Nbe,hexDataLength:xbe,hexDataSlice:Cbe,hexStripZeros:ZF,hexValue:Sbe,hexZeroPad:j1,hexlify:mi,isBytes:Dv,isBytesLike:YF,isHexString:jo,joinSignature:Ibe,splitSignature:eB,stripZeros:Abe,zeroPad:QF},Symbol.toStringTag,{value:"Module"})),Rbe="logger/5.8.0";let N8=!1,S8=!1;const H1={debug:1,default:2,info:2,warning:3,error:4,off:5};let I8=H1.default,yx=null;function Pbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const T8=Pbe();var EN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(EN||(EN={}));var ka;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ka||(ka={}));const R8="0123456789abcdef";let $s=class Pn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();H1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(I8>H1[n])&&console.log.apply(console,r)}debug(...e){this._log(Pn.levels.DEBUG,e)}info(...e){this._log(Pn.levels.INFO,e)}warn(...e){this._log(Pn.levels.WARNING,e)}makeError(e,r,n){if(S8)return this.makeError("censored error",r,{});r||(r=Pn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=R8[l[f]>>4],u+=R8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ka.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ka.CALL_EXCEPTION:case ka.INSUFFICIENT_FUNDS:case ka.MISSING_NEW:case ka.NONCE_EXPIRED:case ka.REPLACEMENT_UNDERPRICED:case ka.TRANSACTION_REPLACED:case ka.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Pn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){T8&&this.throwError("platform missing String.prototype.normalize",Pn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Pn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Pn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Pn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return yx||(yx=new Pn(Rbe)),yx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),N8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S8=!!e,N8=!!r}static setLogLevel(e){const r=H1[e.toLowerCase()];if(r==null){Pn.globalLogger().warn("invalid log level - "+e);return}I8=r}static from(e){return new Pn(e)}};$s.errors=ka;$s.levels=EN;const Obe="bytes/5.8.0",ef=new $s(Obe);function tB(t){return!!t.toHexString}function zg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return zg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function P8(t){return typeof t=="number"&&t==t&&t%1===0}function KI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!P8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!P8(r)||r<0||r>=256)return!1}return!0}function sl(t,e){if(e||(e={}),typeof t=="number"){ef.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),zg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),tB(t)&&(t=t.toHexString()),bf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":ef.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return zg(new Uint8Array(n))}return KI(t)?zg(new Uint8Array(t)):ef.throwArgumentError("invalid arrayify value","value",t)}function JI(t){const e=t.map(i=>sl(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),zg(n)}function bf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const bx="0123456789abcdef";function Sf(t,e){if(e||(e={}),typeof t=="number"){ef.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=bx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),tB(t))return t.toHexString();if(bf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ef.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(KI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=bx[(i&240)>>4]+bx[i&15]}return r}return ef.throwArgumentError("invalid hexlify value","value",t)}function q1(t){let e="0x";return t.forEach(r=>{e+=Sf(r).substring(2)}),e}function _w(t,e){for(typeof t!="string"?t=Sf(t):bf(t)||ef.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ef.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ya(t){return"0x"+up.keccak_256(sl(t))}const Dbe="bignumber/5.8.0";var ww=re.BN;const Ol=new $s(Dbe),_x={},O8=9007199254740991;let D8=!1,lu=class Ea{constructor(e,r){e!==_x&&Ol.throwError("cannot call constructor directly; use BigNumber.from",$s.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return vs(vt(this).fromTwos(e))}toTwos(e){return vs(vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ea.from(this._hex.substring(1)):this}add(e){return vs(vt(this).add(vt(e)))}sub(e){return vs(vt(this).sub(vt(e)))}div(e){return Ea.from(e).isZero()&&vo("division-by-zero","div"),vs(vt(this).div(vt(e)))}mul(e){return vs(vt(this).mul(vt(e)))}mod(e){const r=vt(e);return r.isNeg()&&vo("division-by-zero","mod"),vs(vt(this).umod(r))}pow(e){const r=vt(e);return r.isNeg()&&vo("negative-power","pow"),vs(vt(this).pow(r))}and(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&vo("unbound-bitwise-result","and"),vs(vt(this).and(r))}or(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&vo("unbound-bitwise-result","or"),vs(vt(this).or(r))}xor(e){const r=vt(e);return(this.isNegative()||r.isNeg())&&vo("unbound-bitwise-result","xor"),vs(vt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&vo("negative-width","mask"),vs(vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&vo("negative-width","shl"),vs(vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&vo("negative-width","shr"),vs(vt(this).shrn(e))}eq(e){return vt(this).eq(vt(e))}lt(e){return vt(this).lt(vt(e))}lte(e){return vt(this).lte(vt(e))}gt(e){return vt(this).gt(vt(e))}gte(e){return vt(this).gte(vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return vt(this).isZero()}toNumber(){try{return vt(this).toNumber()}catch{vo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ol.throwError("this platform does not support BigInt",$s.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?D8||(D8=!0,Ol.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ol.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",$s.errors.UNEXPECTED_ARGUMENT,{}):Ol.throwError("BigNumber.toString does not accept parameters",$s.errors.UNEXPECTED_ARGUMENT,{})),vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ea)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ea(_x,fy(e)):e.match(/^-?[0-9]+$/)?new Ea(_x,fy(new ww(e))):Ol.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&vo("underflow","BigNumber.from",e),(e>=O8||e<=-O8)&&vo("overflow","BigNumber.from",e),Ea.from(String(e));const r=e;if(typeof r=="bigint")return Ea.from(r.toString());if(KI(r))return Ea.from(Sf(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ea.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(bf(n)||n[0]==="-"&&bf(n.substring(1))))return Ea.from(n)}return Ol.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function fy(t){if(typeof t!="string")return fy(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ol.throwArgumentError("invalid hex","value",t),t=fy(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function vs(t){return lu.from(fy(t))}function vt(t){const e=lu.from(t).toHexString();return e[0]==="-"?new ww("-"+e.substring(3),16):new ww(e.substring(2),16)}function vo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ol.throwError(t,$s.errors.NUMERIC_FAULT,n)}function kbe(t){return new ww(t,36).toString(16)}const Mbe="strings/5.8.0",rB=new $s(Mbe);var dy;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(dy||(dy={}));var Xs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Xs||(Xs={}));function Ube(t,e,r,n,i){return rB.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function nB(t,e,r,n,i){if(t===Xs.BAD_PREFIX||t===Xs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Xs.OVERRUN?r.length-e-1:0}function $be(t,e,r,n,i){return t===Xs.OVERLONG?(n.push(i),0):(n.push(65533),nB(t,e,r))}const Lbe=Object.freeze({error:Ube,ignore:nB,replace:$be});function iB(t,e){e==null&&(e=Lbe.error),t=sl(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Xs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Xs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Xs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Xs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Xs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Xs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Xs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function I0(t,e=dy.current){e!=dy.current&&(rB.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return sl(r)}function Fbe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Bbe(t,e){return Fbe(iB(t,e))}function jbe(t,e=dy.current){return iB(I0(t,e))}function YI(t){return Ya(I0(t))}const sB="hash/5.7.0";function Hbe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return sl(e)}function oB(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function qbe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Wbe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let y=0;for(let D=0;D<f;D++)y=y<<1|u();let w=[],x=0,S=d;for(;;){let D=Math.floor(((y-x+1)*i-1)/S),P=0,F=n;for(;F-P>1;){let M=P+F>>>1;D<s[M]?F=M:P=M}if(P==0)break;w.push(P);let E=x+Math.floor(S*s[P]/i),v=x+Math.floor(S*s[P+1]/i)-1;for(;((E^v)&h)==0;)y=y<<1&g|u(),E=E<<1&g,v=v<<1&g|1;for(;E&~v&m;)y=y&h|y<<1&g>>>1|u(),E=E<<1^h,v=(v^h)<<1|h|1;x=E,S=1+v-E}let R=n-4;return w.map(D=>{switch(D-R){case 3:return R+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return R+256+(t[a++]<<8|t[a++]);case 1:return R+t[a++];default:return D-1}})}function zbe(t){let e=0;return()=>t[e++]}function Gbe(t){return zbe(Wbe(t))}function Vbe(t){return t&1?~t>>1:t>>1}function Kbe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function k8(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Jbe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Vbe(e());return r}function vw(t,e){let r=k8(t(),t),n=t(),i=k8(n,t),s=Kbe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function Ybe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Qbe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Zbe(r,t))}return qbe(oB(e))}function Xbe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function aB(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Jbe(t,r).forEach((s,o)=>n[o].push(s));return n}function Qbe(t,e){let r=1+e(),n=e(),i=Xbe(e),s=aB(i.length,1+t,e);return oB(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function Zbe(t,e){let r=1+e();return aB(r,1+t,e).map(i=>[i[0],i.slice(1)])}function e1e(t){let e=vw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=vw(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function t1e(){return Gbe(Hbe("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const kv=t1e(),r1e=new Set(vw(kv)),n1e=new Set(vw(kv)),i1e=Ybe(kv),s1e=e1e(kv),M8=45,U8=95;function cB(t){return jbe(t)}function o1e(t){return t.filter(e=>e!=65039)}function lB(t){for(let e of t.split(".")){let r=cB(e);try{for(let n=r.lastIndexOf(U8)-1;n>=0;n--)if(r[n]!==U8)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===M8&&r[3]===M8)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function a1e(t){return lB(c1e(t,o1e))}function c1e(t,e){let r=cB(t).reverse(),n=[];for(;r.length;){let i=u1e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(r1e.has(s)){n.push(s);continue}if(n1e.has(s))continue;let o=i1e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return lB(l1e(String.fromCodePoint(...n)))}function l1e(t){return t.normalize("NFC")}function u1e(t,e){var r;let n=s1e,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const f1e=new $s(sB),uB=new Uint8Array(32);uB.fill(0);function $8(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Mv(t){const e=I0(a1e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push($8(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push($8(e.slice(n))),r}function d1e(t){return Mv(t).map(e=>Bbe(e)).join(".")}function h1e(t){try{return Mv(t).length!==0}catch{}return!1}function p1e(t){typeof t!="string"&&f1e.throwArgumentError("invalid ENS name; not a string","name",t);let e=uB;const r=Mv(t);for(;r.length;)e=Ya(JI([e,Ya(r.pop())]));return Sf(e)}function g1e(t){return Sf(JI(Mv(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const fB=`Ethereum Signed Message:
`;function m1e(t){return typeof t=="string"&&(t=I0(t)),Ya(JI([I0(fB),I0(String(t.length)),t]))}const y1e="address/5.8.0",fg=new $s(y1e);function L8(t){bf(t,20)||fg.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=sl(Ya(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const b1e=9007199254740991;function _1e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const XI={};for(let t=0;t<10;t++)XI[String(t)]=String(t);for(let t=0;t<26;t++)XI[String.fromCharCode(65+t)]=String(10+t);const F8=Math.floor(_1e(b1e));function w1e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>XI[n]).join("");for(;e.length>=F8;){let n=e.substring(0,F8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function dB(t){let e=null;if(typeof t!="string"&&fg.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=L8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&fg.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==w1e(t)&&fg.throwArgumentError("bad icap checksum","address",t),e=kbe(t.substring(4));e.length<40;)e="0"+e;e=L8("0x"+e)}else fg.throwArgumentError("invalid address","address",t);return e}const v1e="properties/5.8.0",hB=new $s(v1e);function dg(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function B8(t){const e={};for(const r in t)e[r]=t[r];return e}const E1e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function pB(t){if(t==null||E1e[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!pB(n))return!1}return!0}return hB.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function A1e(t){if(pB(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>AN(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&dg(e,r,AN(n))}return e}return hB.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function AN(t){return A1e(t)}var x1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Yr=new $s(sB),gB=new Uint8Array(32);gB.fill(0);const C1e=lu.from(-1),mB=lu.from(0),yB=lu.from(1),N1e=lu.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function S1e(t){const e=sl(t),r=e.length%32;return r?q1([e,gB.slice(r)]):Sf(e)}const I1e=_w(yB.toHexString(),32),T1e=_w(mB.toHexString(),32),j8={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wx=["name","version","chainId","verifyingContract","salt"];function H8(t){return function(e){return typeof e!="string"&&Yr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const R1e={name:H8("name"),version:H8("version"),chainId:function(t){try{return lu.from(t).toString()}catch{}return Yr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return dB(t).toLowerCase()}catch{}return Yr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=sl(t);if(e.length!==32)throw new Error("bad length");return Sf(e)}catch{}return Yr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function vx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Yr.throwArgumentError("invalid numeric width","type",t);const i=N1e.mask(r?n-1:n),s=r?i.add(yB).mul(C1e):mB;return function(o){const a=lu.from(o);return(a.lt(s)||a.gt(i))&&Yr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),_w(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Yr.throwArgumentError("invalid bytes width","type",t),function(n){return sl(n).length!==r&&Yr.throwArgumentError(`invalid length for ${t}`,"value",n),S1e(n)}}}switch(t){case"address":return function(e){return _w(dB(e),32)};case"bool":return function(e){return e?I1e:T1e};case"bytes":return function(e){return Ya(e)};case"string":return function(e){return YI(e)}}return null}function q8(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Ro{constructor(e){dg(this,"types",Object.freeze(AN(e))),dg(this,"_encoderCache",{}),dg(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Yr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!vx(u)&&(n[u]||Yr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Yr.throwArgumentError("missing primary type","types",e):s.length>1&&Yr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),dg(this,"primaryType",s[0]);function o(a,c){c[a]&&Yr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=q8(a,e[a])+c.map(l=>q8(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=vx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Ya)),Ya(q1(c))}}const n=this.types[e];if(n){const i=YI(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Ya(l):l});return o.unshift(i),q1(o)}}return Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Yr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ya(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(vx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Yr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Yr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Ro(e)}static getPrimaryType(e){return Ro.from(e).primaryType}static hashStruct(e,r,n){return Ro.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=j8[n];i||Yr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>wx.indexOf(n.name)-wx.indexOf(i.name)),Ro.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return q1(["0x1901",Ro.hashDomain(e),Ro.from(r).hash(n)])}static hash(e,r,n){return Ya(Ro.encode(e,r,n))}static resolveNames(e,r,n,i){return x1e(this,void 0,void 0,function*(){e=B8(e);const s={};e.verifyingContract&&!bf(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ro.from(r);o.visit(n,(a,c)=>(a==="address"&&!bf(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Ro.hashDomain(e);const i={},s=[];wx.forEach(c=>{const l=e[c];l!=null&&(i[c]=R1e[c](l),s.push({name:c,type:j8[c]}))});const o=Ro.from(r),a=B8(r);return a.EIP712Domain?Yr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return Sf(sl(l));if(c.match(/^u?int/))return lu.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Yr.throwArgumentError("invalid string","value",l),l}return Yr.throwArgumentError("unsupported type","type",c)})}}}const P1e=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:Ro,dnsEncode:g1e,ensNormalize:d1e,hashMessage:m1e,id:YI,isValidName:h1e,messagePrefix:fB,namehash:p1e},Symbol.toStringTag,{value:"Module"})),O1e="logger/5.8.0";let W8=!1,z8=!1;const W1={debug:1,default:2,info:2,warning:3,error:4,off:5};let G8=W1.default,Ex=null;function D1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const V8=D1e();var xN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xN||(xN={}));var Ma;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ma||(Ma={}));const K8="0123456789abcdef";let qi=class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();W1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(G8>W1[n])&&console.log.apply(console,r)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,r,n){if(z8)return this.makeError("censored error",r,{});r||(r=On.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=K8[l[f]>>4],u+=K8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ma.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ma.CALL_EXCEPTION:case Ma.INSUFFICIENT_FUNDS:case Ma.MISSING_NEW:case Ma.NONCE_EXPIRED:case Ma.REPLACEMENT_UNDERPRICED:case Ma.TRANSACTION_REPLACED:case Ma.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){V8&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:V8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ex||(Ex=new On(O1e)),Ex}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),W8){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}z8=!!e,W8=!!r}static setLogLevel(e){const r=W1[e.toLowerCase()];if(r==null){On.globalLogger().warn("invalid log level - "+e);return}G8=r}static from(e){return new On(e)}};qi.errors=Ma;qi.levels=xN;const k1e="bytes/5.8.0",an=new qi(k1e);function bB(t){return!!t.toHexString}function T0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return T0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function M1e(t){return Ho(t)&&!(t.length%2)||Uv(t)}function J8(t){return typeof t=="number"&&t==t&&t%1===0}function Uv(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!J8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!J8(r)||r<0||r>=256)return!1}return!0}function xt(t,e){if(e||(e={}),typeof t=="number"){an.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),T0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),bB(t)&&(t=t.toHexString()),Ho(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":an.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return T0(new Uint8Array(n))}return Uv(t)?T0(new Uint8Array(t)):an.throwArgumentError("invalid arrayify value","value",t)}function CN(t){const e=t.map(i=>xt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),T0(n)}function U1e(t,e){t=xt(t),t.length>e&&an.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),T0(r)}function Ho(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ax="0123456789abcdef";function fr(t,e){if(e||(e={}),typeof t=="number"){an.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Ax[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),bB(t))return t.toHexString();if(Ho(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":an.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Uv(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Ax[(i&240)>>4]+Ax[i&15]}return r}return an.throwArgumentError("invalid hexlify value","value",t)}function $1e(t){if(typeof t!="string")t=fr(t);else if(!Ho(t)||t.length%2)return null;return(t.length-2)/2}function Ew(t,e,r){return typeof t!="string"?t=fr(t):(!Ho(t)||t.length%2)&&an.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function tf(t,e){for(typeof t!="string"?t=fr(t):Ho(t)||an.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&an.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function L1e(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(M1e(t)){let r=xt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=fr(r.slice(0,32)),e.s=fr(r.slice(32,64))):r.length===65?(e.r=fr(r.slice(0,32)),e.s=fr(r.slice(32,64)),e.v=r[64]):an.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:an.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=fr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=U1e(xt(e._vs),32);e._vs=fr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&an.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=fr(i);e.s==null?e.s=o:e.s!==o&&an.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?an.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&an.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ho(e.r)?an.throwArgumentError("signature missing or invalid r","signature",t):e.r=tf(e.r,32),e.s==null||!Ho(e.s)?an.throwArgumentError("signature missing or invalid s","signature",t):e.s=tf(e.s,32);const r=xt(e.s);r[0]>=128&&an.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=fr(r);e._vs&&(Ho(e._vs)||an.throwArgumentError("signature invalid _vs","signature",t),e._vs=tf(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&an.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function pr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class _B{constructor(e){pr(this,"alphabet",e),pr(this,"base",e.length),pr(this,"_alphabetMap",{}),pr(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=xt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return xt(new Uint8Array(r.reverse()))}}new _B("abcdefghijklmnopqrstuvwxyz234567");const wB=new _B("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),F1e="bignumber/5.8.0";var Aw=re.BN;const Dl=new qi(F1e),xx={},Y8=9007199254740991;let X8=!1,$v=class Aa{constructor(e,r){e!==xx&&Dl.throwError("cannot call constructor directly; use BigNumber.from",qi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Es(Et(this).fromTwos(e))}toTwos(e){return Es(Et(this).toTwos(e))}abs(){return this._hex[0]==="-"?Aa.from(this._hex.substring(1)):this}add(e){return Es(Et(this).add(Et(e)))}sub(e){return Es(Et(this).sub(Et(e)))}div(e){return Aa.from(e).isZero()&&Eo("division-by-zero","div"),Es(Et(this).div(Et(e)))}mul(e){return Es(Et(this).mul(Et(e)))}mod(e){const r=Et(e);return r.isNeg()&&Eo("division-by-zero","mod"),Es(Et(this).umod(r))}pow(e){const r=Et(e);return r.isNeg()&&Eo("negative-power","pow"),Es(Et(this).pow(r))}and(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Eo("unbound-bitwise-result","and"),Es(Et(this).and(r))}or(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Eo("unbound-bitwise-result","or"),Es(Et(this).or(r))}xor(e){const r=Et(e);return(this.isNegative()||r.isNeg())&&Eo("unbound-bitwise-result","xor"),Es(Et(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Eo("negative-width","mask"),Es(Et(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Eo("negative-width","shl"),Es(Et(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Eo("negative-width","shr"),Es(Et(this).shrn(e))}eq(e){return Et(this).eq(Et(e))}lt(e){return Et(this).lt(Et(e))}lte(e){return Et(this).lte(Et(e))}gt(e){return Et(this).gt(Et(e))}gte(e){return Et(this).gte(Et(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Et(this).isZero()}toNumber(){try{return Et(this).toNumber()}catch{Eo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Dl.throwError("this platform does not support BigInt",qi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?X8||(X8=!0,Dl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Dl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",qi.errors.UNEXPECTED_ARGUMENT,{}):Dl.throwError("BigNumber.toString does not accept parameters",qi.errors.UNEXPECTED_ARGUMENT,{})),Et(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Aa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Aa(xx,hy(e)):e.match(/^-?[0-9]+$/)?new Aa(xx,hy(new Aw(e))):Dl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Eo("underflow","BigNumber.from",e),(e>=Y8||e<=-Y8)&&Eo("overflow","BigNumber.from",e),Aa.from(String(e));const r=e;if(typeof r=="bigint")return Aa.from(r.toString());if(Uv(r))return Aa.from(fr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Aa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ho(n)||n[0]==="-"&&Ho(n.substring(1))))return Aa.from(n)}return Dl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function hy(t){if(typeof t!="string")return hy(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Dl.throwArgumentError("invalid hex","value",t),t=hy(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Es(t){return $v.from(hy(t))}function Et(t){const e=$v.from(t).toHexString();return e[0]==="-"?new Aw("-"+e.substring(3),16):new Aw(e.substring(2),16)}function Eo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Dl.throwError(t,qi.errors.NUMERIC_FAULT,n)}function B1e(t){return new Aw(t,36).toString(16)}const j1e="strings/5.8.0",H1e=new qi(j1e);var K0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(K0||(K0={}));var Q8;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Q8||(Q8={}));function xw(t,e=K0.current){e!=K0.current&&(H1e.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return xt(r)}var py;(function(t){t.sha256="sha256",t.sha512="sha512"})(py||(py={}));const q1e="sha2/5.8.0",W1e=new qi(q1e);function z1e(t){return"0x"+Ze.ripemd160().update(xt(t)).digest("hex")}function gy(t){return"0x"+Ze.sha256().update(xt(t)).digest("hex")}function Cw(t,e,r){return py[t]||W1e.throwError("unsupported algorithm "+t,qi.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ze.hmac(Ze[t],xt(e)).update(xt(r)).digest("hex")}function G1e(t,e,r,n,i){t=xt(t),e=xt(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=xt(Cw(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=xt(Cw(i,t,d));for(let y=0;y<s;y++)u[y]^=d[y]}const h=(f-1)*s,m=f===o?l:s;a.set(xt(u).slice(0,m),h)}return fr(a)}function yp(t,e,r){return r={path:e,exports:{},require:function(n,i){return V1e(n,i??r.path)}},t(r,r.exports),r.exports}function V1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var QI=vB;function vB(t,e){if(!t)throw new Error(e||"Assertion failed")}vB.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var rc=yp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),uo=yp(function(t,e){var r=e;r.assert=QI,r.toArray=rc.toArray,r.zero2=rc.zero2,r.toHex=rc.toHex,r.encode=rc.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,y=m.andln(h-1);m.isOdd()?(y>(h>>1)-1?g=(h>>1)-y:g=y,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var y;(m&1)===0?y=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?y=-m:y=m),u[0].push(y);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===y+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new re(c,"hex","le")}r.intFromLE=a}),Nw=uo.getNAF,K1e=uo.getJSF,Sw=uo.assert;function If(t,e){this.type=t,this.p=new re(e.p,16),this.red=e.prime?re.red(e.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=e.n&&new re(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ch=If;If.prototype.point=function(){throw new Error("Not implemented")};If.prototype.validate=function(){throw new Error("Not implemented")};If.prototype._fixedNafMul=function(e,r){Sw(e.precomputed);var n=e._getDoubles(),i=Nw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};If.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Nw(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Sw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};If.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=Nw(n[m],o[m],this._bitLength),c[g]=Nw(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var y=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(y[1]=r[m].add(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].add(r[g].neg())):(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=K1e(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,R=x[1][f]|0;c[m][f]=w[(S+1)*3+(R+1)],c[g][f]=0,a[m]=y}}var D=this.jpoint(null,null,null),P=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var E=!0;for(f=0;f<i;f++)P[f]=c[f][u]|0,P[f]!==0&&(E=!1);if(!E)break;F++,u--}if(u>=0&&F++,D=D.dblp(F),u<0)break;for(f=0;f<i;f++){var v=P[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?D=D.mixedAdd(d):D=D.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?D:D.toP()};function na(t,e){this.curve=t,this.type=e,this.precomputed=null}If.BasePoint=na;na.prototype.eq=function(){throw new Error("Not implemented")};na.prototype.validate=function(){return this.curve.validate(this)};If.prototype.decodePoint=function(e,r){e=uo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Sw(e[e.length-1]%2===0):e[0]===7&&Sw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};na.prototype.encodeCompressed=function(e){return this.encode(e,!0)};na.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};na.prototype.encode=function(e,r){return uo.encode(this._encode(r),e)};na.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};na.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};na.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};na.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};na.prototype._getBeta=function(){return null};na.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var ZI=yp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),J1e=uo.assert;function ia(t){ch.call(this,"short",t),this.a=new re(t.a,16).toRed(this.red),this.b=new re(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ZI(ia,ch);var Y1e=ia;ia.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new re(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],J1e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new re(a.a,16),b:new re(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ia.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:re.mont(e),n=new re(2).toRed(r).redInvm(),i=n.redNeg(),s=new re(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ia.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new re(1),o=new re(0),a=new re(0),c=new re(1),l,u,f,d,h,m,g,y=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var R=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++y===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=R}h=w.neg(),m=x;var D=f.sqr().add(d.sqr()),P=h.sqr().add(m.sqr());return P.cmp(D)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};ia.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};ia.prototype.pointFromX=function(e,r){e=new re(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ia.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ia.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function oi(t,e,r,n){ch.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(e,16),this.y=new re(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ZI(oi,ch.BasePoint);ia.prototype.point=function(e,r,n){return new oi(this,e,r,n)};ia.prototype.pointFromJSON=function(e,r){return oi.fromJSON(this,e,r)};oi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};oi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};oi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};oi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};oi.prototype.isInfinity=function(){return this.inf};oi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};oi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};oi.prototype.getX=function(){return this.x.fromRed()};oi.prototype.getY=function(){return this.y.fromRed()};oi.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};oi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};oi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};oi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};oi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};oi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ci(t,e,r,n){ch.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(e,16),this.y=new re(r,16),this.z=new re(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ZI(Ci,ch.BasePoint);ia.prototype.jpoint=function(e,r,n){return new Ci(this,e,r,n)};Ci.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Ci.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ci.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};Ci.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};Ci.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=y,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};Ci.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ci.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),y=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ci.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};Ci.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};Ci.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};Ci.prototype.mul=function(e,r){return e=new re(e,r),this.curve._wnafMul(this,e)};Ci.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ci.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Ci.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ci.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var z1=yp(function(t,e){var r=e;r.base=ch,r.short=Y1e,r.mont=null,r.edwards=null}),G1=yp(function(t,e){var r=e,n=uo.assert;function i(a){a.type==="short"?this.curve=new z1.short(a):a.type==="edwards"?this.curve=new z1.edwards(a):this.curve=new z1.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ze.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ze.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ze.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ze.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ze.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ze.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function _f(t){if(!(this instanceof _f))return new _f(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=rc.toArray(t.entropy,t.entropyEnc||"hex"),r=rc.toArray(t.nonce,t.nonceEnc||"hex"),n=rc.toArray(t.pers,t.persEnc||"hex");QI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var EB=_f;_f.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};_f.prototype._hmac=function(){return new Ze.hmac(this.hash,this.K)};_f.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};_f.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=rc.toArray(e,r),n=rc.toArray(n,i),QI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};_f.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=rc.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,rc.encode(o,r)};var NN=uo.assert;function zi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var e3=zi;zi.fromPublic=function(e,r,n){return r instanceof zi?r:new zi(e,{pub:r,pubEnc:n})};zi.fromPrivate=function(e,r,n){return r instanceof zi?r:new zi(e,{priv:r,privEnc:n})};zi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};zi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};zi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};zi.prototype._importPrivate=function(e,r){this.priv=new re(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};zi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?NN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&NN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};zi.prototype.derive=function(e){return e.validate()||NN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};zi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};zi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};zi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var X1e=uo.assert;function Lv(t,e){if(t instanceof Lv)return t;this._importDER(t,e)||(X1e(t.r&&t.s,"Signature without r or s"),this.r=new re(t.r,16),this.s=new re(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Fv=Lv;function Q1e(){this.place=0}function Cx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Z8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Lv.prototype._importDER=function(e,r){e=uo.toArray(e,r);var n=new Q1e;if(e[n.place++]!==48)return!1;var i=Cx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Cx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Cx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new re(o),this.s=new re(c),this.recoveryParam=null,!0};function Nx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Lv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Z8(r),n=Z8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Nx(i,r.length),i=i.concat(r),i.push(2),Nx(i,n.length);var s=i.concat(n),o=[48];return Nx(o,s.length),o=o.concat(s),uo.encode(o,e)};var Z1e=(function(){throw new Error("unsupported")}),hd=uo.assert;function Jo(t){if(!(this instanceof Jo))return new Jo(t);typeof t=="string"&&(hd(Object.prototype.hasOwnProperty.call(G1,t),"Unknown curve "+t),t=G1[t]),t instanceof G1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var e_e=Jo;Jo.prototype.keyPair=function(e){return new e3(this,e)};Jo.prototype.keyFromPrivate=function(e,r){return e3.fromPrivate(this,e,r)};Jo.prototype.keyFromPublic=function(e,r){return e3.fromPublic(this,e,r)};Jo.prototype.genKeyPair=function(e){e||(e={});for(var r=new EB({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Z1e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new re(2));;){var s=new re(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Jo.prototype._truncateToN=function(e,r,n){var i;if(re.isBN(e)||typeof e=="number")e=new re(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new re(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new re(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Jo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!re.isBN(e)){hd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),hd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)hd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),hd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);hd(new re(c).eq(e),"Can not sign message");for(var l=new EB({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new re(1)),f=0;;f++){var d=i.k?i.k(f):new re(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new Fv({r:g,s:y,recoveryParam:w})}}}}}};Jo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Fv(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Jo.prototype.recoverPubKey=function(t,e,r,n){hd((3&r)===r,"The recovery param is more than two bits"),e=new Fv(e,n);var i=this.n,s=new re(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Jo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Fv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var t_e=yp(function(t,e){var r=e;r.version="6.6.1",r.utils=uo,r.rand=(function(){throw new Error("unsupported")}),r.curve=z1,r.curves=G1,r.ec=e_e,r.eddsa=null}),r_e=t_e.ec;const n_e="signing-key/5.8.0",SN=new qi(n_e);let Sx=null;function sd(){return Sx||(Sx=new r_e("secp256k1")),Sx}let IN=class{constructor(e){pr(this,"curve","secp256k1"),pr(this,"privateKey",fr(e)),$1e(this.privateKey)!==32&&SN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=sd().keyFromPrivate(xt(this.privateKey));pr(this,"publicKey","0x"+r.getPublic(!1,"hex")),pr(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),pr(this,"_isSigningKey",!0)}_addPoint(e){const r=sd().keyFromPublic(xt(this.publicKey)),n=sd().keyFromPublic(xt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=sd().keyFromPrivate(xt(this.privateKey)),n=xt(e);n.length!==32&&SN.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return L1e({recoveryParam:i.recoveryParam,r:tf("0x"+i.r.toString(16),32),s:tf("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=sd().keyFromPrivate(xt(this.privateKey)),n=sd().keyFromPublic(xt(AB(e)));return tf("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function AB(t,e){const r=xt(t);return r.length===32?new IN(r).publicKey:r.length===33?"0x"+sd().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?fr(r):SN.throwArgumentError("invalid public or private key","key","[REDACTED]")}function t3(t){return"0x"+up.keccak_256(xt(t))}const i_e="address/5.8.0",hg=new qi(i_e);function e4(t){Ho(t,20)||hg.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=xt(t3(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const s_e=9007199254740991;function o_e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const r3={};for(let t=0;t<10;t++)r3[String(t)]=String(t);for(let t=0;t<26;t++)r3[String.fromCharCode(65+t)]=String(10+t);const t4=Math.floor(o_e(s_e));function a_e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>r3[n]).join("");for(;e.length>=t4;){let n=e.substring(0,t4);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function c_e(t){let e=null;if(typeof t!="string"&&hg.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=e4(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&hg.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==a_e(t)&&hg.throwArgumentError("bad icap checksum","address",t),e=B1e(t.substring(4));e.length<40;)e="0"+e;e=e4("0x"+e)}else hg.throwArgumentError("invalid address","address",t);return e}var r4;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(r4||(r4={}));function l_e(t){const e=AB(t);return c_e(Ew(t3(Ew(e,1)),12))}function u_e(t){return t3(xw(t))}const f_e="wordlists/5.8.0",d_e=new qi(f_e);class Qy{constructor(e){d_e.checkAbstract(new.target,Qy),pr(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return u_e(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const h_e="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Gg=null;function n4(t){if(Gg==null&&(Gg=h_e.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Qy.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Gg=null,new Error("BIP39 Wordlist for en (English) FAILED")}class p_e extends Qy{constructor(){super("en")}getWord(e){return n4(this),Gg[e]}getWordIndex(e){return n4(this),Gg.indexOf(e)}}const xB=new p_e;Qy.register(xB);const i4={en:xB},g_e="hdnode/5.7.0",my=new qi(g_e),m_e=$v.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y_e=xw("Bitcoin seed"),n0=2147483648;function CB(t){return(1<<t)-1<<8-t}function b_e(t){return(1<<t)-1}function Jb(t){return tf(fr(t),32)}function s4(t){return wB.encode(CN([t,Ew(gy(gy(t)),0,4)]))}function n3(t){if(t==null)return i4.en;if(typeof t=="string"){const e=i4[t];return e==null&&my.throwArgumentError("unknown locale","wordlist",t),e}return t}const Fh={},__e="m/44'/60'/0'/0/0";class kl{constructor(e,r,n,i,s,o,a,c){if(e!==Fh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new IN(r);pr(this,"privateKey",l.privateKey),pr(this,"publicKey",l.compressedPublicKey)}else pr(this,"privateKey",null),pr(this,"publicKey",fr(n));pr(this,"parentFingerprint",i),pr(this,"fingerprint",Ew(z1e(gy(this.publicKey)),0,4)),pr(this,"address",l_e(this.publicKey)),pr(this,"chainCode",s),pr(this,"index",o),pr(this,"depth",a),c==null?(pr(this,"mnemonic",null),pr(this,"path",null)):typeof c=="string"?(pr(this,"mnemonic",null),pr(this,"path",c)):(pr(this,"mnemonic",c),pr(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return s4(CN([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",fr(this.depth),this.parentFingerprint,tf(fr(this.index),4),this.chainCode,this.privateKey!=null?CN(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new kl(Fh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~n0));const n=new Uint8Array(37);if(e&n0){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(xt(this.privateKey),1),r&&(r+="'")}else n.set(xt(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=xt(Cw(py.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Jb($v.from(s).add(this.privateKey).mod(m_e)):c=new IN(fr(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new kl(Fh,a,c,this.fingerprint,Jb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=n0)throw new Error("invalid path index - "+s);n=n._derive(n0+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=n0)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=xt(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=xt(Cw(py.sha512,y_e,n));return new kl(Fh,Jb(i.slice(0,32)),null,"0x00000000",Jb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=n3(n),e=SB(i3(e,n),n),kl._fromSeed(NB(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return kl._fromSeed(e,null)}static fromExtendedKey(e){const r=wB.decode(e);(r.length!==82||s4(r.slice(0,78))!==e)&&my.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=fr(r.slice(5,9)),s=parseInt(fr(r.slice(9,13)).substring(2),16),o=fr(r.slice(13,45)),a=r.slice(45,78);switch(fr(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new kl(Fh,null,fr(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new kl(Fh,fr(a.slice(1)),null,i,o,s,n,null)}return my.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function NB(t,e){e||(e="");const r=xw("mnemonic"+e,K0.NFKD);return G1e(xw(t,K0.NFKD),r,2048,64,"sha512")}function i3(t,e){e=n3(e),my.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=xt(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=CB(o);if((xt(gy(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return fr(n.slice(0,s/8))}function SB(t,e){if(e=n3(e),t=xt(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&b_e(8-n)),n+=3);const i=t.length/4,s=xt(gy(t))[0]&CB(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function w_e(t,e){try{return i3(t,e),!0}catch{}return!1}function v_e(t){return(typeof t!="number"||t<0||t>=n0||t%1)&&my.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const E_e=Object.freeze(Object.defineProperty({__proto__:null,HDNode:kl,defaultPath:__e,entropyToMnemonic:SB,getAccountPath:v_e,isValidMnemonic:w_e,mnemonicToEntropy:i3,mnemonicToSeed:NB},Symbol.toStringTag,{value:"Module"})),IB="json-wallets/5.7.0";function Dd(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),he(t)}function Kp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function s3(t){return typeof t=="string"?sn(t,iu.NFKC):he(t)}function dn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function A_e(t){const e=he(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=_e(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const x_e=new ie(IB);class C_e extends co{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function o3(t,e){const r=JSON.parse(t);e=s3(e);const n=Zt(dn(r,"ethaddr")),i=Dd(dn(r,"encseed"));(!i||i.length%16!==0)&&x_e.throwArgumentError("invalid encseed","json",t);const s=he(Yy(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new An.ModeOfOperation.cbc(s,o),l=An.padding.pkcs7.strip(he(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=sn(u),d=Vt(f);return new C_e({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function Bv(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function jv(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function N_e(t){if(Bv(t))try{return Zt(JSON.parse(t).ethaddr)}catch{return null}if(jv(t))try{return Zt(JSON.parse(t).address)}catch{return null}return null}var S_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const TN=new ie(IB);function o4(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class I_e extends co{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function T_e(t,e,r){if(dn(t,"crypto/cipher")==="aes-128-ctr"){const i=Dd(dn(t,"crypto/cipherparams/iv")),s=new An.Counter(i),o=new An.ModeOfOperation.ctr(e,s);return he(o.decrypt(r))}return null}function TB(t,e){const r=Dd(dn(t,"crypto/ciphertext"));if(_e(Vt(Kt([e.slice(16,32),r]))).substring(2)!==dn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=T_e(t,e.slice(0,16),r);i||TN.throwError("unsupported cipher",ie.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Jl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Zt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:_e(i)};if(dn(t,"x-ethers/version")==="0.1"){const c=Dd(dn(t,"x-ethers/mnemonicCiphertext")),l=Dd(dn(t,"x-ethers/mnemonicCounter")),u=new An.Counter(l),f=new An.ModeOfOperation.ctr(s,u),d=dn(t,"x-ethers/path")||gf,h=dn(t,"x-ethers/locale")||"en",m=he(f.decrypt(c));try{const g=Tv(m,h),y=V0.fromMnemonic(g,null,h).derivePath(d);if(y.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=y.mnemonic}catch(g){if(g.code!==ie.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new I_e(a)}function RB(t,e,r,n,i){return he(Yy(t,e,r,n,i))}function R_e(t,e,r,n,i){return Promise.resolve(RB(t,e,r,n,i))}function PB(t,e,r,n,i){const s=s3(e),o=dn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return TN.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=Dd(dn(t,"crypto/kdfparams/salt")),l=parseInt(dn(t,"crypto/kdfparams/n")),u=parseInt(dn(t,"crypto/kdfparams/r")),f=parseInt(dn(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(dn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Dd(dn(t,"crypto/kdfparams/salt"));let l=null;const u=dn(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(dn(t,"crypto/kdfparams/c")),d=parseInt(dn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return TN.throwArgumentError("unsupported key-derivation function","kdf",o)}function OB(t,e){const r=JSON.parse(t),n=PB(r,e,RB,gp.syncScrypt);return TB(r,n)}function DB(t,e,r){return S_e(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield PB(n,e,R_e,gp.scrypt,r);return TB(n,i)})}function P_e(t,e,r,n){try{if(Zt(t.address)!==Jl(t.privateKey))throw new Error("address/privateKey mismatch");if(o4(t)){const y=t.mnemonic;if(V0.fromMnemonic(y.phrase,null,y.locale).derivePath(y.path||gf).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=he(t.privateKey),s=s3(e);let o=null,a=null,c=null;if(o4(t)){const y=t.mnemonic;o=he($I(y.phrase,y.locale||"en")),a=y.path||gf,c=y.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=he(r.salt):u=ql(32);let f=null;if(r.iv){if(f=he(r.iv),f.length!==16)throw new Error("invalid iv")}else f=ql(16);let d=null;if(r.uuid){if(d=he(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=ql(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),gp.scrypt(s,u,h,m,g,64,n).then(y=>{y=he(y);const w=y.slice(0,16),x=y.slice(16,32),S=y.slice(32,64),R=new An.Counter(f),D=new An.ModeOfOperation.ctr(w,R),P=he(D.encrypt(i)),F=Vt(Kt([x,P])),E={address:t.address.substring(2).toLowerCase(),id:A_e(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:_e(f).substring(2)},ciphertext:_e(P).substring(2),kdf:"scrypt",kdfparams:{salt:_e(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=ql(16),M=new An.Counter(v),U=new An.ModeOfOperation.ctr(S,M),I=he(U.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Kp(C.getUTCMonth()+1,2)+"-"+Kp(C.getUTCDate(),2)+"T"+Kp(C.getUTCHours(),2)+"-"+Kp(C.getUTCMinutes(),2)+"-"+Kp(C.getUTCSeconds(),2)+".0Z";E["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+E.address,mnemonicCounter:_e(v).substring(2),mnemonicCiphertext:_e(I).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(E)})}function O_e(t,e,r){if(Bv(t)){r&&r(0);const n=o3(t,e);return r&&r(1),Promise.resolve(n)}return jv(t)?DB(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function D_e(t,e){if(Bv(t))return o3(t,e);if(jv(t))return OB(t,e);throw new Error("invalid JSON wallet")}const k_e=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:o3,decryptJsonWallet:O_e,decryptJsonWalletSync:D_e,decryptKeystore:DB,decryptKeystoreSync:OB,encryptKeystore:P_e,getJsonWalletAddress:N_e,isCrowdsaleWallet:Bv,isKeystoreWallet:jv},Symbol.toStringTag,{value:"Module"})),M_e="logger/5.8.0";let a4=!1,c4=!1;const V1={debug:1,default:2,info:2,warning:3,error:4,off:5};let l4=V1.default,Ix=null;function U_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const u4=U_e();var RN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(RN||(RN={}));var Ua;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ua||(Ua={}));const f4="0123456789abcdef";let a3=class Dn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();V1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(l4>V1[n])&&console.log.apply(console,r)}debug(...e){this._log(Dn.levels.DEBUG,e)}info(...e){this._log(Dn.levels.INFO,e)}warn(...e){this._log(Dn.levels.WARNING,e)}makeError(e,r,n){if(c4)return this.makeError("censored error",r,{});r||(r=Dn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=f4[l[f]>>4],u+=f4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ua.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ua.CALL_EXCEPTION:case Ua.INSUFFICIENT_FUNDS:case Ua.MISSING_NEW:case Ua.NONCE_EXPIRED:case Ua.REPLACEMENT_UNDERPRICED:case Ua.TRANSACTION_REPLACED:case Ua.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Dn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){u4&&this.throwError("platform missing String.prototype.normalize",Dn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Dn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Dn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Dn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ix||(Ix=new Dn(M_e)),Ix}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c4=!!e,a4=!!r}static setLogLevel(e){const r=V1[e.toLowerCase()];if(r==null){Dn.globalLogger().warn("invalid log level - "+e);return}l4=r}static from(e){return new Dn(e)}};a3.errors=Ua;a3.levels=RN;const $_e="bytes/5.8.0",Tx=new a3($_e);function L_e(t){return!!t.toHexString}function K1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return K1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function d4(t){return typeof t=="number"&&t==t&&t%1===0}function F_e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!d4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!d4(r)||r<0||r>=256)return!1}return!0}function B_e(t,e){if(e||(e={}),typeof t=="number"){Tx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),K1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),L_e(t)&&(t=t.toHexString()),j_e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Tx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return K1(new Uint8Array(n))}return F_e(t)?K1(new Uint8Array(t)):Tx.throwArgumentError("invalid arrayify value","value",t)}function j_e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function H_e(t){return"0x"+up.keccak_256(B_e(t))}const q_e=Object.freeze(Object.defineProperty({__proto__:null,keccak256:H_e},Symbol.toStringTag,{value:"Module"})),W_e="logger/5.7.0";let h4=!1,p4=!1;const J1={debug:1,default:2,info:2,warning:3,error:4,off:5};let g4=J1.default,Rx=null;function z_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m4=z_e();var Iw;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Iw||(Iw={}));var Do;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Do||(Do={}));const y4="0123456789abcdef";let c3=class kn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();J1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g4>J1[n])&&console.log.apply(console,r)}debug(...e){this._log(kn.levels.DEBUG,e)}info(...e){this._log(kn.levels.INFO,e)}warn(...e){this._log(kn.levels.WARNING,e)}makeError(e,r,n){if(p4)return this.makeError("censored error",r,{});r||(r=kn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y4[l[f]>>4],u+=y4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Do.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Do.CALL_EXCEPTION:case Do.INSUFFICIENT_FUNDS:case Do.MISSING_NEW:case Do.NONCE_EXPIRED:case Do.REPLACEMENT_UNDERPRICED:case Do.TRANSACTION_REPLACED:case Do.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,kn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m4&&this.throwError("platform missing String.prototype.normalize",kn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,kn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,kn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",kn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Rx||(Rx=new kn(W_e)),Rx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h4){if(!e)return;this.globalLogger().throwError("error censorship permanent",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p4=!!e,h4=!!r}static setLogLevel(e){const r=J1[e.toLowerCase()];if(r==null){kn.globalLogger().warn("invalid log level - "+e);return}g4=r}static from(e){return new kn(e)}};c3.errors=Do;c3.levels=Iw;const G_e=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return Do},get LogLevel(){return Iw},Logger:c3},Symbol.toStringTag,{value:"Module"})),V_e="logger/5.8.0";let b4=!1,_4=!1;const Y1={debug:1,default:2,info:2,warning:3,error:4,off:5};let w4=Y1.default,Px=null;function K_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const v4=K_e();var PN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(PN||(PN={}));var $a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})($a||($a={}));const E4="0123456789abcdef";let Zy=class Mn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Y1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(w4>Y1[n])&&console.log.apply(console,r)}debug(...e){this._log(Mn.levels.DEBUG,e)}info(...e){this._log(Mn.levels.INFO,e)}warn(...e){this._log(Mn.levels.WARNING,e)}makeError(e,r,n){if(_4)return this.makeError("censored error",r,{});r||(r=Mn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=E4[l[f]>>4],u+=E4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case $a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case $a.CALL_EXCEPTION:case $a.INSUFFICIENT_FUNDS:case $a.MISSING_NEW:case $a.NONCE_EXPIRED:case $a.REPLACEMENT_UNDERPRICED:case $a.TRANSACTION_REPLACED:case $a.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Mn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){v4&&this.throwError("platform missing String.prototype.normalize",Mn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:v4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Mn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Mn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Mn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Mn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Mn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Mn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Px||(Px=new Mn(V_e)),Px}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),b4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Mn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_4=!!e,b4=!!r}static setLogLevel(e){const r=Y1[e.toLowerCase()];if(r==null){Mn.globalLogger().warn("invalid log level - "+e);return}w4=r}static from(e){return new Mn(e)}};Zy.errors=$a;Zy.levels=PN;const J_e="bytes/5.8.0",Ox=new Zy(J_e);function Y_e(t){return!!t.toHexString}function X1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return X1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function A4(t){return typeof t=="number"&&t==t&&t%1===0}function X_e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!A4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!A4(r)||r<0||r>=256)return!1}return!0}function yy(t,e){if(e||(e={}),typeof t=="number"){Ox.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),X1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Y_e(t)&&(t=t.toHexString()),Q_e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Ox.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return X1(new Uint8Array(n))}return X_e(t)?X1(new Uint8Array(t)):Ox.throwArgumentError("invalid arrayify value","value",t)}function Q_e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var Tw;(function(t){t.sha256="sha256",t.sha512="sha512"})(Tw||(Tw={}));const Z_e="sha2/5.7.0",ewe=new Zy(Z_e);function twe(t){return"0x"+Ze.ripemd160().update(yy(t)).digest("hex")}function rwe(t){return"0x"+Ze.sha256().update(yy(t)).digest("hex")}function nwe(t){return"0x"+Ze.sha512().update(yy(t)).digest("hex")}function iwe(t,e,r){return Tw[t]||ewe.throwError("unsupported algorithm "+t,Zy.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ze.hmac(Ze[t],yy(e)).update(yy(r)).digest("hex")}const swe=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return Tw},computeHmac:iwe,ripemd160:twe,sha256:rwe,sha512:nwe},Symbol.toStringTag,{value:"Module"})),owe="solidity/5.7.0",awe=new RegExp("^bytes([0-9]+)$"),cwe=new RegExp("^(u?int)([0-9]*)$"),lwe=new RegExp("^(.*)\\[([0-9]*)\\]$"),uwe="0000000000000000000000000000000000000000000000000000000000000000",i0=new ie(owe);function kB(t,e,r){switch(t){case"address":return r?C1(e,32):he(e);case"string":return sn(e);case"bytes":return he(e);case"bool":return e=e?"0x01":"0x00",r?C1(e,32):he(e)}let n=t.match(cwe);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&i0.throwArgumentError("invalid number type","type",t),r&&(i=256),e=Ce.from(e).toTwos(i),C1(e,i/8)}if(n=t.match(awe),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&i0.throwArgumentError("invalid bytes type","type",t),he(e).byteLength!==i&&i0.throwArgumentError(`invalid value for ${t}`,"value",e),r?he((e+uwe).substring(0,66)):e}if(n=t.match(lwe),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&i0.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(kB(i,a,!0))}),Kt(o)}return i0.throwArgumentError("invalid type","type",t)}function l3(t,e){t.length!=e.length&&i0.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(kB(n,e[i]))}),_e(Kt(r))}function fwe(t,e){return Vt(l3(t,e))}function dwe(t,e){return pf(l3(t,e))}const hwe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:fwe,pack:l3,sha256:dwe},Symbol.toStringTag,{value:"Module"})),pwe="logger/5.8.0";let x4=!1,C4=!1;const Q1={debug:1,default:2,info:2,warning:3,error:4,off:5};let N4=Q1.default,Dx=null;function gwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const S4=gwe();var ON;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ON||(ON={}));var La;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(La||(La={}));const I4="0123456789abcdef";let eb=class Un{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Q1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N4>Q1[n])&&console.log.apply(console,r)}debug(...e){this._log(Un.levels.DEBUG,e)}info(...e){this._log(Un.levels.INFO,e)}warn(...e){this._log(Un.levels.WARNING,e)}makeError(e,r,n){if(C4)return this.makeError("censored error",r,{});r||(r=Un.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=I4[l[f]>>4],u+=I4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case La.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case La.CALL_EXCEPTION:case La.INSUFFICIENT_FUNDS:case La.MISSING_NEW:case La.NONCE_EXPIRED:case La.REPLACEMENT_UNDERPRICED:case La.TRANSACTION_REPLACED:case La.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Un.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){S4&&this.throwError("platform missing String.prototype.normalize",Un.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:S4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Un.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Un.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Un.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Un.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Un.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Un.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Un.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Dx||(Dx=new Un(pwe)),Dx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Un.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),x4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Un.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}C4=!!e,x4=!!r}static setLogLevel(e){const r=Q1[e.toLowerCase()];if(r==null){Un.globalLogger().warn("invalid log level - "+e);return}N4=r}static from(e){return new Un(e)}};eb.errors=La;eb.levels=ON;const mwe="bytes/5.8.0",kx=new eb(mwe);function ywe(t){return!!t.toHexString}function Z1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Z1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function T4(t){return typeof t=="number"&&t==t&&t%1===0}function bwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!T4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!T4(r)||r<0||r>=256)return!1}return!0}function _we(t,e){if(e||(e={}),typeof t=="number"){kx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Z1(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),ywe(t)&&(t=t.toHexString()),wwe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":kx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Z1(new Uint8Array(n))}return bwe(t)?Z1(new Uint8Array(t)):kx.throwArgumentError("invalid arrayify value","value",t)}function wwe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const vwe="random/5.7.0",DN=new eb(vwe);function Ewe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const R4=Ewe();let e_=R4.crypto||R4.msCrypto;(!e_||!e_.getRandomValues)&&(DN.warn("WARNING: Missing strong random number source"),e_={getRandomValues:function(t){return DN.throwError("no secure random source avaialble",eb.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Awe(t){(t<=0||t>1024||t%1||t!=t)&&DN.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return e_.getRandomValues(e),_we(e)}function xwe(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const Cwe=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Awe,shuffled:xwe},Symbol.toStringTag,{value:"Module"})),Nwe="logger/5.8.0";let P4=!1,O4=!1;const t_={debug:1,default:2,info:2,warning:3,error:4,off:5};let D4=t_.default,Mx=null;function Swe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const k4=Swe();var kN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(kN||(kN={}));var Fa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Fa||(Fa={}));const M4="0123456789abcdef";let u3=class $n{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();t_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(D4>t_[n])&&console.log.apply(console,r)}debug(...e){this._log($n.levels.DEBUG,e)}info(...e){this._log($n.levels.INFO,e)}warn(...e){this._log($n.levels.WARNING,e)}makeError(e,r,n){if(O4)return this.makeError("censored error",r,{});r||(r=$n.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=M4[l[f]>>4],u+=M4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Fa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Fa.CALL_EXCEPTION:case Fa.INSUFFICIENT_FUNDS:case Fa.MISSING_NEW:case Fa.NONCE_EXPIRED:case Fa.REPLACEMENT_UNDERPRICED:case Fa.TRANSACTION_REPLACED:case Fa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,$n.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){k4&&this.throwError("platform missing String.prototype.normalize",$n.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:k4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,$n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,$n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,$n.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,$n.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",$n.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",$n.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",$n.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Mx||(Mx=new $n(Nwe)),Mx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",$n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),P4){if(!e)return;this.globalLogger().throwError("error censorship permanent",$n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}O4=!!e,P4=!!r}static setLogLevel(e){const r=t_[e.toLowerCase()];if(r==null){$n.globalLogger().warn("invalid log level - "+e);return}D4=r}static from(e){return new $n(e)}};u3.errors=Fa;u3.levels=kN;const Iwe="properties/5.7.0";var Twe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Rw=new u3(Iwe);function MB(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Rwe(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Pwe(t){return Twe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Owe(t,e){(!t||typeof t!="object")&&Rw.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Rw.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Dwe(t){const e={};for(const r in t)e[r]=t[r];return e}const kwe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function UB(t){if(t==null||kwe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!UB(n))return!1}return!0}return Rw.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Mwe(t){if(UB(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Pw(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&MB(e,r,Pw(n))}return e}return Rw.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Pw(t){return Mwe(t)}class Uwe{constructor(e){for(const r in e)this[r]=Pw(e[r])}}const $we=Object.freeze(Object.defineProperty({__proto__:null,Description:Uwe,checkProperties:Owe,deepCopy:Pw,defineReadOnly:MB,getStatic:Rwe,resolveProperties:Pwe,shallowCopy:Dwe},Symbol.toStringTag,{value:"Module"})),Lwe="logger/5.8.0";let U4=!1,$4=!1;const r_={debug:1,default:2,info:2,warning:3,error:4,off:5};let L4=r_.default,Ux=null;function Fwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const F4=Fwe();var MN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(MN||(MN={}));var Ba;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ba||(Ba={}));const B4="0123456789abcdef";let Mo=class Ln{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();r_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(L4>r_[n])&&console.log.apply(console,r)}debug(...e){this._log(Ln.levels.DEBUG,e)}info(...e){this._log(Ln.levels.INFO,e)}warn(...e){this._log(Ln.levels.WARNING,e)}makeError(e,r,n){if($4)return this.makeError("censored error",r,{});r||(r=Ln.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=B4[l[f]>>4],u+=B4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ba.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ba.CALL_EXCEPTION:case Ba.INSUFFICIENT_FUNDS:case Ba.MISSING_NEW:case Ba.NONCE_EXPIRED:case Ba.REPLACEMENT_UNDERPRICED:case Ba.TRANSACTION_REPLACED:case Ba.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ln.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){F4&&this.throwError("platform missing String.prototype.normalize",Ln.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:F4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ln.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ln.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ln.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ln.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ln.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ln.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ln.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ux||(Ux=new Ln(Lwe)),Ux}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ln.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),U4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ln.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$4=!!e,U4=!!r}static setLogLevel(e){const r=r_[e.toLowerCase()];if(r==null){Ln.globalLogger().warn("invalid log level - "+e);return}L4=r}static from(e){return new Ln(e)}};Mo.errors=Ba;Mo.levels=MN;const Bwe="bytes/5.8.0",R0=new Mo(Bwe);function $B(t){return!!t.toHexString}function n_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return n_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jwe(t){return d3(t)&&!(t.length%2)||f3(t)}function j4(t){return typeof t=="number"&&t==t&&t%1===0}function f3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!j4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!j4(r)||r<0||r>=256)return!1}return!0}function LB(t,e){if(e||(e={}),typeof t=="number"){R0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),n_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$B(t)&&(t=t.toHexString()),d3(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":R0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return n_(new Uint8Array(n))}return f3(t)?n_(new Uint8Array(t)):R0.throwArgumentError("invalid arrayify value","value",t)}function d3(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const $x="0123456789abcdef";function i_(t,e){if(e||(e={}),typeof t=="number"){R0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=$x[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$B(t))return t.toHexString();if(d3(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":R0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(f3(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=$x[(i&240)>>4]+$x[i&15]}return r}return R0.throwArgumentError("invalid hexlify value","value",t)}const Hwe="rlp/5.7.0",Dc=new Mo(Hwe);function H4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function q4(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function FB(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(FB(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=H4(n.length);return i.unshift(247+i.length),i.concat(n)}jwe(t)||Dc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(LB(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=H4(e.length);return r.unshift(183+r.length),r.concat(e)}function qwe(t){return i_(FB(t))}function W4(t,e,r,n){const i=[];for(;r<e+1+n;){const s=BB(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Dc.throwError("child data too short",Mo.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function BB(t,e){if(t.length===0&&Dc.throwError("data too short",Mo.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Dc.throwError("data short segment too short",Mo.errors.BUFFER_OVERRUN,{});const n=q4(t,e+1,r);return e+1+r+n>t.length&&Dc.throwError("data long segment too short",Mo.errors.BUFFER_OVERRUN,{}),W4(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Dc.throwError("data array too short",Mo.errors.BUFFER_OVERRUN,{}),W4(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Dc.throwError("data array too short",Mo.errors.BUFFER_OVERRUN,{});const n=q4(t,e+1,r);e+1+r+n>t.length&&Dc.throwError("data array too short",Mo.errors.BUFFER_OVERRUN,{});const i=i_(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Dc.throwError("data too short",Mo.errors.BUFFER_OVERRUN,{});const n=i_(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:i_(t[e])}}function Wwe(t){const e=LB(t),r=BB(e,0);return r.consumed!==e.length&&Dc.throwArgumentError("invalid rlp data","data",t),r.result}const zwe=Object.freeze(Object.defineProperty({__proto__:null,decode:Wwe,encode:qwe},Symbol.toStringTag,{value:"Module"}));function bp(t,e,r){return r={path:e,exports:{},require:function(n,i){return Gwe(n,i??r.path)}},t(r,r.exports),r.exports}function Gwe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var h3=jB;function jB(t,e){if(!t)throw new Error(e||"Assertion failed")}jB.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var nc=bp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),fo=bp(function(t,e){var r=e;r.assert=h3,r.toArray=nc.toArray,r.zero2=nc.zero2,r.toHex=nc.toHex,r.encode=nc.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var d=1<<l+1,h=c.clone(),m=0;m<f.length;m++){var g,y=h.andln(d-1);h.isOdd()?(y>(d>>1)-1?g=(d>>1)-y:g=y,h.isubn(g)):g=0,f[m]=g,h.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var y;(m&1)===0?y=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?y=-m:y=m),u[0].push(y);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===y+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new re(c,"hex","le")}r.intFromLE=a}),Ow=fo.getNAF,Vwe=fo.getJSF,Dw=fo.assert;function Tf(t,e){this.type=t,this.p=new re(e.p,16),this.red=e.prime?re.red(e.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=e.n&&new re(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lh=Tf;Tf.prototype.point=function(){throw new Error("Not implemented")};Tf.prototype.validate=function(){throw new Error("Not implemented")};Tf.prototype._fixedNafMul=function(e,r){Dw(e.precomputed);var n=e._getDoubles(),i=Ow(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Tf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Ow(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Dw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Tf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=Ow(n[m],o[m],this._bitLength),c[g]=Ow(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var y=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(y[1]=r[m].add(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].add(r[g].neg())):(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=Vwe(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,R=x[1][f]|0;c[m][f]=w[(S+1)*3+(R+1)],c[g][f]=0,a[m]=y}}var D=this.jpoint(null,null,null),P=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var E=!0;for(f=0;f<i;f++)P[f]=c[f][u]|0,P[f]!==0&&(E=!1);if(!E)break;F++,u--}if(u>=0&&F++,D=D.dblp(F),u<0)break;for(f=0;f<i;f++){var v=P[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?D=D.mixedAdd(d):D=D.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?D:D.toP()};function sa(t,e){this.curve=t,this.type=e,this.precomputed=null}Tf.BasePoint=sa;sa.prototype.eq=function(){throw new Error("Not implemented")};sa.prototype.validate=function(){return this.curve.validate(this)};Tf.prototype.decodePoint=function(e,r){e=fo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Dw(e[e.length-1]%2===0):e[0]===7&&Dw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};sa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};sa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};sa.prototype.encode=function(e,r){return fo.encode(this._encode(r),e)};sa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};sa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};sa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};sa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};sa.prototype._getBeta=function(){return null};sa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var p3=bp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Kwe=fo.assert;function oa(t){lh.call(this,"short",t),this.a=new re(t.a,16).toRed(this.red),this.b=new re(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}p3(oa,lh);var Jwe=oa;oa.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new re(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Kwe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new re(a.a,16),b:new re(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};oa.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:re.mont(e),n=new re(2).toRed(r).redInvm(),i=n.redNeg(),s=new re(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};oa.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new re(1),o=new re(0),a=new re(0),c=new re(1),l,u,f,d,h,m,g,y=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var R=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++y===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=R}h=w.neg(),m=x;var D=f.sqr().add(d.sqr()),P=h.sqr().add(m.sqr());return P.cmp(D)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};oa.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};oa.prototype.pointFromX=function(e,r){e=new re(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};oa.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};oa.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ai(t,e,r,n){lh.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(e,16),this.y=new re(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}p3(ai,lh.BasePoint);oa.prototype.point=function(e,r,n){return new ai(this,e,r,n)};oa.prototype.pointFromJSON=function(e,r){return ai.fromJSON(this,e,r)};ai.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ai.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ai.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ai.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ai.prototype.isInfinity=function(){return this.inf};ai.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ai.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ai.prototype.getX=function(){return this.x.fromRed()};ai.prototype.getY=function(){return this.y.fromRed()};ai.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ai.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ai.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ai.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ai.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ai.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ni(t,e,r,n){lh.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(e,16),this.y=new re(r,16),this.z=new re(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p3(Ni,lh.BasePoint);oa.prototype.jpoint=function(e,r,n){return new Ni(this,e,r,n)};Ni.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Ni.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ni.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};Ni.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};Ni.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=y,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};Ni.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ni.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),y=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ni.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};Ni.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};Ni.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};Ni.prototype.mul=function(e,r){return e=new re(e,r),this.curve._wnafMul(this,e)};Ni.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Ni.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Ni.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ni.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var s_=bp(function(t,e){var r=e;r.base=lh,r.short=Jwe,r.mont=null,r.edwards=null}),o_=bp(function(t,e){var r=e,n=fo.assert;function i(a){a.type==="short"?this.curve=new s_.short(a):a.type==="edwards"?this.curve=new s_.edwards(a):this.curve=new s_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ze.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ze.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ze.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ze.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ze.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ze.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function wf(t){if(!(this instanceof wf))return new wf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=nc.toArray(t.entropy,t.entropyEnc||"hex"),r=nc.toArray(t.nonce,t.nonceEnc||"hex"),n=nc.toArray(t.pers,t.persEnc||"hex");h3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var HB=wf;wf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wf.prototype._hmac=function(){return new Ze.hmac(this.hash,this.K)};wf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=nc.toArray(e,r),n=nc.toArray(n,i),h3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};wf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=nc.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,nc.encode(o,r)};var UN=fo.assert;function Gi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var g3=Gi;Gi.fromPublic=function(e,r,n){return r instanceof Gi?r:new Gi(e,{pub:r,pubEnc:n})};Gi.fromPrivate=function(e,r,n){return r instanceof Gi?r:new Gi(e,{priv:r,privEnc:n})};Gi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Gi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Gi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Gi.prototype._importPrivate=function(e,r){this.priv=new re(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Gi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?UN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&UN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Gi.prototype.derive=function(e){return e.validate()||UN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Gi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Gi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Gi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ywe=fo.assert;function Hv(t,e){if(t instanceof Hv)return t;this._importDER(t,e)||(Ywe(t.r&&t.s,"Signature without r or s"),this.r=new re(t.r,16),this.s=new re(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var qv=Hv;function Xwe(){this.place=0}function Lx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function z4(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Hv.prototype._importDER=function(e,r){e=fo.toArray(e,r);var n=new Xwe;if(e[n.place++]!==48)return!1;var i=Lx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Lx(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Lx(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new re(o),this.s=new re(c),this.recoveryParam=null,!0};function Fx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Hv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=z4(r),n=z4(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Fx(i,r.length),i=i.concat(r),i.push(2),Fx(i,n.length);var s=i.concat(n),o=[48];return Fx(o,s.length),o=o.concat(s),fo.encode(o,e)};var Qwe=(function(){throw new Error("unsupported")}),qB=fo.assert;function Yo(t){if(!(this instanceof Yo))return new Yo(t);typeof t=="string"&&(qB(Object.prototype.hasOwnProperty.call(o_,t),"Unknown curve "+t),t=o_[t]),t instanceof o_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Zwe=Yo;Yo.prototype.keyPair=function(e){return new g3(this,e)};Yo.prototype.keyFromPrivate=function(e,r){return g3.fromPrivate(this,e,r)};Yo.prototype.keyFromPublic=function(e,r){return g3.fromPublic(this,e,r)};Yo.prototype.genKeyPair=function(e){e||(e={});for(var r=new HB({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Qwe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new re(2));;){var s=new re(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Yo.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Yo.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new re(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new HB({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new re(1)),u=0;;u++){var f=i.k?i.k(u):new re(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),m=h.umod(this.n);if(m.cmpn(0)!==0){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var y=(d.getY().isOdd()?1:0)|(h.cmp(m)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new qv({r:m,s:g,recoveryParam:y})}}}}}};Yo.prototype.verify=function(e,r,n,i){e=this._truncateToN(new re(e,16)),n=this.keyFromPublic(n,i),r=new qv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Yo.prototype.recoverPubKey=function(t,e,r,n){qB((3&r)===r,"The recovery param is more than two bits"),e=new qv(e,n);var i=this.n,s=new re(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Yo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new qv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var eve=bp(function(t,e){var r=e;r.version="6.5.4",r.utils=fo,r.rand=(function(){throw new Error("unsupported")}),r.curve=s_,r.curves=o_,r.ec=Zwe,r.eddsa=null}),tve=eve.ec;const rve="logger/5.8.0";let G4=!1,V4=!1;const a_={debug:1,default:2,info:2,warning:3,error:4,off:5};let K4=a_.default,Bx=null;function nve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const J4=nve();var $N;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})($N||($N={}));var ja;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ja||(ja={}));const Y4="0123456789abcdef";let Wv=class Fn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();a_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(K4>a_[n])&&console.log.apply(console,r)}debug(...e){this._log(Fn.levels.DEBUG,e)}info(...e){this._log(Fn.levels.INFO,e)}warn(...e){this._log(Fn.levels.WARNING,e)}makeError(e,r,n){if(V4)return this.makeError("censored error",r,{});r||(r=Fn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=Y4[l[f]>>4],u+=Y4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ja.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ja.CALL_EXCEPTION:case ja.INSUFFICIENT_FUNDS:case ja.MISSING_NEW:case ja.NONCE_EXPIRED:case ja.REPLACEMENT_UNDERPRICED:case ja.TRANSACTION_REPLACED:case ja.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Fn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){J4&&this.throwError("platform missing String.prototype.normalize",Fn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:J4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Fn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Fn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Fn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Fn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Fn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Fn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bx||(Bx=new Fn(rve)),Bx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),G4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Fn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}V4=!!e,G4=!!r}static setLogLevel(e){const r=a_[e.toLowerCase()];if(r==null){Fn.globalLogger().warn("invalid log level - "+e);return}K4=r}static from(e){return new Fn(e)}};Wv.errors=ja;Wv.levels=$N;const ive="bytes/5.8.0",yn=new Wv(ive);function WB(t){return!!t.toHexString}function Vg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Vg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function sve(t){return rf(t)&&!(t.length%2)||m3(t)}function X4(t){return typeof t=="number"&&t==t&&t%1===0}function m3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!X4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!X4(r)||r<0||r>=256)return!1}return!0}function rs(t,e){if(e||(e={}),typeof t=="number"){yn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Vg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WB(t)&&(t=t.toHexString()),rf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":yn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Vg(new Uint8Array(n))}return m3(t)?Vg(new Uint8Array(t)):yn.throwArgumentError("invalid arrayify value","value",t)}function ove(t,e){t=rs(t),t.length>e&&yn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Vg(r)}function rf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const jx="0123456789abcdef";function Ks(t,e){if(e||(e={}),typeof t=="number"){yn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=jx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WB(t))return t.toHexString();if(rf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":yn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(m3(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=jx[(i&240)>>4]+jx[i&15]}return r}return yn.throwArgumentError("invalid hexlify value","value",t)}function ave(t){if(typeof t!="string")t=Ks(t);else if(!rf(t)||t.length%2)return null;return(t.length-2)/2}function P0(t,e){for(typeof t!="string"?t=Ks(t):rf(t)||yn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&yn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function zB(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(sve(t)){let r=rs(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Ks(r.slice(0,32)),e.s=Ks(r.slice(32,64))):r.length===65?(e.r=Ks(r.slice(0,32)),e.s=Ks(r.slice(32,64)),e.v=r[64]):yn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:yn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Ks(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=ove(rs(e._vs),32);e._vs=Ks(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&yn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Ks(i);e.s==null?e.s=o:e.s!==o&&yn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?yn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&yn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!rf(e.r)?yn.throwArgumentError("signature missing or invalid r","signature",t):e.r=P0(e.r,32),e.s==null||!rf(e.s)?yn.throwArgumentError("signature missing or invalid s","signature",t):e.s=P0(e.s,32);const r=rs(e.s);r[0]>=128&&yn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Ks(r);e._vs&&(rf(e._vs)||yn.throwArgumentError("signature invalid _vs","signature",t),e._vs=P0(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&yn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Jp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const cve="signing-key/5.7.0",LN=new Wv(cve);let Hx=null;function $c(){return Hx||(Hx=new tve("secp256k1")),Hx}let GB=class{constructor(e){Jp(this,"curve","secp256k1"),Jp(this,"privateKey",Ks(e)),ave(this.privateKey)!==32&&LN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=$c().keyFromPrivate(rs(this.privateKey));Jp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Jp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Jp(this,"_isSigningKey",!0)}_addPoint(e){const r=$c().keyFromPublic(rs(this.publicKey)),n=$c().keyFromPublic(rs(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=$c().keyFromPrivate(rs(this.privateKey)),n=rs(e);n.length!==32&&LN.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return zB({recoveryParam:i.recoveryParam,r:P0("0x"+i.r.toString(16),32),s:P0("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=$c().keyFromPrivate(rs(this.privateKey)),n=$c().keyFromPublic(rs(VB(e)));return P0("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function lve(t,e){const r=zB(e),n={r:rs(r.r),s:rs(r.s)};return"0x"+$c().recoverPubKey(rs(t),n,r.recoveryParam).encode("hex",!1)}function VB(t,e){const r=rs(t);if(r.length===32){const n=new GB(r);return e?"0x"+$c().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Ks(r):"0x"+$c().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+$c().keyFromPublic(r).getPublic(!0,"hex"):Ks(r)}return LN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const uve=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:GB,computePublicKey:VB,recoverPublicKey:lve},Symbol.toStringTag,{value:"Module"})),fve="logger/5.8.0";let Q4=!1,Z4=!1;const c_={debug:1,default:2,info:2,warning:3,error:4,off:5};let eD=c_.default,qx=null;function dve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const tD=dve();var FN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(FN||(FN={}));var Ha;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ha||(Ha={}));const rD="0123456789abcdef";let zv=class Bn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();c_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(eD>c_[n])&&console.log.apply(console,r)}debug(...e){this._log(Bn.levels.DEBUG,e)}info(...e){this._log(Bn.levels.INFO,e)}warn(...e){this._log(Bn.levels.WARNING,e)}makeError(e,r,n){if(Z4)return this.makeError("censored error",r,{});r||(r=Bn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=rD[l[f]>>4],u+=rD[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ha.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ha.CALL_EXCEPTION:case Ha.INSUFFICIENT_FUNDS:case Ha.MISSING_NEW:case Ha.NONCE_EXPIRED:case Ha.REPLACEMENT_UNDERPRICED:case Ha.TRANSACTION_REPLACED:case Ha.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Bn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){tD&&this.throwError("platform missing String.prototype.normalize",Bn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:tD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Bn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Bn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Bn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Bn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return qx||(qx=new Bn(fve)),qx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Z4=!!e,Q4=!!r}static setLogLevel(e){const r=c_[e.toLowerCase()];if(r==null){Bn.globalLogger().warn("invalid log level - "+e);return}eD=r}static from(e){return new Bn(e)}};zv.errors=Ha;zv.levels=FN;const hve="bytes/5.8.0",O0=new zv(hve);function KB(t){return!!t.toHexString}function Kg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Kg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function nD(t){return typeof t=="number"&&t==t&&t%1===0}function JB(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!nD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!nD(r)||r<0||r>=256)return!1}return!0}function Gv(t,e){if(e||(e={}),typeof t=="number"){O0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Kg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KB(t)&&(t=t.toHexString()),YB(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":O0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Kg(new Uint8Array(n))}return JB(t)?Kg(new Uint8Array(t)):O0.throwArgumentError("invalid arrayify value","value",t)}function pve(t){const e=t.map(i=>Gv(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Kg(n)}function YB(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const Wx="0123456789abcdef";function gve(t,e){if(e||(e={}),typeof t=="number"){O0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Wx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),KB(t))return t.toHexString();if(YB(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":O0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(JB(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Wx[(i&240)>>4]+Wx[i&15]}return r}return O0.throwArgumentError("invalid hexlify value","value",t)}const mve="0x0000000000000000000000000000000000000000000000000000000000000000",yve="strings/5.7.0",XB=new zv(yve);var Jd;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Jd||(Jd={}));var Ds;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ds||(Ds={}));function bve(t,e,r,n,i){return XB.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function QB(t,e,r,n,i){if(t===Ds.BAD_PREFIX||t===Ds.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Ds.OVERRUN?r.length-e-1:0}function _ve(t,e,r,n,i){return t===Ds.OVERLONG?(n.push(i),0):(n.push(65533),QB(t,e,r))}const ZB=Object.freeze({error:bve,ignore:QB,replace:_ve});function y3(t,e){e==null&&(e=ZB.error),t=Gv(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Ds.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ds.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ds.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Ds.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Ds.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ds.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ds.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Vv(t,e=Jd.current){e!=Jd.current&&(XB.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Gv(r)}function zx(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function wve(t,e){return'"'+y3(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?zx(r):(r-=65536,zx((r>>10&1023)+55296)+zx((r&1023)+56320))}).join("")+'"'}function BN(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ej(t,e){return BN(y3(t,e))}function jN(t,e=Jd.current){return y3(Vv(t,e))}function vve(t){const e=Vv(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return gve(pve([e,mve]).slice(0,32))}function Eve(t){const e=Gv(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return ej(e.slice(0,r))}function Ave(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function b3(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function tj(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function _3(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const xve=tj("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Cve="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Nve=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Sve=b3("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ive=b3("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Tve=b3("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Ave),Rve=tj("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Pve(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function Ove(t){return!!_3(t,xve)}function Dve(t){let e=_3(t,Nve);if(e)return[t+e.s];let r=Sve[t];if(r)return r;let n=Ive[t];if(n)return[t+n[0]];let i=Tve[t];return i||null}function kve(t){return!!_3(t,Rve)}function Mve(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=jN(t);e=Pve(e.map(n=>{if(Cve.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=Dve(n);return i||[n]})),e=jN(BN(e),Jd.NFKC),e.forEach(n=>{if(kve(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Ove(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=BN(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const Uve=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Jd},Utf8ErrorFuncs:ZB,get Utf8ErrorReason(){return Ds},_toEscapedUtf8String:wve,formatBytes32String:vve,nameprep:Mve,parseBytes32String:Eve,toUtf8Bytes:Vv,toUtf8CodePoints:jN,toUtf8String:ej},Symbol.toStringTag,{value:"Module"})),$ve="logger/5.8.0";let iD=!1,sD=!1;const l_={debug:1,default:2,info:2,warning:3,error:4,off:5};let oD=l_.default,Gx=null;function Lve(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const aD=Lve();var HN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HN||(HN={}));var qa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(qa||(qa={}));const cD="0123456789abcdef";let Wr=class jn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();l_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(oD>l_[n])&&console.log.apply(console,r)}debug(...e){this._log(jn.levels.DEBUG,e)}info(...e){this._log(jn.levels.INFO,e)}warn(...e){this._log(jn.levels.WARNING,e)}makeError(e,r,n){if(sD)return this.makeError("censored error",r,{});r||(r=jn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=cD[l[f]>>4],u+=cD[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case qa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case qa.CALL_EXCEPTION:case qa.INSUFFICIENT_FUNDS:case qa.MISSING_NEW:case qa.NONCE_EXPIRED:case qa.REPLACEMENT_UNDERPRICED:case qa.TRANSACTION_REPLACED:case qa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,jn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){aD&&this.throwError("platform missing String.prototype.normalize",jn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,jn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,jn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,jn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",jn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",jn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",jn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Gx||(Gx=new jn($ve)),Gx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),iD){if(!e)return;this.globalLogger().throwError("error censorship permanent",jn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}sD=!!e,iD=!!r}static setLogLevel(e){const r=l_[e.toLowerCase()];if(r==null){jn.globalLogger().warn("invalid log level - "+e);return}oD=r}static from(e){return new jn(e)}};Wr.errors=qa;Wr.levels=HN;const Fve="bytes/5.8.0",cn=new Wr(Fve);function rj(t){return!!t.toHexString}function Jg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Jg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function w3(t){return qo(t)&&!(t.length%2)||Kv(t)}function lD(t){return typeof t=="number"&&t==t&&t%1===0}function Kv(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!lD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!lD(r)||r<0||r>=256)return!1}return!0}function Br(t,e){if(e||(e={}),typeof t=="number"){cn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Jg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),rj(t)&&(t=t.toHexString()),qo(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":cn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Jg(new Uint8Array(n))}return Kv(t)?Jg(new Uint8Array(t)):cn.throwArgumentError("invalid arrayify value","value",t)}function nf(t){let e=Br(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Bve(t,e){t=Br(t),t.length>e&&cn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Jg(r)}function qo(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Vx="0123456789abcdef";function or(t,e){if(e||(e={}),typeof t=="number"){cn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Vx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),rj(t))return t.toHexString();if(qo(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":cn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Kv(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Vx[(i&240)>>4]+Vx[i&15]}return r}return cn.throwArgumentError("invalid hexlify value","value",t)}function nj(t){if(typeof t!="string")t=or(t);else if(!qo(t)||t.length%2)return null;return(t.length-2)/2}function uD(t,e,r){return typeof t!="string"?t=or(t):(!qo(t)||t.length%2)&&cn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function ij(t){let e="0x";return t.forEach(r=>{e+=or(r).substring(2)}),e}function Xc(t,e){for(typeof t!="string"?t=or(t):qo(t)||cn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&cn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function tb(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(w3(t)){let r=Br(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=or(r.slice(0,32)),e.s=or(r.slice(32,64))):r.length===65?(e.r=or(r.slice(0,32)),e.s=or(r.slice(32,64)),e.v=r[64]):cn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:cn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=or(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Bve(Br(e._vs),32);e._vs=or(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&cn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=or(i);e.s==null?e.s=o:e.s!==o&&cn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?cn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&cn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!qo(e.r)?cn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Xc(e.r,32),e.s==null||!qo(e.s)?cn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Xc(e.s,32);const r=Br(e.s);r[0]>=128&&cn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=or(r);e._vs&&(qo(e._vs)||cn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Xc(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&cn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const jve="bignumber/5.8.0";var kw=re.BN;const Ml=new Wr(jve),Kx={},fD=9007199254740991;let dD=!1,Qc=class xa{constructor(e,r){e!==Kx&&Ml.throwError("cannot call constructor directly; use BigNumber.from",Wr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return As(At(this).fromTwos(e))}toTwos(e){return As(At(this).toTwos(e))}abs(){return this._hex[0]==="-"?xa.from(this._hex.substring(1)):this}add(e){return As(At(this).add(At(e)))}sub(e){return As(At(this).sub(At(e)))}div(e){return xa.from(e).isZero()&&Ao("division-by-zero","div"),As(At(this).div(At(e)))}mul(e){return As(At(this).mul(At(e)))}mod(e){const r=At(e);return r.isNeg()&&Ao("division-by-zero","mod"),As(At(this).umod(r))}pow(e){const r=At(e);return r.isNeg()&&Ao("negative-power","pow"),As(At(this).pow(r))}and(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ao("unbound-bitwise-result","and"),As(At(this).and(r))}or(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ao("unbound-bitwise-result","or"),As(At(this).or(r))}xor(e){const r=At(e);return(this.isNegative()||r.isNeg())&&Ao("unbound-bitwise-result","xor"),As(At(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ao("negative-width","mask"),As(At(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ao("negative-width","shl"),As(At(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ao("negative-width","shr"),As(At(this).shrn(e))}eq(e){return At(this).eq(At(e))}lt(e){return At(this).lt(At(e))}lte(e){return At(this).lte(At(e))}gt(e){return At(this).gt(At(e))}gte(e){return At(this).gte(At(e))}isNegative(){return this._hex[0]==="-"}isZero(){return At(this).isZero()}toNumber(){try{return At(this).toNumber()}catch{Ao("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ml.throwError("this platform does not support BigInt",Wr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?dD||(dD=!0,Ml.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ml.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Wr.errors.UNEXPECTED_ARGUMENT,{}):Ml.throwError("BigNumber.toString does not accept parameters",Wr.errors.UNEXPECTED_ARGUMENT,{})),At(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof xa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new xa(Kx,by(e)):e.match(/^-?[0-9]+$/)?new xa(Kx,by(new kw(e))):Ml.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ao("underflow","BigNumber.from",e),(e>=fD||e<=-fD)&&Ao("overflow","BigNumber.from",e),xa.from(String(e));const r=e;if(typeof r=="bigint")return xa.from(r.toString());if(Kv(r))return xa.from(or(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return xa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(qo(n)||n[0]==="-"&&qo(n.substring(1))))return xa.from(n)}return Ml.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function by(t){if(typeof t!="string")return by(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Ml.throwArgumentError("invalid hex","value",t),t=by(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function As(t){return Qc.from(by(t))}function At(t){const e=Qc.from(t).toHexString();return e[0]==="-"?new kw("-"+e.substring(3),16):new kw(e.substring(2),16)}function Ao(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Ml.throwError(t,Wr.errors.NUMERIC_FAULT,n)}function Hve(t){return new kw(t,36).toString(16)}function Yd(t){return"0x"+up.keccak_256(Br(t))}const qve="rlp/5.8.0",kc=new Wr(qve);function hD(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function pD(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function sj(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(sj(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=hD(n.length);return i.unshift(247+i.length),i.concat(n)}w3(t)||kc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Br(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=hD(e.length);return r.unshift(183+r.length),r.concat(e)}function _y(t){return or(sj(t))}function gD(t,e,r,n){const i=[];for(;r<e+1+n;){const s=oj(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&kc.throwError("child data too short",Wr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function oj(t,e){if(t.length===0&&kc.throwError("data too short",Wr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&kc.throwError("data short segment too short",Wr.errors.BUFFER_OVERRUN,{});const n=pD(t,e+1,r);return e+1+r+n>t.length&&kc.throwError("data long segment too short",Wr.errors.BUFFER_OVERRUN,{}),gD(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&kc.throwError("data array too short",Wr.errors.BUFFER_OVERRUN,{}),gD(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&kc.throwError("data array too short",Wr.errors.BUFFER_OVERRUN,{});const n=pD(t,e+1,r);e+1+r+n>t.length&&kc.throwError("data array too short",Wr.errors.BUFFER_OVERRUN,{});const i=or(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&kc.throwError("data too short",Wr.errors.BUFFER_OVERRUN,{});const n=or(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:or(t[e])}}function v3(t){const e=Br(t),r=oj(e,0);return r.consumed!==e.length&&kc.throwArgumentError("invalid rlp data","data",t),r.result}const Wve="address/5.8.0",pg=new Wr(Wve);function mD(t){qo(t,20)||pg.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Br(Yd(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const zve=9007199254740991;function Gve(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const E3={};for(let t=0;t<10;t++)E3[String(t)]=String(t);for(let t=0;t<26;t++)E3[String.fromCharCode(65+t)]=String(10+t);const yD=Math.floor(Gve(zve));function Vve(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>E3[n]).join("");for(;e.length>=yD;){let n=e.substring(0,yD);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function rb(t){let e=null;if(typeof t!="string"&&pg.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=mD(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&pg.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Vve(t)&&pg.throwArgumentError("bad icap checksum","address",t),e=Hve(t.substring(4));e.length<40;)e="0"+e;e=mD("0x"+e)}else pg.throwArgumentError("invalid address","address",t);return e}const Kve=Qc.from(0),Jve="properties/5.8.0",bD=new Wr(Jve);function Yp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Yve(t,e){(!t||typeof t!="object")&&bD.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||bD.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function _p(t,e,r){return r={path:e,exports:{},require:function(n,i){return Xve(n,i??r.path)}},t(r,r.exports),r.exports}function Xve(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var A3=aj;function aj(t,e){if(!t)throw new Error(e||"Assertion failed")}aj.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var ic=_p(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),ho=_p(function(t,e){var r=e;r.assert=A3,r.toArray=ic.toArray,r.zero2=ic.zero2,r.toHex=ic.toHex,r.encode=ic.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,y=m.andln(h-1);m.isOdd()?(y>(h>>1)-1?g=(h>>1)-y:g=y,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var y;(m&1)===0?y=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?y=-m:y=m),u[0].push(y);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===y+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new re(c,"hex","le")}r.intFromLE=a}),Mw=ho.getNAF,Qve=ho.getJSF,Uw=ho.assert;function Rf(t,e){this.type=t,this.p=new re(e.p,16),this.red=e.prime?re.red(e.prime):re.mont(this.p),this.zero=new re(0).toRed(this.red),this.one=new re(1).toRed(this.red),this.two=new re(2).toRed(this.red),this.n=e.n&&new re(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var uh=Rf;Rf.prototype.point=function(){throw new Error("Not implemented")};Rf.prototype.validate=function(){throw new Error("Not implemented")};Rf.prototype._fixedNafMul=function(e,r){Uw(e.precomputed);var n=e._getDoubles(),i=Mw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Rf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Mw(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Uw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Rf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=Mw(n[m],o[m],this._bitLength),c[g]=Mw(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var y=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(y[1]=r[m].add(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].add(r[g].neg())):(y[1]=r[m].toJ().mixedAdd(r[g]),y[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=Qve(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,R=x[1][f]|0;c[m][f]=w[(S+1)*3+(R+1)],c[g][f]=0,a[m]=y}}var D=this.jpoint(null,null,null),P=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var E=!0;for(f=0;f<i;f++)P[f]=c[f][u]|0,P[f]!==0&&(E=!1);if(!E)break;F++,u--}if(u>=0&&F++,D=D.dblp(F),u<0)break;for(f=0;f<i;f++){var v=P[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?D=D.mixedAdd(d):D=D.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?D:D.toP()};function aa(t,e){this.curve=t,this.type=e,this.precomputed=null}Rf.BasePoint=aa;aa.prototype.eq=function(){throw new Error("Not implemented")};aa.prototype.validate=function(){return this.curve.validate(this)};Rf.prototype.decodePoint=function(e,r){e=ho.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Uw(e[e.length-1]%2===0):e[0]===7&&Uw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};aa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};aa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};aa.prototype.encode=function(e,r){return ho.encode(this._encode(r),e)};aa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};aa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};aa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};aa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};aa.prototype._getBeta=function(){return null};aa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var x3=_p(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Zve=ho.assert;function ca(t){uh.call(this,"short",t),this.a=new re(t.a,16).toRed(this.red),this.b=new re(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}x3(ca,uh);var eEe=ca;ca.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new re(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new re(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Zve(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new re(a.a,16),b:new re(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ca.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:re.mont(e),n=new re(2).toRed(r).redInvm(),i=n.redNeg(),s=new re(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ca.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new re(1),o=new re(0),a=new re(0),c=new re(1),l,u,f,d,h,m,g,y=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var R=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++y===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=R}h=w.neg(),m=x;var D=f.sqr().add(d.sqr()),P=h.sqr().add(m.sqr());return P.cmp(D)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};ca.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};ca.prototype.pointFromX=function(e,r){e=new re(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ca.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ca.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ci(t,e,r,n){uh.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new re(e,16),this.y=new re(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}x3(ci,uh.BasePoint);ca.prototype.point=function(e,r,n){return new ci(this,e,r,n)};ca.prototype.pointFromJSON=function(e,r){return ci.fromJSON(this,e,r)};ci.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ci.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ci.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ci.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ci.prototype.isInfinity=function(){return this.inf};ci.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ci.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ci.prototype.getX=function(){return this.x.fromRed()};ci.prototype.getY=function(){return this.y.fromRed()};ci.prototype.mul=function(e){return e=new re(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ci.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ci.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ci.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ci.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ci.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Si(t,e,r,n){uh.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new re(0)):(this.x=new re(e,16),this.y=new re(r,16),this.z=new re(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}x3(Si,uh.BasePoint);ca.prototype.jpoint=function(e,r,n){return new Si(this,e,r,n)};Si.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Si.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Si.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};Si.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};Si.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),y=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(y),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=y,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};Si.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Si.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),y=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=y.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Si.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var y=g.redAdd(g);e=m.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};Si.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};Si.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};Si.prototype.mul=function(e,r){return e=new re(e,r),this.curve._wnafMul(this,e)};Si.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Si.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Si.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Si.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var u_=_p(function(t,e){var r=e;r.base=uh,r.short=eEe,r.mont=null,r.edwards=null}),f_=_p(function(t,e){var r=e,n=ho.assert;function i(a){a.type==="short"?this.curve=new u_.short(a):a.type==="edwards"?this.curve=new u_.edwards(a):this.curve=new u_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ze.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ze.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ze.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ze.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ze.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ze.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ze.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function vf(t){if(!(this instanceof vf))return new vf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ic.toArray(t.entropy,t.entropyEnc||"hex"),r=ic.toArray(t.nonce,t.nonceEnc||"hex"),n=ic.toArray(t.pers,t.persEnc||"hex");A3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var cj=vf;vf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};vf.prototype._hmac=function(){return new Ze.hmac(this.hash,this.K)};vf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};vf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ic.toArray(e,r),n=ic.toArray(n,i),A3(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};vf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ic.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,ic.encode(o,r)};var qN=ho.assert;function Vi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var C3=Vi;Vi.fromPublic=function(e,r,n){return r instanceof Vi?r:new Vi(e,{pub:r,pubEnc:n})};Vi.fromPrivate=function(e,r,n){return r instanceof Vi?r:new Vi(e,{priv:r,privEnc:n})};Vi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Vi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Vi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Vi.prototype._importPrivate=function(e,r){this.priv=new re(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Vi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Vi.prototype.derive=function(e){return e.validate()||qN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Vi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Vi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Vi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var tEe=ho.assert;function Jv(t,e){if(t instanceof Jv)return t;this._importDER(t,e)||(tEe(t.r&&t.s,"Signature without r or s"),this.r=new re(t.r,16),this.s=new re(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Yv=Jv;function rEe(){this.place=0}function Jx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function _D(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Jv.prototype._importDER=function(e,r){e=ho.toArray(e,r);var n=new rEe;if(e[n.place++]!==48)return!1;var i=Jx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Jx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Jx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new re(o),this.s=new re(c),this.recoveryParam=null,!0};function Yx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Jv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=_D(r),n=_D(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Yx(i,r.length),i=i.concat(r),i.push(2),Yx(i,n.length);var s=i.concat(n),o=[48];return Yx(o,s.length),o=o.concat(s),ho.encode(o,e)};var nEe=(function(){throw new Error("unsupported")}),pd=ho.assert;function Xo(t){if(!(this instanceof Xo))return new Xo(t);typeof t=="string"&&(pd(Object.prototype.hasOwnProperty.call(f_,t),"Unknown curve "+t),t=f_[t]),t instanceof f_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var iEe=Xo;Xo.prototype.keyPair=function(e){return new C3(this,e)};Xo.prototype.keyFromPrivate=function(e,r){return C3.fromPrivate(this,e,r)};Xo.prototype.keyFromPublic=function(e,r){return C3.fromPublic(this,e,r)};Xo.prototype.genKeyPair=function(e){e||(e={});for(var r=new cj({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||nEe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new re(2));;){var s=new re(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Xo.prototype._truncateToN=function(e,r,n){var i;if(re.isBN(e)||typeof e=="number")e=new re(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new re(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new re(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Xo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!re.isBN(e)){pd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),pd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)pd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),pd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);pd(new re(c).eq(e),"Can not sign message");for(var l=new cj({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new re(1)),f=0;;f++){var d=i.k?i.k(f):new re(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var y=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(y=y.umod(this.n),y.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),w^=1),new Yv({r:g,s:y,recoveryParam:w})}}}}}};Xo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Yv(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Xo.prototype.recoverPubKey=function(t,e,r,n){pd((3&r)===r,"The recovery param is more than two bits"),e=new Yv(e,n);var i=this.n,s=new re(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Xo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Yv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var sEe=_p(function(t,e){var r=e;r.version="6.6.1",r.utils=ho,r.rand=(function(){throw new Error("unsupported")}),r.curve=u_,r.curves=f_,r.ec=iEe,r.eddsa=null}),oEe=sEe.ec;const aEe="signing-key/5.8.0",WN=new Wr(aEe);let Xx=null;function qu(){return Xx||(Xx=new oEe("secp256k1")),Xx}class cEe{constructor(e){Yp(this,"curve","secp256k1"),Yp(this,"privateKey",or(e)),nj(this.privateKey)!==32&&WN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=qu().keyFromPrivate(Br(this.privateKey));Yp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Yp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Yp(this,"_isSigningKey",!0)}_addPoint(e){const r=qu().keyFromPublic(Br(this.publicKey)),n=qu().keyFromPublic(Br(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=qu().keyFromPrivate(Br(this.privateKey)),n=Br(e);n.length!==32&&WN.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return tb({recoveryParam:i.recoveryParam,r:Xc("0x"+i.r.toString(16),32),s:Xc("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=qu().keyFromPrivate(Br(this.privateKey)),n=qu().keyFromPublic(Br(lj(e)));return Xc("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function lEe(t,e){const r=tb(e),n={r:Br(r.r),s:Br(r.s)};return"0x"+qu().recoverPubKey(Br(t),n,r.recoveryParam).encode("hex",!1)}function lj(t,e){const r=Br(t);return r.length===32?new cEe(r).publicKey:r.length===33?"0x"+qu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?or(r):WN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const uEe="transactions/5.7.0",Hi=new Wr(uEe);var zN;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(zN||(zN={}));function N3(t){return t==="0x"?null:rb(t)}function Li(t){return t==="0x"?Kve:Qc.from(t)}const fEe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],dEe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function uj(t){const e=lj(t);return rb(uD(Yd(uD(e,1)),12))}function S3(t,e){return uj(lEe(Br(t),e))}function Qs(t,e){const r=nf(Qc.from(t).toHexString());return r.length>32&&Hi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Qx(t,e){return{address:rb(t),storageKeys:(e||[]).map((r,n)=>(nj(r)!==32&&Hi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Xv(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Hi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Qx(r[0],r[1])):Qx(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Qx(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function fj(t){return Xv(t).map(e=>[e.address,e.storageKeys])}function dj(t,e){if(t.gasPrice!=null){const n=Qc.from(t.gasPrice),i=Qc.from(t.maxFeePerGas||0);n.eq(i)||Hi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Qs(t.chainId||0,"chainId"),Qs(t.nonce||0,"nonce"),Qs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qs(t.maxFeePerGas||0,"maxFeePerGas"),Qs(t.gasLimit||0,"gasLimit"),t.to!=null?rb(t.to):"0x",Qs(t.value||0,"value"),t.data||"0x",fj(t.accessList||[])];if(e){const n=tb(e);r.push(Qs(n.recoveryParam,"recoveryParam")),r.push(nf(n.r)),r.push(nf(n.s))}return ij(["0x02",_y(r)])}function hj(t,e){const r=[Qs(t.chainId||0,"chainId"),Qs(t.nonce||0,"nonce"),Qs(t.gasPrice||0,"gasPrice"),Qs(t.gasLimit||0,"gasLimit"),t.to!=null?rb(t.to):"0x",Qs(t.value||0,"value"),t.data||"0x",fj(t.accessList||[])];if(e){const n=tb(e);r.push(Qs(n.recoveryParam,"recoveryParam")),r.push(nf(n.r)),r.push(nf(n.s))}return ij(["0x01",_y(r)])}function hEe(t,e){Yve(t,dEe);const r=[];fEe.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=Br(or(a,c)),o.length&&a.length!==o.length&&a.length>0&&Hi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=nf(a),a.length>o.maxLength&&Hi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(or(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Hi.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!w3(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(or(n)),r.push("0x"),r.push("0x")),!e)return _y(r);const i=tb(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Hi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Hi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(or(s)),r.push(nf(Br(i.r))),r.push(nf(Br(i.s))),_y(r)}function pEe(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Hi.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),hEe(t,e);switch(t.type){case 1:return hj(t,e);case 2:return dj(t,e)}return Hi.throwError(`unsupported transaction type: ${t.type}`,Wr.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function pj(t,e,r){try{const n=Li(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Hi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Xc(e[1],32),t.s=Xc(e[2],32);try{const n=Yd(r(t));t.from=S3(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function gEe(t){const e=v3(t.slice(1));e.length!==9&&e.length!==12&&Hi.throwArgumentError("invalid component count for transaction type: 2","payload",or(t));const r=Li(e[2]),n=Li(e[3]),i={type:2,chainId:Li(e[0]).toNumber(),nonce:Li(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Li(e[4]),to:N3(e[5]),value:Li(e[6]),data:e[7],accessList:Xv(e[8])};return e.length===9||(i.hash=Yd(t),pj(i,e.slice(9),dj)),i}function mEe(t){const e=v3(t.slice(1));e.length!==8&&e.length!==11&&Hi.throwArgumentError("invalid component count for transaction type: 1","payload",or(t));const r={type:1,chainId:Li(e[0]).toNumber(),nonce:Li(e[1]).toNumber(),gasPrice:Li(e[2]),gasLimit:Li(e[3]),to:N3(e[4]),value:Li(e[5]),data:e[6],accessList:Xv(e[7])};return e.length===8||(r.hash=Yd(t),pj(r,e.slice(8),hj)),r}function yEe(t){const e=v3(t);e.length!==9&&e.length!==6&&Hi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Li(e[0]).toNumber(),gasPrice:Li(e[1]),gasLimit:Li(e[2]),to:N3(e[3]),value:Li(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Qc.from(e[6]).toNumber()}catch{return r}if(r.r=Xc(e[7],32),r.s=Xc(e[8],32),Qc.from(r.r).isZero()&&Qc.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(or(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Yd(_y(i));try{r.from=S3(s,{r:or(r.r),s:or(r.s),recoveryParam:n})}catch{}r.hash=Yd(t)}return r.type=null,r}function bEe(t){const e=Br(t);if(e[0]>127)return yEe(e);switch(e[0]){case 1:return mEe(e);case 2:return gEe(e)}return Hi.throwError(`unsupported transaction type: ${e[0]}`,Wr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const _Ee=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return zN},accessListify:Xv,computeAddress:uj,parse:bEe,recoverAddress:S3,serialize:pEe},Symbol.toStringTag,{value:"Module"})),wEe="units/5.7.0",gj=new ie(wEe),mj=["wei","kwei","mwei","gwei","szabo","finney","ether"];function vEe(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&gj.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function I3(t,e){if(typeof e=="string"){const r=mj.indexOf(e);r!==-1&&(e=3*r)}return N1(t,e??18)}function T3(t,e){if(typeof t!="string"&&gj.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=mj.indexOf(e);r!==-1&&(e=3*r)}return Ic(t,e??18)}function EEe(t){return I3(t,18)}function AEe(t){return T3(t,18)}const xEe=Object.freeze(Object.defineProperty({__proto__:null,commify:vEe,formatEther:EEe,formatUnits:I3,parseEther:AEe,parseUnits:T3},Symbol.toStringTag,{value:"Module"})),CEe="logger/5.8.0";let wD=!1,vD=!1;const d_={debug:1,default:2,info:2,warning:3,error:4,off:5};let ED=d_.default,Zx=null;function NEe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const AD=NEe();var GN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(GN||(GN={}));var Wa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Wa||(Wa={}));const xD="0123456789abcdef";class Ht{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();d_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ED>d_[n])&&console.log.apply(console,r)}debug(...e){this._log(Ht.levels.DEBUG,e)}info(...e){this._log(Ht.levels.INFO,e)}warn(...e){this._log(Ht.levels.WARNING,e)}makeError(e,r,n){if(vD)return this.makeError("censored error",r,{});r||(r=Ht.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=xD[l[f]>>4],u+=xD[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Wa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Wa.CALL_EXCEPTION:case Wa.INSUFFICIENT_FUNDS:case Wa.MISSING_NEW:case Wa.NONCE_EXPIRED:case Wa.REPLACEMENT_UNDERPRICED:case Wa.TRANSACTION_REPLACED:case Wa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ht.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){AD&&this.throwError("platform missing String.prototype.normalize",Ht.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:AD})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ht.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ht.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ht.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ht.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ht.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ht.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ht.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Zx||(Zx=new Ht(CEe)),Zx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ht.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),wD){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ht.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vD=!!e,wD=!!r}static setLogLevel(e){const r=d_[e.toLowerCase()];if(r==null){Ht.globalLogger().warn("invalid log level - "+e);return}ED=r}static from(e){return new Ht(e)}}Ht.errors=Wa;Ht.levels=GN;const SEe="bytes/5.8.0",D0=new Ht(SEe);function yj(t){return!!t.toHexString}function h_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return h_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function IEe(t){return P3(t)&&!(t.length%2)||R3(t)}function CD(t){return typeof t=="number"&&t==t&&t%1===0}function R3(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!CD(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!CD(r)||r<0||r>=256)return!1}return!0}function nb(t,e){if(e||(e={}),typeof t=="number"){D0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),h_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),yj(t)&&(t=t.toHexString()),P3(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":D0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return h_(new Uint8Array(n))}return R3(t)?h_(new Uint8Array(t)):D0.throwArgumentError("invalid arrayify value","value",t)}function P3(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const e2="0123456789abcdef";function TEe(t,e){if(e||(e={}),typeof t=="number"){D0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=e2[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),yj(t))return t.toHexString();if(P3(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":D0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(R3(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=e2[(i&240)>>4]+e2[i&15]}return r}return D0.throwArgumentError("invalid hexlify value","value",t)}function REe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return nb(e)}function PEe(t){t=nb(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function $w(t){const e={};for(const r in t)e[r]=t[r];return e}const OEe="strings/5.8.0",bj=new Ht(OEe);var Lw;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Lw||(Lw={}));var Zs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Zs||(Zs={}));function DEe(t,e,r,n,i){return bj.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function _j(t,e,r,n,i){if(t===Zs.BAD_PREFIX||t===Zs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Zs.OVERRUN?r.length-e-1:0}function kEe(t,e,r,n,i){return t===Zs.OVERLONG?(n.push(i),0):(n.push(65533),_j(t,e,r))}const MEe=Object.freeze({error:DEe,ignore:_j,replace:kEe});function UEe(t,e){e==null&&(e=MEe.error),t=nb(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Zs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Zs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Zs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Zs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Zs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Zs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Zs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function O3(t,e=Lw.current){e!=Lw.current&&(bj.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return nb(r)}function $Ee(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wj(t,e){return $Ee(UEe(t,e))}const LEe="web/5.7.1";var FEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function BEe(t,e){return FEe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:nb(new Uint8Array(i))}})}var jEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Ca=new Ht(LEe);function ND(t){return new Promise(e=>{setTimeout(e,t)})}function Iu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(IEe(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return wj(t)}catch{}return TEe(t)}return t}function HEe(t){return O3(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function vj(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ca.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ca.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ca.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ca.throwError("basic authentication requires a secure https url",Ht.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+PEe(O3(w))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=$w(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?REe(h[3]):HEe(h[3])};let x=w.body;return r&&(x=r(w.body,w)),Promise.resolve(x)}catch(w){Ca.throwError("processing response error",Ht.errors.SERVER_ERROR,{body:Iu(h[1],h[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const x=a[w];m[x.key]=x.value}),l.headers=m;const g=(function(){let w=null;return{promise:new Promise(function(R,D){f&&(w=setTimeout(()=>{w!=null&&(w=null,D(Ca.makeError("timeout",Ht.errors.TIMEOUT,{requestBody:Iu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}})(),y=(function(){return jEe(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let x=null;try{if(x=yield BEe(c,l),w<n){if(x.statusCode===301||x.statusCode===302){const R=x.headers.location||"";if(l.method==="GET"&&R.match(/^https:/)){c=x.headers.location;continue}}else if(x.statusCode===429){let R=!0;if(i&&(R=yield i(w,c)),R){let D=0;const P=x.headers["retry-after"];typeof P=="string"&&P.match(/^[1-9][0-9]*$/)?D=parseInt(P)*1e3:D=s*parseInt(String(Math.random()*Math.pow(2,w))),yield ND(D);continue}}}}catch(R){x=R.response,x==null&&(g.cancel(),Ca.throwError("missing response",Ht.errors.SERVER_ERROR,{requestBody:Iu(l.body,m["content-type"]),requestMethod:l.method,serverError:R,url:c}))}let S=x.body;if(u&&x.statusCode===304?S=null:!o&&(x.statusCode<200||x.statusCode>=300)&&(g.cancel(),Ca.throwError("bad response",Ht.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:Iu(S,x.headers?x.headers["content-type"]:null),requestBody:Iu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const R=yield r(S,x);return g.cancel(),R}catch(R){if(R.throttleRetry&&w<n){let D=!0;if(i&&(D=yield i(w,c)),D){const P=s*parseInt(String(Math.random()*Math.pow(2,w)));yield ND(P);continue}}g.cancel(),Ca.throwError("processing response error",Ht.errors.SERVER_ERROR,{body:Iu(S,x.headers?x.headers["content-type"]:null),error:R,requestBody:Iu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return Ca.throwError("failed response",Ht.errors.SERVER_ERROR,{requestBody:Iu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,y])}function qEe(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(wj(s))}catch(c){Ca.throwError("invalid JSON",Ht.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=O3(e);const s=typeof t=="string"?{url:t}:$w(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=$w(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return vj(t,i,n)}function WEe(t,e){return e||(e={}),e=$w(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}const zEe=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:vj,fetchJson:qEe,poll:WEe},Symbol.toStringTag,{value:"Module"}));var yl={};const GEe=en(Mye),VEe=en(tbe),KEe=en(ube),JEe=en(_be),YEe=en(Tbe),XEe=en(P1e),QEe=en(E_e),ZEe=en(k_e),eAe=en(q_e),tAe=en(G_e),SD=en(swe),rAe=en(hwe),nAe=en(Cwe),iAe=en($we),sAe=en(zwe),oAe=en(uve),ID=en(Uve),aAe=en(_Ee),cAe=en(xEe),lAe=en(qme),uAe=en(zEe);var TD;function fAe(){return TD||(TD=1,(function(t){var e=yl&&yl.__createBinding||(Object.create?(function(U,I,C,p){p===void 0&&(p=C),Object.defineProperty(U,p,{enumerable:!0,get:function(){return I[C]}})}):(function(U,I,C,p){p===void 0&&(p=C),U[p]=I[C]})),r=yl&&yl.__setModuleDefault||(Object.create?(function(U,I){Object.defineProperty(U,"default",{enumerable:!0,value:I})}):function(U,I){U.default=I}),n=yl&&yl.__importStar||function(U){if(U&&U.__esModule)return U;var I={};if(U!=null)for(var C in U)C!=="default"&&Object.prototype.hasOwnProperty.call(U,C)&&e(I,U,C);return r(I,U),I};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=GEe;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=VEe;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(KEe);t.base64=o;var a=JEe;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=YEe;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=XEe;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=QEe;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var f=ZEe;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var d=eAe;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var h=tAe;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=SD;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=rAe;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var y=nAe;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return y.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return y.shuffled}});var w=iAe;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return w.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return w.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return w.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return w.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return w.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return w.shallowCopy}});var x=n(sAe);t.RLP=x;var S=oAe;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return S.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return S.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return S.SigningKey}});var R=ID;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return R.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return R.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return R.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return R._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return R.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return R.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return R.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return R.Utf8ErrorFuncs}});var D=aAe;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return D.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return D.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return D.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return D.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return D.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return D.TransactionTypes}});var P=cAe;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return P.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return P.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return P.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return P.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return P.parseUnits}});var F=lAe;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return F.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return F.verifyTypedData}});var E=uAe;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return E._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return E.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return E.poll}});var v=SD;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return v.SupportedAlgorithm}});var M=ID;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return M.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return M.Utf8ErrorReason}})})(yl)),yl}var dAe=fAe();const Bh={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=jo(t)?t:mi(Vv(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new Rd(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0};return(await(await new Rd(e,n).getSigner(r).sendTransaction(i)).wait())?.blockHash||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new Rd(e,n).getSigner(r),o=new Ed(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>T3(t,e).toBigInt(),formatUnits:I3};class hAe extends NL{constructor(){super({adapterType:le.ADAPTER_TYPES.ETHERS5,namespace:le.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){const{SafeProvider:a}=await ei(async()=>{const{SafeProvider:d}=await import("./SafeProvider-DQBAsDkW.js");return{SafeProvider:d}},__vite__mapDeps([50,51,52]),import.meta.url),{default:c}=await ei(async()=>{const{default:d}=await import("./index-DSAtH7Gu.js");return{default:d}},__vite__mapDeps([53,51]),import.meta.url),l=new c,u=await l.safe.getInfo(),f=new a(u,l);return await f.connect().catch(d=>{console.info("Failed to auto-connect to Safe:",d)}),f}async function s(){try{const{createCoinbaseWalletSDK:a}=await ei(async()=>{const{createCoinbaseWalletSDK:l}=await import("./index-DGPq9TZ8.js");return{createCoinbaseWalletSDK:l}},__vite__mapDeps([54,52,1]),import.meta.url);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(l=>l.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=n()),e.enableCoinbase!==!1){const a=await s();a&&(o.coinbase=a)}if(ke.isSafeApp()){const a=await i();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await Bh.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await Bh.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Le.state.address},e.provider,Le.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:r}=is.parseCaipAddress(e.caipAddress);return{hash:await Bh.writeContract(e,e.provider,r,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await Bh.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Bh.parseUnits(e.value,e.decimals)}formatUnits(e){return Bh.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(r,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(n=>n!=="metadata"&&n!=="EIP6963").forEach(n=>{const i=n==="coinbase"?"coinbaseWalletSDK":n,s=n===le.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:Lc.ConnectorExplorerIds[i],imageUrl:e?.connectorImages?.[i],name:Lc.ConnectorNamesMap[i]||"Unknown",imageId:Lc.ConnectorImageIds[i],type:Lc.ConnectorTypesMap[i]??"EXTERNAL",info:s?void 0:{rdns:i},chain:this.namespace,chains:[],provider:this.ethersConfig?.[n]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(i=>Vn.isLowerCaseMatch(i.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:r}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(n){return r(n)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=le.CONNECTOR_ID.WALLET_CONNECT;return Vl.listenWcProvider({universalProvider:e,namespace:le.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new EI({provider:e,caipNetworks:this.getCaipNetworks(),namespace:le.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:r,provider:n}=e.detail;if(!this.connectors?.find(s=>s.name===r?.name)){const s=Lc.ConnectorTypesMap[le.CONNECTOR_ID.EIP6963],o=r?.rdns||r?.name||r?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:r?.icon,name:r?.name||"Unknown",provider:n,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(Ot.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(Ot.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:i,socialUri:s}){const o=this.connectors.find(f=>Vn.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}const c=o?.provider;if(!c)throw new Error("Provider not found");let l=[],u;if(n==="AUTH"){const{address:f,accounts:d}=await eo.authConnectorAuthenticate({authConnector:c,chainNamespace:le.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:Bs("eip155")}),h=this.getCaipNetworks().find(m=>m.id.toString()===i?.toString());l=[f],this.addConnection({connectorId:e,accounts:d?d.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:h,auth:{name:we.getConnectedSocialProvider(),username:we.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),u=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(d=>d.id.toString()===i?.toString());if(u!==i){if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:c,providerType:n})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:l.map(d=>({address:d})),caipNetwork:f}),o.id!==le.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(i),provider:c,type:n,id:e}}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r?.provider;if(!n||!r)throw new Error("Provider not found");const i=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>ke.createAccount(le.CHAIN.EVM,o,"eoa"))};if(e.id===le.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>ke.createAccount(le.CHAIN.EVM,l.address,l.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>ke.createAccount(le.CHAIN.EVM,o,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await eo.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:le.CHAIN.EVM,chainId:n,preferredAccountType:Bs("eip155")})}async disconnect(e){if(e.id){const r=this.connectors.find(i=>Vn.isLowerCaseMatch(i.id,e.id));if(!r)throw new Error("Connector not found");const n=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(r.type){case Ot.CONNECTOR_TYPE_WALLET_CONNECT:r.provider.session&&r.provider.disconnect();break;case Ot.CONNECTOR_TYPE_AUTH:await r.provider?.disconnect();break;case Ot.CONNECTOR_TYPE_ANNOUNCED:case Ot.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(r.provider);break;default:throw new Error("Unsupported provider type")}return r.id&&(this.removeProviderListeners(r.id),this.deleteConnection(r.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:n?[n]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const i=`${n.caipNetworkId}:${r}`,s=this.balancePromises[i];if(s)return s;const o=we.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new yw(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(r),u=dAe.formatEther(l);we.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:A0.numberToHexString(r.id)}]})}catch(s){if(s.code===Hl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Hl.ERROR_INVALID_CHAIN_ID||s.code===Hl.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Hl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await A0.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=mt.getProvider(le.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=mt.getProvider(le.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=mt.getProvider(le.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=mt.getProvider(le.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return yf(e.toLowerCase())}catch{return e}}}const pAe=Zr({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"GAD",description:"BCL",url:"https://contractsolidity.github.io/ido/#/",icons:[""]},n=oh({id:97,caipNetworkId:"eip155:97",chainNamespace:"eip155",name:"BSC Testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://bsc-testnet-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://testnet.bttcscan.com",apiUrl:"https://testnet.bttcscan.com/api"}},testnet:!0});return L0e({adapters:[new hAe],networks:[n],defaultNetwork:n,metadata:r,projectId:e,features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"light"}),(i,s)=>{const o=Kq("router-view");return mr(),Gc(o)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const s0=typeof document<"u";function Ej(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gAe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ej(t.default)}const Xt=Object.assign;function t2(t,e){const r={};for(const n in e){const i=e[n];r[n]=pc(i)?i.map(t):t(i)}return r}const Yg=()=>{},pc=Array.isArray,Aj=/#/g,mAe=/&/g,yAe=/\//g,bAe=/=/g,_Ae=/\?/g,xj=/\+/g,wAe=/%5B/g,vAe=/%5D/g,Cj=/%5E/g,EAe=/%60/g,Nj=/%7B/g,AAe=/%7C/g,Sj=/%7D/g,xAe=/%20/g;function D3(t){return encodeURI(""+t).replace(AAe,"|").replace(wAe,"[").replace(vAe,"]")}function CAe(t){return D3(t).replace(Nj,"{").replace(Sj,"}").replace(Cj,"^")}function VN(t){return D3(t).replace(xj,"%2B").replace(xAe,"+").replace(Aj,"%23").replace(mAe,"%26").replace(EAe,"`").replace(Nj,"{").replace(Sj,"}").replace(Cj,"^")}function NAe(t){return VN(t).replace(bAe,"%3D")}function SAe(t){return D3(t).replace(Aj,"%23").replace(_Ae,"%3F")}function IAe(t){return t==null?"":SAe(t).replace(yAe,"%2F")}function wy(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const TAe=/\/$/,RAe=t=>t.replace(TAe,"");function r2(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=kAe(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:wy(o)}}function PAe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function RD(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function OAe(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&J0(e.matched[n],r.matched[i])&&Ij(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function J0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ij(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!DAe(t[r],e[r]))return!1;return!0}function DAe(t,e){return pc(t)?PD(t,e):pc(e)?PD(e,t):t===e}function PD(t,e){return pc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function kAe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const Tu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var vy;(function(t){t.pop="pop",t.push="push"})(vy||(vy={}));var Xg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Xg||(Xg={}));function MAe(t){if(!t)if(s0){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),RAe(t)}const UAe=/^[^#]+#/;function $Ae(t,e){return t.replace(UAe,"#")+e}function LAe(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Qv=()=>({left:window.scrollX,top:window.scrollY});function FAe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=LAe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function OD(t,e){return(history.state?history.state.position-e:-1)+t}const KN=new Map;function BAe(t,e){KN.set(t,e)}function jAe(t){const e=KN.get(t);return KN.delete(t),e}let HAe=()=>location.protocol+"//"+location.host;function Tj(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),RD(c,"")}return RD(r,t)+n+i}function qAe(t,e,r,n){let i=[],s=[],o=null;const a=({state:d})=>{const h=Tj(t,location),m=r.value,g=e.value;let y=0;if(d){if(r.value=h,e.value=d,o&&o===m){o=null;return}y=g?d.position-g.position:0}else n(h);i.forEach(w=>{w(r.value,m,{delta:y,type:vy.pop,direction:y?y>0?Xg.forward:Xg.back:Xg.unknown})})};function c(){o=r.value}function l(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Xt({},d.state,{scroll:Qv()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function DD(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?Qv():null}}function WAe(t){const{history:e,location:r}=window,n={value:Tj(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:HAe()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(h){console.error(h),r[u?"replace":"assign"](d)}}function o(c,l){const u=Xt({},e.state,DD(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),n.value=c}function a(c,l){const u=Xt({},i.value,e.state,{forward:c,scroll:Qv()});s(u.current,u,!0);const f=Xt({},DD(n.value,c,null),{position:u.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function zAe(t){t=MAe(t);const e=WAe(t),r=qAe(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Xt({location:"",base:t,go:n,createHref:$Ae.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function GAe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),zAe(t)}function VAe(t){return typeof t=="string"||t&&typeof t=="object"}function Rj(t){return typeof t=="string"||typeof t=="symbol"}const Pj=Symbol("");var kD;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(kD||(kD={}));function Y0(t,e){return Xt(new Error,{type:t,[Pj]:!0},e)}function bl(t,e){return t instanceof Error&&Pj in t&&(e==null||!!(t.type&e))}const MD="[^/]+?",KAe={sensitive:!1,strict:!1,start:!0,end:!0},JAe=/[.+*?^${}()[\]/\\]/g;function YAe(t,e){const r=Xt({},KAe,e),n=[];let i=r.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(JAe,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:g,optional:y,regexp:w}=d;s.push({name:m,repeatable:g,optional:y});const x=w||MD;if(x!==MD){h+=10;try{new RegExp(`(${x})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+R.message)}}let S=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(S=y&&l.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),i+=S,h+=20,y&&(h+=-8),g&&(h+=-20),x===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=s[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function c(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:g,optional:y}=h,w=m in l?l[m]:"";if(pc(w)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=pc(w)?w.join("/"):w;if(!x)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function XAe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Oj(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=XAe(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(UD(n))return 1;if(UD(i))return-1}return i.length-n.length}function UD(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const QAe={type:0,value:""},ZAe=/[a-zA-Z0-9_]/;function exe(t){if(!t)return[[]];if(t==="/")return[[QAe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:ZAe.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),i}function txe(t,e,r){const n=YAe(exe(t.path),r),i=Xt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function rxe(t,e){const r=[],n=new Map;e=BD({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,d,h){const m=!h,g=LD(f);g.aliasOf=h&&h.record;const y=BD(e,f),w=[g];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of R)w.push(LD(Xt({},g,{components:h?h.record.components:g.components,path:D,aliasOf:h?h.record:g})))}let x,S;for(const R of w){const{path:D}=R;if(d&&D[0]!=="/"){const P=d.record.path,F=P[P.length-1]==="/"?"":"/";R.path=d.record.path+(D&&F+D)}if(x=txe(R,d,y),h?h.alias.push(x):(S=S||x,S!==x&&S.alias.push(x),m&&f.name&&!FD(x)&&o(f.name)),Dj(x)&&c(x),g.children){const P=g.children;for(let F=0;F<P.length;F++)s(P[F],x,h&&h.children[F])}h=h||x}return S?()=>{o(S)}:Yg}function o(f){if(Rj(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const d=sxe(f,r);r.splice(d,0,f),f.record.name&&!FD(f)&&n.set(f.record.name,f)}function l(f,d){let h,m={},g,y;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw Y0(1,{location:f});y=h.record.name,m=Xt($D(d.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&$D(f.params,h.keys.map(S=>S.name))),g=h.stringify(m)}else if(f.path!=null)g=f.path,h=r.find(S=>S.re.test(g)),h&&(m=h.parse(g),y=h.record.name);else{if(h=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!h)throw Y0(1,{location:f,currentLocation:d});y=h.record.name,m=Xt({},d.params,f.params),g=h.stringify(m)}const w=[];let x=h;for(;x;)w.unshift(x.record),x=x.parent;return{name:y,path:g,params:m,matched:w,meta:ixe(w)}}t.forEach(f=>s(f));function u(){r.length=0,n.clear()}return{addRoute:s,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function $D(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function LD(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:nxe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function nxe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function FD(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ixe(t){return t.reduce((e,r)=>Xt(e,r.meta),{})}function BD(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function sxe(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;Oj(t,e[s])<0?n=s:r=s+1}const i=oxe(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function oxe(t){let e=t;for(;e=e.parent;)if(Dj(e)&&Oj(t,e)===0)return e}function Dj({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function axe(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(xj," "),o=s.indexOf("="),a=wy(o<0?s:s.slice(0,o)),c=o<0?null:wy(s.slice(o+1));if(a in e){let l=e[a];pc(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function jD(t){let e="";for(let r in t){const n=t[r];if(r=NAe(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(pc(n)?n.map(s=>s&&VN(s)):[n&&VN(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function cxe(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=pc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const lxe=Symbol(""),HD=Symbol(""),Zv=Symbol(""),k3=Symbol(""),JN=Symbol("");function Xp(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Wu(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(Y0(4,{from:r,to:e})):d instanceof Error?c(d):VAe(d)?c(Y0(2,{from:e,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(n&&n.instances[i],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function n2(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ej(c)){const u=(c.__vccOpts||c)[e];u&&s.push(Wu(u,r,n,o,a,i))}else{let l=c();s.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=gAe(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Wu(h,r,n,o,a,i)()}))}}return s}function qD(t){const e=bi(Zv),r=bi(k3),n=lt(()=>{const c=Fi(t.to);return e.resolve(c)}),i=lt(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(J0.bind(null,u));if(d>-1)return d;const h=WD(c[l-2]);return l>1&&WD(u)===h&&f[f.length-1].path!==h?f.findIndex(J0.bind(null,c[l-2])):d}),s=lt(()=>i.value>-1&&pxe(r.params,n.value.params)),o=lt(()=>i.value>-1&&i.value===r.matched.length-1&&Ij(r.params,n.value.params));function a(c={}){if(hxe(c)){const l=e[Fi(t.replace)?"replace":"push"](Fi(t.to)).catch(Yg);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:lt(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function uxe(t){return t.length===1?t[0]:t}const fxe=Zr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:qD,setup(t,{slots:e}){const r=nl(qD(t)),{options:n}=bi(Zv),i=lt(()=>({[zD(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[zD(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&uxe(e.default(r));return t.custom?s:Ty("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),dxe=fxe;function hxe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pxe(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!pc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function WD(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zD=(t,e,r)=>t??e??r,gxe=Zr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=bi(JN),i=lt(()=>t.route||n.value),s=bi(HD,0),o=lt(()=>{let l=Fi(s);const{matched:u}=i.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=lt(()=>i.value.matched[o.value]);w0(HD,lt(()=>o.value+1)),w0(lxe,a),w0(JN,i);const c=ze();return _r(()=>[c.value,a.value,t.name],([l,u,f],[d,h,m])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!J0(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return GD(r.default,{Component:d,route:l});const h=f.props[u],m=h?h===!0?l.params:typeof h=="function"?h(l):h:null,y=Ty(d,Xt({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return GD(r.default,{Component:y,route:l})||y}}});function GD(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const mxe=gxe;function yxe(t){const e=rxe(t.routes,t),r=t.parseQuery||axe,n=t.stringifyQuery||jD,i=t.history,s=Xp(),o=Xp(),a=Xp(),c=CS(Tu);let l=Tu;s0&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=t2.bind(null,B=>""+B),f=t2.bind(null,IAe),d=t2.bind(null,wy);function h(B,J){let Y,ee;return Rj(B)?(Y=e.getRecordMatcher(B),ee=J):ee=B,e.addRoute(ee,Y)}function m(B){const J=e.getRecordMatcher(B);J&&e.removeRoute(J)}function g(){return e.getRoutes().map(B=>B.record)}function y(B){return!!e.getRecordMatcher(B)}function w(B,J){if(J=Xt({},J||c.value),typeof B=="string"){const W=r2(r,B,J.path),Z=e.resolve({path:W.path},J),fe=i.createHref(W.fullPath);return Xt(W,Z,{params:d(Z.params),hash:wy(W.hash),redirectedFrom:void 0,href:fe})}let Y;if(B.path!=null)Y=Xt({},B,{path:r2(r,B.path,J.path).path});else{const W=Xt({},B.params);for(const Z in W)W[Z]==null&&delete W[Z];Y=Xt({},B,{params:f(W)}),J.params=f(J.params)}const ee=e.resolve(Y,J),oe=B.hash||"";ee.params=u(d(ee.params));const z=PAe(n,Xt({},B,{hash:CAe(oe),path:ee.path})),Q=i.createHref(z);return Xt({fullPath:z,hash:oe,query:n===jD?cxe(B.query):B.query||{}},ee,{redirectedFrom:void 0,href:Q})}function x(B){return typeof B=="string"?r2(r,B,c.value.path):Xt({},B)}function S(B,J){if(l!==B)return Y0(8,{from:J,to:B})}function R(B){return F(B)}function D(B){return R(Xt(x(B),{replace:!0}))}function P(B){const J=B.matched[B.matched.length-1];if(J&&J.redirect){const{redirect:Y}=J;let ee=typeof Y=="function"?Y(B):Y;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=x(ee):{path:ee},ee.params={}),Xt({query:B.query,hash:B.hash,params:ee.path!=null?{}:B.params},ee)}}function F(B,J){const Y=l=w(B),ee=c.value,oe=B.state,z=B.force,Q=B.replace===!0,W=P(Y);if(W)return F(Xt(x(W),{state:typeof W=="object"?Xt({},oe,W.state):oe,force:z,replace:Q}),J||Y);const Z=Y;Z.redirectedFrom=J;let fe;return!z&&OAe(n,ee,Y)&&(fe=Y0(16,{to:Z,from:ee}),k(ee,ee,!0,!1)),(fe?Promise.resolve(fe):M(Z,ee)).catch(ae=>bl(ae)?bl(ae,2)?ae:j(ae):O(ae,Z,ee)).then(ae=>{if(ae){if(bl(ae,2))return F(Xt({replace:Q},x(ae.to),{state:typeof ae.to=="object"?Xt({},oe,ae.to.state):oe,force:z}),J||Z)}else ae=I(Z,ee,!0,Q,oe);return U(Z,ee,ae),ae})}function E(B,J){const Y=S(B,J);return Y?Promise.reject(Y):Promise.resolve()}function v(B){const J=H.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(B):B()}function M(B,J){let Y;const[ee,oe,z]=bxe(B,J);Y=n2(ee.reverse(),"beforeRouteLeave",B,J);for(const W of ee)W.leaveGuards.forEach(Z=>{Y.push(Wu(Z,B,J))});const Q=E.bind(null,B,J);return Y.push(Q),G(Y).then(()=>{Y=[];for(const W of s.list())Y.push(Wu(W,B,J));return Y.push(Q),G(Y)}).then(()=>{Y=n2(oe,"beforeRouteUpdate",B,J);for(const W of oe)W.updateGuards.forEach(Z=>{Y.push(Wu(Z,B,J))});return Y.push(Q),G(Y)}).then(()=>{Y=[];for(const W of z)if(W.beforeEnter)if(pc(W.beforeEnter))for(const Z of W.beforeEnter)Y.push(Wu(Z,B,J));else Y.push(Wu(W.beforeEnter,B,J));return Y.push(Q),G(Y)}).then(()=>(B.matched.forEach(W=>W.enterCallbacks={}),Y=n2(z,"beforeRouteEnter",B,J,v),Y.push(Q),G(Y))).then(()=>{Y=[];for(const W of o.list())Y.push(Wu(W,B,J));return Y.push(Q),G(Y)}).catch(W=>bl(W,8)?W:Promise.reject(W))}function U(B,J,Y){a.list().forEach(ee=>v(()=>ee(B,J,Y)))}function I(B,J,Y,ee,oe){const z=S(B,J);if(z)return z;const Q=J===Tu,W=s0?history.state:{};Y&&(ee||Q?i.replace(B.fullPath,Xt({scroll:Q&&W&&W.scroll},oe)):i.push(B.fullPath,oe)),c.value=B,k(B,J,Y,Q),j()}let C;function p(){C||(C=i.listen((B,J,Y)=>{if(!T.listening)return;const ee=w(B),oe=P(ee);if(oe){F(Xt(oe,{replace:!0,force:!0}),ee).catch(Yg);return}l=ee;const z=c.value;s0&&BAe(OD(z.fullPath,Y.delta),Qv()),M(ee,z).catch(Q=>bl(Q,12)?Q:bl(Q,2)?(F(Xt(x(Q.to),{force:!0}),ee).then(W=>{bl(W,20)&&!Y.delta&&Y.type===vy.pop&&i.go(-1,!1)}).catch(Yg),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),O(Q,ee,z))).then(Q=>{Q=Q||I(ee,z,!1),Q&&(Y.delta&&!bl(Q,8)?i.go(-Y.delta,!1):Y.type===vy.pop&&bl(Q,20)&&i.go(-1,!1)),U(ee,z,Q)}).catch(Yg)}))}let b=Xp(),_=Xp(),N;function O(B,J,Y){j(B);const ee=_.list();return ee.length?ee.forEach(oe=>oe(B,J,Y)):console.error(B),Promise.reject(B)}function $(){return N&&c.value!==Tu?Promise.resolve():new Promise((B,J)=>{b.add([B,J])})}function j(B){return N||(N=!B,p(),b.list().forEach(([J,Y])=>B?Y(B):J()),b.reset()),B}function k(B,J,Y,ee){const{scrollBehavior:oe}=t;if(!s0||!oe)return Promise.resolve();const z=!Y&&jAe(OD(B.fullPath,0))||(ee||!Y)&&history.state&&history.state.scroll||null;return Lo().then(()=>oe(B,J,z)).then(Q=>Q&&FAe(Q)).catch(Q=>O(Q,B,J))}const A=B=>i.go(B);let L;const H=new Set,T={currentRoute:c,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:w,options:t,push:R,replace:D,go:A,back:()=>A(-1),forward:()=>A(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:_.add,isReady:$,install(B){const J=this;B.component("RouterLink",dxe),B.component("RouterView",mxe),B.config.globalProperties.$router=J,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Fi(c)}),s0&&!L&&c.value===Tu&&(L=!0,R(i.location).catch(oe=>{}));const Y={};for(const oe in Tu)Object.defineProperty(Y,oe,{get:()=>c.value[oe],enumerable:!0});B.provide(Zv,J),B.provide(k3,u9(Y)),B.provide(JN,c);const ee=B.unmount;H.add(B),B.unmount=function(){H.delete(B),H.size<1&&(l=Tu,C&&C(),C=null,c.value=Tu,L=!1,N=!1),ee()}}};function G(B){return B.reduce((J,Y)=>J.then(()=>v(Y)),Promise.resolve())}return T}function bxe(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>J0(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>J0(l,c))||i.push(c))}return[r,n,i]}function M3(){return bi(Zv)}function _xe(t){return bi(k3)}function wxe(){}const yc=Object.assign,kj=typeof window<"u",ib=t=>t!==null&&typeof t=="object",Gn=t=>t!=null,Fw=t=>typeof t=="function",Mj=t=>ib(t)&&Fw(t.then)&&Fw(t.catch),Uj=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),vxe=()=>kj?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function VD(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=ib(n)&&(s=n[i])!=null?s:""}),n}function Exe(t,e,r){return e.reduce((n,i)=>(n[i]=t[i],n),{})}const KD=t=>Array.isArray(t)?t:[t],sf=null,br=[Number,String],ls={type:Boolean,default:!0},Axe=t=>({type:Number,default:t}),o0=t=>({type:br,default:t}),En=t=>({type:String,default:t});var U3=typeof window<"u",xxe=t=>t===window,JD=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),Cxe=t=>{const e=Fi(t);if(xxe(e)){const r=e.innerWidth,n=e.innerHeight;return JD(r,n)}return e?.getBoundingClientRect?e.getBoundingClientRect():JD(0,0)};function Nxe(t){const e=bi(t,null);if(e){const r=Fs(),{link:n,unlink:i,internalChildren:s}=e;n(r),xf(()=>i(r));const o=lt(()=>s.indexOf(r));return{parent:e,index:o}}return{parent:null,index:ze(-1)}}function $j(t){let e;ou(()=>{t(),Lo(()=>{e=!0})}),SS(()=>{e&&t()})}function $3(t,e,r={}){if(!U3)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=f=>{if(o)return;const d=Fi(f);d&&!a&&(d.addEventListener(t,e,{capture:s,passive:i}),a=!0)},l=f=>{if(o)return;const d=Fi(f);d&&a&&(d.removeEventListener(t,e,s),a=!1)};xf(()=>l(n)),Yw(()=>l(n)),$j(()=>c(n));let u;return Qr(n)&&(u=_r(n,(f,d)=>{l(d),c(f)})),()=>{u?.(),l(n),o=!0}}var Yb,i2;function Sxe(){if(!Yb&&(Yb=ze(0),i2=ze(0),U3)){const t=()=>{Yb.value=window.innerWidth,i2.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Yb,height:i2}}var Ixe=/scroll|auto|overlay/i,Txe=U3?window:void 0;function Rxe(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Pxe(t,e=Txe){let r=t;for(;r&&r!==e&&Rxe(r);){const{overflowY:n}=window.getComputedStyle(r);if(Ixe.test(n))return r;r=r.parentNode}return e}var Lj=Symbol("van-field");function Oxe(t){const e=bi(Lj,null);e&&!e.customValue.value&&(e.customValue.value=t,_r(t,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}function YD(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function Fj(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Bj(t){YD(window,t),YD(document.body,t)}const Dxe=vxe();function jj(){Dxe&&Bj(Fj())}const kxe=t=>t.stopPropagation();function Yl(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&kxe(t)}const{width:Mxe,height:Uxe}=Sxe();function ss(t){if(Gn(t))return Uj(t)?`${t}px`:String(t)}function Hj(t){if(Gn(t)){if(Array.isArray(t))return{width:ss(t[0]),height:ss(t[1])};const e=ss(t);return{width:e,height:e}}}function qj(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const $xe=/-(\w)/g,Wj=t=>t.replace($xe,(e,r)=>r.toUpperCase()),Lxe=(t,e,r)=>Math.min(Math.max(t,e),r);function XD(t,e,r){const n=t.indexOf(e);return n===-1?t:e==="-"&&n!==0?t.slice(0,n):t.slice(0,n+1)+t.slice(n).replace(r,"")}function YN(t,e=!0,r=!0){e?t=XD(t,".",/\./g):t=t.split(".")[0],r?t=XD(t,"-",/-/g):t=t.replace(/-/,"");const n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}function Fxe(t,e){return Math.round((t+e)*1e10)/1e10}const{hasOwnProperty:Bxe}=Object.prototype;function jxe(t,e,r){const n=e[r];Gn(n)&&(!Bxe.call(t,r)||!ib(n)?t[r]=n:t[r]=zj(Object(t[r]),n))}function zj(t,e){return Object.keys(e).forEach(r=>{jxe(t,e,r)}),t}var Hxe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const QD=ze("zh-CN"),ZD=nl({"zh-CN":Hxe}),a0={messages(){return ZD[QD.value]},use(t,e){QD.value=t,this.add({[t]:e})},add(t={}){zj(ZD,t)}};var qxe=a0;function Wxe(t){const e=Wj(t)+".";return(r,...n)=>{const i=qxe.messages(),s=VD(i,e+r)||VD(i,r);return Fw(s)?s(...n):s}}function XN(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+XN(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?XN(t,n):""),""):""}function zxe(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${XN(e,r)}`)}function la(t){const e=`van-${t}`;return[e,zxe(e),Wxe(e)]}const Gj="van-hairline",Gxe=`${Gj}--bottom`,Vxe=`${Gj}--surround`,Ey="van-haptics-feedback",Kxe=Symbol("van-form"),Jxe=500,ek=5;function Vj(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);Mj(s)?s.then(o=>{o?r():n&&n()}).catch(i||wxe):s?r():n&&n()}else r()}function ol(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(Wj(`-${r}`),t))},t}const Kj=Symbol();function Yxe(t){const e=bi(Kj,null);e&&_r(e,r=>{r&&t()})}const Xxe=(t,e)=>{const r=ze(),n=()=>{r.value=Cxe(t).height};return ou(()=>{Lo(n);for(let i=1;i<=3;i++)setTimeout(n,100*i)}),Yxe(()=>Lo(n)),_r([Mxe,Uxe],n),r};function Qxe(t,e){const r=Xxe(t);return n=>pe("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function L3(t){const e=Fs();e&&yc(e.proxy,t)}const Jj={to:[String,Object],url:String,replace:Boolean};function Zxe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function Yj(){const t=Fs().proxy;return()=>Zxe(t)}const[e2e,tk]=la("badge"),t2e={dot:Boolean,max:br,tag:En("div"),color:String,offset:Array,content:br,showZero:ls,position:En("top-right")};var r2e=Zr({name:e2e,props:t2e,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return Gn(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:l}=t;if(!a&&r())return e.content?e.content():Gn(c)&&Uj(l)&&+l>+c?`${c}+`:l},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=lt(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof l=="number"?a[f]=ss(f==="top"?l:-l):a[f]=f==="top"?ss(l):i(l),typeof c=="number"?a[d]=ss(d==="left"?c:-c):a[d]=d==="left"?ss(c):i(c)):(a.marginTop=ss(l),a.marginLeft=ss(c))}return a}),o=()=>{if(r()||t.dot)return pe("div",{class:tk([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return pe(a,{class:tk("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const n2e=ol(r2e);let i2e=2e3;const s2e=()=>++i2e,[o2e]=la("config-provider"),a2e=Symbol(o2e),[c2e,rk]=la("icon"),l2e=t=>t?.includes("/"),u2e={dot:Boolean,tag:En("i"),name:String,size:br,badge:br,color:String,badgeProps:Object,classPrefix:String};var f2e=Zr({name:c2e,props:u2e,setup(t,{slots:e}){const r=bi(a2e,null),n=lt(()=>t.classPrefix||r?.iconPrefix||rk());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:l}=t,u=l2e(o);return pe(n2e,dc({dot:s,tag:i,class:[n.value,u?"":`${n.value}-${o}`],style:{color:l,fontSize:ss(a)},content:c},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&pe("img",{class:rk("image"),src:o},null)]}})}}});const Wo=ol(f2e),[d2e,Qg]=la("loading"),h2e=Array(12).fill(null).map((t,e)=>pe("i",{class:Qg("line",String(e+1))},null)),p2e=pe("svg",{class:Qg("circular"),viewBox:"25 25 50 50"},[pe("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),g2e={size:br,type:En("circular"),color:String,vertical:Boolean,textSize:br,textColor:String};var m2e=Zr({name:d2e,props:g2e,setup(t,{slots:e}){const r=lt(()=>yc({color:t.color},Hj(t.size))),n=()=>{const s=t.type==="spinner"?h2e:p2e;return pe("span",{class:Qg("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return pe("span",{class:Qg("text"),style:{fontSize:ss(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return pe("div",{class:Qg([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const Xj=ol(m2e),[y2e,jh]=la("button"),b2e=yc({},Jj,{tag:En("button"),text:String,icon:String,type:En("default"),size:En("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:En("button"),loadingSize:br,loadingText:String,loadingType:String,iconPosition:En("left")});var _2e=Zr({name:y2e,props:b2e,emits:["click"],setup(t,{emit:e,slots:r}){const n=Yj(),i=()=>r.loading?r.loading():pe(Xj,{size:t.loadingSize,type:t.loadingType,class:jh("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return pe("div",{class:jh("icon")},[r.icon()]);if(t.icon)return pe(Wo,{name:t.icon,class:jh("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let l;if(t.loading?l=t.loadingText:l=r.default?r.default():t.text,l)return pe("span",{class:jh("text")},[l])},a=()=>{const{color:l,plain:u}=t;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{t.loading?Yl(l):t.disabled||(e("click",l),n())};return()=>{const{tag:l,type:u,size:f,block:d,round:h,plain:m,square:g,loading:y,disabled:w,hairline:x,nativeType:S,iconPosition:R}=t,D=[jh([u,f,{plain:m,block:d,round:h,square:g,loading:y,disabled:w,hairline:x}]),{[Vxe]:x}];return pe(l,{type:S,class:D,style:a(),disabled:w,onClick:c},{default:()=>[pe("div",{class:jh("content")},[R==="left"&&s(),o(),R==="right"&&s()])]})}}});const sb=ol(_2e),w2e={show:Boolean,zIndex:br,overlay:ls,duration:br,teleport:[String,Object],lockScroll:ls,lazyRender:ls,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:sf,transitionAppear:Boolean,closeOnClickOverlay:ls};function v2e(t,e){return t>e?"horizontal":e>t?"vertical":""}function E2e(){const t=ze(0),e=ze(0),r=ze(0),n=ze(0),i=ze(0),s=ze(0),o=ze(""),a=ze(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:h=>{const m=h.touches[0];r.value=(m.clientX<0?0:m.clientX)-t.value,n.value=m.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const g=10;(!o.value||i.value<g&&s.value<g)&&(o.value=v2e(i.value,s.value)),a.value&&(i.value>ek||s.value>ek)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let Qp=0;const nk="van-overflow-hidden";function A2e(t,e){const r=E2e(),n="01",i="10",s=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=Pxe(u.target,t.value),{scrollHeight:h,offsetHeight:m,scrollTop:g}=d;let y="11";g===0?y=m>=h?"00":"01":g+m>=h&&(y="10"),y!=="11"&&r.isVertical()&&!(parseInt(y,2)&parseInt(f,2))&&Yl(u,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),Qp||document.body.classList.add(nk),Qp++},a=()=>{Qp&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),Qp--,Qp||document.body.classList.remove(nk))},c=()=>e()&&o(),l=()=>e()&&a();$j(c),Yw(l),IS(l),_r(e,u=>{u?o():a()})}function Qj(t){const e=ze(!1);return _r(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const ik=()=>{var t;const{scopeId:e}=((t=Fs())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[x2e,C2e]=la("overlay"),N2e={show:Boolean,zIndex:br,duration:br,className:sf,lockScroll:ls,lazyRender:ls,customStyle:Object,teleport:[String,Object]};var S2e=Zr({name:x2e,inheritAttrs:!1,props:N2e,setup(t,{attrs:e,slots:r}){const n=ze(),i=Qj(()=>t.show||!t.lazyRender),s=a=>{t.lockScroll&&Yl(a,!0)},o=i(()=>{var a;const c=yc(qj(t.zIndex),t.customStyle);return Gn(t.duration)&&(c.animationDuration=`${t.duration}s`),bg(pe("div",dc({ref:n,style:c,class:[C2e(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[Cg,t.show]])});return $3("touchmove",s,{target:n}),()=>{const a=pe(Z9,{name:"van-fade",appear:!0},{default:o});return t.teleport?pe(v9,{to:t.teleport},{default:()=>[a]}):a}}});const I2e=ol(S2e),T2e=yc({},w2e,{round:Boolean,position:En("center"),closeIcon:En("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:En("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[R2e,sk]=la("popup");var P2e=Zr({name:R2e,inheritAttrs:!1,props:T2e,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=ze(),a=ze(),c=Qj(()=>t.show||!t.lazyRender),l=lt(()=>{const P={zIndex:o.value};if(Gn(t.duration)){const F=t.position==="center"?"animationDuration":"transitionDuration";P[F]=`${t.duration}s`}return P}),u=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:s2e(),e("open"))},f=()=>{i&&Vj(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=P=>{e("clickOverlay",P),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const P=yc({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return pe(I2e,dc(P,ik(),{onClick:d}),{default:n["overlay-content"]})}},m=P=>{e("clickCloseIcon",P),f()},g=()=>{if(t.closeable)return pe(Wo,{role:"button",tabindex:0,name:t.closeIcon,class:[sk("close-icon",t.closeIconPosition),Ey],classPrefix:t.iconPrefix,onClick:m},null)};let y;const w=()=>{y&&clearTimeout(y),y=setTimeout(()=>{e("opened")})},x=()=>e("closed"),S=P=>e("keydown",P),R=c(()=>{var P;const{destroyOnClose:F,round:E,position:v,safeAreaInsetTop:M,safeAreaInsetBottom:U,show:I}=t;if(!(!I&&F))return bg(pe("div",dc({ref:a,style:l.value,role:"dialog",tabindex:0,class:[sk({round:E,[v]:v}),{"van-safe-area-top":M,"van-safe-area-bottom":U}],onKeydown:S},r,ik()),[(P=n.default)==null?void 0:P.call(n),g()]),[[Cg,I]])}),D=()=>{const{position:P,transition:F,transitionAppear:E}=t,v=P==="center"?"van-fade":`van-popup-slide-${P}`;return pe(Z9,{name:F||v,appear:E,onAfterEnter:w,onAfterLeave:x},{default:R})};return _r(()=>t.show,P=>{P&&!i&&(u(),r.tabindex===0&&Lo(()=>{var F;(F=a.value)==null||F.focus()})),!P&&i&&(i=!1,e("close"))}),L3({popupRef:a}),A2e(a,()=>t.show&&t.lockScroll),$3("popstate",()=>{t.closeOnPopstate&&(f(),s=!1)}),ou(()=>{t.show&&u()}),SS(()=>{s&&(e("update:show",!0),s=!1)}),Yw(()=>{t.show&&t.teleport&&(f(),s=!0)}),w0(Kj,()=>t.show),()=>t.teleport?pe(v9,{to:t.teleport},{default:()=>[h(),D()]}):pe(vn,null,[h(),D()])}});const F3=ol(P2e);let O2e=0;function D2e(){const t=Fs(),{name:e="unknown"}=t?.type||{};return`${e}-${++O2e}`}const[k2e,Hh]=la("cell"),Zj={tag:En("div"),icon:String,size:String,title:br,value:br,label:br,center:Boolean,isLink:Boolean,border:ls,iconPrefix:String,valueClass:sf,labelClass:sf,titleClass:sf,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},M2e=yc({},Zj,Jj);var U2e=Zr({name:k2e,props:M2e,setup(t,{slots:e}){const r=Yj(),n=()=>{if(e.label||Gn(t.label))return pe("div",{class:[Hh("label"),t.labelClass]},[e.label?e.label():t.label])},i=()=>{var c;if(e.title||Gn(t.title)){const l=(c=e.title)==null?void 0:c.call(e);return Array.isArray(l)&&l.length===0?void 0:pe("div",{class:[Hh("title"),t.titleClass],style:t.titleStyle},[l||pe("span",null,[t.title]),n()])}},s=()=>{const c=e.value||e.default;if(c||Gn(t.value))return pe("div",{class:[Hh("value"),t.valueClass]},[c?c():pe("span",null,[t.value])])},o=()=>{if(e.icon)return e.icon();if(t.icon)return pe(Wo,{name:t.icon,class:Hh("left-icon"),classPrefix:t.iconPrefix},null)},a=()=>{if(e["right-icon"])return e["right-icon"]();if(t.isLink){const c=t.arrowDirection&&t.arrowDirection!=="right"?`arrow-${t.arrowDirection}`:"arrow";return pe(Wo,{name:c,class:Hh("right-icon")},null)}};return()=>{var c;const{tag:l,size:u,center:f,border:d,isLink:h,required:m}=t,g=(c=t.clickable)!=null?c:h,y={center:f,required:!!m,clickable:g,borderless:!d};return u&&(y[u]=!!u),pe(l,{class:Hh(y),role:g?"button":void 0,tabindex:g?0:void 0,onClick:r},{default:()=>{var w;return[o(),i(),s(),a(),(w=e.extra)==null?void 0:w.call(e)]}})}}});const $2e=ol(U2e);function eH(t){return Array.isArray(t)?!t.length:t===0?!1:!t}function L2e(t,e){if(eH(t)){if(e.required)return!1;if(e.validateEmpty===!1)return!0}return!(e.pattern&&!e.pattern.test(String(t)))}function F2e(t,e){return new Promise(r=>{const n=e.validator(t,e);if(Mj(n)){n.then(r);return}r(n)})}function ok(t,e){const{message:r}=e;return Fw(r)?r(t,e):r||""}function B2e({target:t}){t.composing=!0}function ak({target:t}){t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function j2e(t,e){const r=Fj();t.style.height="auto";let n=t.scrollHeight;if(ib(e)){const{maxHeight:i,minHeight:s}=e;i!==void 0&&(n=Math.min(n,i)),s!==void 0&&(n=Math.max(n,s))}n&&(t.style.height=`${n}px`,Bj(r))}function H2e(t,e){return t==="number"&&(t="text",e??(e="decimal")),t==="digit"&&(t="tel",e??(e="numeric")),{type:t,inputmode:e}}function _l(t){return[...t].length}function s2(t,e){return[...t].slice(0,e).join("")}const[q2e,xo]=la("field"),W2e={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:br,max:Number,min:Number,formatter:Function,clearIcon:En("clear"),modelValue:o0(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:En("focus"),formatTrigger:En("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},z2e=yc({},Zj,W2e,{rows:br,type:En("text"),rules:Array,autosize:[Boolean,Object],labelWidth:br,labelClass:sf,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var G2e=Zr({name:q2e,props:z2e,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(t,{emit:e,slots:r}){const n=D2e(),i=nl({status:"unvalidated",focused:!1,validateMessage:""}),s=ze(),o=ze(),a=ze(),{parent:c}=Nxe(Kxe),l=()=>{var B;return String((B=t.modelValue)!=null?B:"")},u=B=>{if(Gn(t[B]))return t[B];if(c&&Gn(c.props[B]))return c.props[B]},f=lt(()=>{const B=u("readonly");if(t.clearable&&!B){const J=l()!=="",Y=t.clearTrigger==="always"||t.clearTrigger==="focus"&&i.focused;return J&&Y}return!1}),d=lt(()=>a.value&&r.input?a.value():t.modelValue),h=lt(()=>{var B;const J=u("required");return J==="auto"?(B=t.rules)==null?void 0:B.some(Y=>Y.required):J}),m=B=>B.reduce((J,Y)=>J.then(()=>{if(i.status==="failed")return;let{value:ee}=d;if(Y.formatter&&(ee=Y.formatter(ee,Y)),!L2e(ee,Y)){i.status="failed",i.validateMessage=ok(ee,Y);return}if(Y.validator)return eH(ee)&&Y.validateEmpty===!1?void 0:F2e(ee,Y).then(oe=>{oe&&typeof oe=="string"?(i.status="failed",i.validateMessage=oe):oe===!1&&(i.status="failed",i.validateMessage=ok(ee,Y))})}),Promise.resolve()),g=()=>{i.status="unvalidated",i.validateMessage=""},y=()=>e("endValidate",{status:i.status,message:i.validateMessage}),w=(B=t.rules)=>new Promise(J=>{g(),B?(e("startValidate"),m(B).then(()=>{i.status==="failed"?(J({name:t.name,message:i.validateMessage}),y()):(i.status="passed",J(),y())})):J()}),x=B=>{if(c&&t.rules){const{validateTrigger:J}=c.props,Y=KD(J).includes(B),ee=t.rules.filter(oe=>oe.trigger?KD(oe.trigger).includes(B):Y);ee.length&&w(ee)}},S=B=>{var J;const{maxlength:Y}=t;if(Gn(Y)&&_l(B)>+Y){const ee=l();if(ee&&_l(ee)===+Y)return ee;const oe=(J=s.value)==null?void 0:J.selectionEnd;if(i.focused&&oe){const z=[...B],Q=z.length-+Y;return z.splice(oe-Q,Q),z.join("")}return s2(B,+Y)}return B},R=(B,J="onChange")=>{var Y,ee;const oe=B;B=S(B);const z=_l(oe)-_l(B);if(t.type==="number"||t.type==="digit"){const W=t.type==="number";if(B=YN(B,W,W),J==="onBlur"&&B!==""&&(t.min!==void 0||t.max!==void 0)){const Z=Lxe(+B,(Y=t.min)!=null?Y:-1/0,(ee=t.max)!=null?ee:1/0);+B!==Z&&(B=Z.toString())}}let Q=0;if(t.formatter&&J===t.formatTrigger){const{formatter:W,maxlength:Z}=t;if(B=W(B),Gn(Z)&&_l(B)>+Z&&(B=s2(B,+Z)),s.value&&i.focused){const{selectionEnd:fe}=s.value,ae=s2(oe,fe);Q=_l(W(ae))-_l(ae)}}if(s.value&&s.value.value!==B)if(i.focused){let{selectionStart:W,selectionEnd:Z}=s.value;if(s.value.value=B,Gn(W)&&Gn(Z)){const fe=_l(B);z?(W-=z,Z-=z):Q&&(W+=Q,Z+=Q),s.value.setSelectionRange(Math.min(W,fe),Math.min(Z,fe))}}else s.value.value=B;B!==t.modelValue&&e("update:modelValue",B)},D=B=>{B.target.composing||R(B.target.value)},P=()=>{var B;return(B=s.value)==null?void 0:B.blur()},F=()=>{var B;return(B=s.value)==null?void 0:B.focus()},E=()=>{const B=s.value;t.type==="textarea"&&t.autosize&&B&&j2e(B,t.autosize)},v=B=>{i.focused=!0,e("focus",B),Lo(E),u("readonly")&&P()},M=B=>{i.focused=!1,R(l(),"onBlur"),e("blur",B),!u("readonly")&&(x("onBlur"),Lo(E),jj())},U=B=>e("clickInput",B),I=B=>e("clickLeftIcon",B),C=B=>e("clickRightIcon",B),p=B=>{Yl(B),e("update:modelValue",""),e("clear",B)},b=lt(()=>{if(typeof t.error=="boolean")return t.error;if(c&&c.props.showError&&i.status==="failed")return!0}),_=lt(()=>{const B=u("labelWidth"),J=u("labelAlign");if(B&&J!=="top")return{width:ss(B)}}),N=B=>{B.keyCode===13&&(!(c&&c.props.submitOnEnter)&&t.type!=="textarea"&&Yl(B),t.type==="search"&&P()),e("keypress",B)},O=()=>t.id||`${n}-input`,$=()=>i.status,j=()=>{const B=xo("control",[u("inputAlign"),{error:b.value,custom:!!r.input,"min-height":t.type==="textarea"&&!t.autosize}]);if(r.input)return pe("div",{class:B,onClick:U},[r.input()]);const J={id:O(),ref:s,name:t.name,rows:t.rows!==void 0?+t.rows:void 0,class:B,disabled:u("disabled"),readonly:u("readonly"),autofocus:t.autofocus,placeholder:t.placeholder,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,enterkeyhint:t.enterkeyhint,spellcheck:t.spellcheck,"aria-labelledby":t.label?`${n}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:M,onFocus:v,onInput:D,onClick:U,onChange:ak,onKeypress:N,onCompositionend:ak,onCompositionstart:B2e};return t.type==="textarea"?pe("textarea",dc(J,{inputmode:t.inputmode}),null):pe("input",dc(H2e(t.type,t.inputmode),J),null)},k=()=>{const B=r["left-icon"];if(t.leftIcon||B)return pe("div",{class:xo("left-icon"),onClick:I},[B?B():pe(Wo,{name:t.leftIcon,classPrefix:t.iconPrefix},null)])},A=()=>{const B=r["right-icon"];if(t.rightIcon||B)return pe("div",{class:xo("right-icon"),onClick:C},[B?B():pe(Wo,{name:t.rightIcon,classPrefix:t.iconPrefix},null)])},L=()=>{if(t.showWordLimit&&t.maxlength){const B=_l(l());return pe("div",{class:xo("word-limit")},[pe("span",{class:xo("word-num")},[B]),Yt("/"),t.maxlength])}},H=()=>{if(c&&c.props.showErrorMessage===!1)return;const B=t.errorMessage||i.validateMessage;if(B){const J=r["error-message"],Y=u("errorMessageAlign");return pe("div",{class:xo("error-message",Y)},[J?J({message:B}):B])}},T=()=>{const B=u("labelWidth"),J=u("labelAlign"),Y=u("colon")?":":"";if(r.label)return[r.label(),Y];if(t.label)return pe("label",{id:`${n}-label`,for:r.input?void 0:O(),"data-allow-mismatch":"attribute",onClick:ee=>{Yl(ee),F()},style:J==="top"&&B?{width:ss(B)}:void 0},[t.label+Y])},G=()=>[pe("div",{class:xo("body")},[j(),f.value&&pe(Wo,{ref:o,name:t.clearIcon,class:xo("clear")},null),A(),r.button&&pe("div",{class:xo("button")},[r.button()])]),L(),H()];return L3({blur:P,focus:F,validate:w,formValue:d,resetValidation:g,getValidationStatus:$}),w0(Lj,{customValue:a,resetValidation:g,validateWithTrigger:x}),_r(()=>t.modelValue,()=>{R(l()),g(),x("onChange"),Lo(E)}),ou(()=>{R(l(),t.formatTrigger),Lo(E)}),$3("touchstart",p,{target:lt(()=>{var B;return(B=o.value)==null?void 0:B.$el})}),()=>{const B=u("disabled"),J=u("labelAlign"),Y=k(),ee=()=>{const oe=T();return J==="top"?[Y,oe].filter(Boolean):oe||[]};return pe($2e,{size:t.size,class:xo({error:b.value,disabled:B,[`label-${J}`]:J}),center:t.center,border:t.border,isLink:t.isLink,clickable:t.clickable,titleStyle:_.value,valueClass:xo("value"),titleClass:[xo("label",[J,{required:h.value}]),t.labelClass],arrowDirection:t.arrowDirection},{icon:Y&&J!=="top"?()=>Y:null,title:ee,value:G,extra:r.extra})}}});const V2e=ol(G2e);let Zp=0;function K2e(t){t?(Zp||document.body.classList.add("van-toast--unclickable"),Zp++):Zp&&(Zp--,Zp||document.body.classList.remove("van-toast--unclickable"))}const[J2e,qh]=la("toast"),Y2e=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],X2e={icon:String,show:Boolean,type:En("text"),overlay:Boolean,message:br,iconSize:br,duration:Axe(2e3),position:En("middle"),teleport:[String,Object],wordBreak:String,className:sf,iconPrefix:String,transition:En("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:sf,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:br};var Q2e=Zr({name:J2e,props:X2e,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,K2e(i))},o=f=>e("update:show",f),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),l=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:m,loadingType:g}=t;if(f||d==="success"||d==="fail")return pe(Wo,{name:f||d,size:h,class:qh("icon"),classPrefix:m},null);if(d==="loading")return pe(Xj,{class:qh("loading"),size:h,type:g},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return pe("div",{class:qh("text")},[r.message()]);if(Gn(d)&&d!=="")return f==="html"?pe("div",{key:0,class:qh("text"),innerHTML:String(d)},null):pe("div",{class:qh("text")},[d])};return _r(()=>[t.show,t.forbidClick],s),_r(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),ou(s),xf(s),()=>pe(F3,dc({class:[qh([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},Exe(t,Y2e)),{default:()=>[l(),u()]})}});function Z2e(){const t=nl({show:!1}),e=i=>{t.show=i},r=i=>{yc(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return L3({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function eCe(t){const e=t7(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const tCe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Xb=[],rCe=!1,ck=yc({},tCe);const nCe=new Map;function iCe(t){return ib(t)?t:{message:t}}function sCe(){const{instance:t}=eCe({setup(){const e=ze(""),{open:r,state:n,close:i,toggle:s}=Z2e(),o=()=>{},a=()=>pe(Q2e,dc(n,{onClosed:o,"onUpdate:show":s}),null);return _r(e,c=>{n.message=c}),Fs().render=a,{open:r,close:i,message:e}}});return t}function oCe(){if(!Xb.length||rCe){const t=sCe();Xb.push(t)}return Xb[Xb.length-1]}function $o(t={}){if(!kj)return{};const e=oCe(),r=iCe(t);return e.open(yc({},ck,nCe.get(r.type||ck.type),r)),e}const[aCe,wl]=la("nav-bar"),cCe={title:String,fixed:Boolean,zIndex:br,border:ls,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:ls};var lCe=Zr({name:aCe,props:cCe,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=ze(),i=Qxe(n,wl),s=u=>{t.leftDisabled||e("clickLeft",u)},o=u=>{t.rightDisabled||e("clickRight",u)},a=()=>r.left?r.left():[t.leftArrow&&pe(Wo,{class:wl("arrow"),name:"arrow-left"},null),t.leftText&&pe("span",{class:wl("text")},[t.leftText])],c=()=>r.right?r.right():pe("span",{class:wl("text")},[t.rightText]),l=()=>{const{title:u,fixed:f,border:d,zIndex:h}=t,m=qj(h),g=t.leftArrow||t.leftText||r.left,y=t.rightText||r.right;return pe("div",{ref:n,style:m,class:[wl({fixed:f}),{[Gxe]:d,"van-safe-area-top":t.safeAreaInsetTop}]},[pe("div",{class:wl("content")},[g&&pe("div",{class:[wl("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?Ey:""],onClick:s},[a()]),pe("div",{class:[wl("title"),"van-ellipsis"]},[r.title?r.title():u]),y&&pe("div",{class:[wl("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?Ey:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(l):l()}});const uCe=ol(lCe),[fCe,Qb]=la("stepper"),dCe=200,Zb=(t,e)=>String(t)===String(e),hCe={min:o0(1),max:o0(1/0),name:o0(""),step:o0(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:ls,showMinus:ls,showInput:ls,longPress:ls,autoFixed:ls,allowEmpty:Boolean,modelValue:br,inputWidth:br,buttonSize:br,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:o0(1),decimalLength:br};var pCe=Zr({name:fCe,props:hCe,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(t,{emit:e}){const r=(E,v=!0)=>{const{min:M,max:U,allowEmpty:I,decimalLength:C}=t;return I&&E===""||(E=YN(String(E),!t.integer),E=E===""?0:+E,E=Number.isNaN(E)?+M:E,E=v?Math.max(Math.min(+U,E),+M):E,Gn(C)&&(E=E.toFixed(+C))),E},n=()=>{var E;const v=(E=t.modelValue)!=null?E:t.defaultValue,M=r(v);return Zb(M,t.modelValue)||e("update:modelValue",M),M};let i;const s=ze(),o=ze(n()),a=lt(()=>t.disabled||t.disableMinus||+o.value<=+t.min),c=lt(()=>t.disabled||t.disablePlus||+o.value>=+t.max),l=lt(()=>({width:ss(t.inputWidth),height:ss(t.buttonSize)})),u=lt(()=>Hj(t.buttonSize)),f=()=>{const E=r(o.value);Zb(E,o.value)||(o.value=E)},d=E=>{t.beforeChange?Vj(t.beforeChange,{args:[E],done(){o.value=E}}):o.value=E},h=()=>{if(i==="plus"&&c.value||i==="minus"&&a.value){e("overlimit",i);return}const E=i==="minus"?-t.step:+t.step,v=r(Fxe(+o.value,E));d(v),e(i)},m=E=>{const v=E.target,{value:M}=v,{decimalLength:U}=t;let I=YN(String(M),!t.integer);if(Gn(U)&&I.includes(".")){const p=I.split(".");I=`${p[0]}.${p[1].slice(0,+U)}`}t.beforeChange?v.value=String(o.value):Zb(M,I)||(v.value=I);const C=I===String(+I);d(C?+I:I)},g=E=>{var v;t.disableInput?(v=s.value)==null||v.blur():e("focus",E)},y=E=>{const v=E.target,M=r(v.value,t.autoFixed);v.value=String(M),o.value=M,Lo(()=>{e("blur",E),jj()})};let w,x;const S=()=>{x=setTimeout(()=>{h(),S()},dCe)},R=()=>{t.longPress&&(w=!1,clearTimeout(x),x=setTimeout(()=>{w=!0,h(),S()},Jxe))},D=E=>{t.longPress&&(clearTimeout(x),w&&Yl(E))},P=E=>{t.disableInput&&Yl(E)},F=E=>({onClick:v=>{Yl(v),i=E,h()},onTouchstartPassive:()=>{i=E,R()},onTouchend:D,onTouchcancel:D});return _r(()=>[t.max,t.min,t.integer,t.decimalLength],f),_r(()=>t.modelValue,E=>{Zb(E,o.value)||(o.value=r(E))}),_r(o,E=>{e("update:modelValue",E),e("change",E,{name:t.name})}),Oxe(()=>t.modelValue),()=>pe("div",{role:"group",class:Qb([t.theme])},[bg(pe("button",dc({type:"button",style:u.value,class:[Qb("minus",{disabled:a.value}),{[Ey]:!a.value}],"aria-disabled":a.value||void 0},F("minus")),null),[[Cg,t.showMinus]]),bg(pe("input",{ref:s,type:t.integer?"tel":"text",role:"spinbutton",class:Qb("input"),value:o.value,style:l.value,disabled:t.disabled,readonly:t.disableInput,inputmode:t.integer?"numeric":"decimal",placeholder:t.placeholder,autocomplete:"off","aria-valuemax":t.max,"aria-valuemin":t.min,"aria-valuenow":o.value,onBlur:y,onInput:m,onFocus:g,onMousedown:P},null),[[Cg,t.showInput]]),bg(pe("button",dc({type:"button",style:u.value,class:[Qb("plus",{disabled:c.value}),{[Ey]:!c.value}],"aria-disabled":c.value||void 0},F("plus")),null),[[Cg,t.showPlus]])])}});const gCe=ol(pCe),mCe=""+new URL("index_banner-D7NiKv1V.jpg",import.meta.url).href,yCe=""+new URL("video--rNTCQOM.mp4",import.meta.url).href,bCe=""+new URL("index_bottom-Ckrc-TNm.png",import.meta.url).href,_Ce=""+new URL("logo-DjNDim6X.png",import.meta.url).href,wCe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_263_2590)'%3e%3cpath%20d='M8.83594%2014.1328C9.40547%2014.1328%209.86719%2014.5945%209.86719%2015.1641V22.4766C9.86719%2023.0461%209.40547%2023.5078%208.83594%2023.5078H1.52344C0.953906%2023.5078%200.492188%2023.0461%200.492188%2022.4766V15.1641C0.492188%2014.5945%200.953906%2014.1328%201.52344%2014.1328H8.83594ZM20.5547%2014.1328C21.1242%2014.1328%2021.5859%2014.5945%2021.5859%2015.1641V22.4766C21.5859%2023.0461%2021.1242%2023.5078%2020.5547%2023.5078H13.2422C12.6727%2023.5078%2012.2109%2023.0461%2012.2109%2022.4766V15.1641C12.2109%2014.5945%2012.6727%2014.1328%2013.2422%2014.1328H20.5547ZM17.6276%201.20164L22.7984%206.37235C23.2011%206.77508%2023.2011%207.42805%2022.7984%207.83078L17.6276%2013.0015C17.2249%2013.4042%2016.572%2013.4042%2016.1692%2013.0015L10.9985%207.83078C10.5958%207.42805%2010.5958%206.77508%2010.9985%206.37235L16.1692%201.20164C16.572%200.798916%2017.2249%200.798916%2017.6276%201.20164ZM8.83594%202.41406C9.40547%202.41406%209.86719%202.87578%209.86719%203.44531V10.7578C9.86719%2011.3273%209.40547%2011.7891%208.83594%2011.7891H1.52344C0.953906%2011.7891%200.492188%2011.3273%200.492188%2010.7578V3.44531C0.492188%202.87578%200.953906%202.41406%201.52344%202.41406H8.83594Z'%20fill='%2300A899'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_263_2590'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function vCe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Bw=typeof window<"u",Pf=(t,e=!1)=>e?Symbol.for(t):Symbol(t),ECe=(t,e,r)=>ACe({l:t,k:e,s:r}),ACe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),gn=t=>typeof t=="number"&&isFinite(t),xCe=t=>rH(t)==="[object Date]",Ef=t=>rH(t)==="[object RegExp]",eE=t=>rt(t)&&Object.keys(t).length===0,_i=Object.assign,CCe=Object.create,ar=(t=null)=>CCe(t);let lk;const jl=()=>lk||(lk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:ar());function uk(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function fk(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function NCe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,s)=>`${i}="${fk(s)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,s)=>`${i}='${fk(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const SCe=Object.prototype.hasOwnProperty;function sc(t,e){return SCe.call(t,e)}const jr=Array.isArray,yr=t=>typeof t=="function",Re=t=>typeof t=="string",gt=t=>typeof t=="boolean",zt=t=>t!==null&&typeof t=="object",ICe=t=>zt(t)&&yr(t.then)&&yr(t.catch),tH=Object.prototype.toString,rH=t=>tH.call(t),rt=t=>{if(!zt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},TCe=t=>t==null?"":jr(t)||rt(t)&&t.toString===tH?JSON.stringify(t,null,2):String(t);function RCe(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function tE(t){let e=t;return()=>++e}const e1=t=>!zt(t)||jr(t);function p_(t,e){if(e1(t)||e1(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(zt(n[s])&&!zt(i[s])&&(i[s]=Array.isArray(n[s])?[]:ar()),e1(i[s])||e1(n[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function PCe(t,e,r){return{line:t,column:e,offset:r}}function jw(t,e,r){return{start:t,end:e}}const OCe=/\{([0-9a-zA-Z]+)\}/g;function nH(t,...e){return e.length===1&&DCe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(OCe,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const iH=Object.assign,dk=t=>typeof t=="string",DCe=t=>t!==null&&typeof t=="object";function sH(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const B3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},kCe={[B3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function MCe(t,e,...r){const n=nH(kCe[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const Qe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},UCe={[Qe.EXPECTED_TOKEN]:"Expected token: '{0}'",[Qe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Qe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Qe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Qe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Qe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Qe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Qe.EMPTY_PLACEHOLDER]:"Empty placeholder",[Qe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Qe.INVALID_LINKED_FORMAT]:"Invalid linked format",[Qe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Qe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Qe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Qe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Qe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Qe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function wp(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=nH((i||UCe)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function $Ce(t){throw t}const vl=" ",LCe="\r",Zi=`
`,FCe="\u2028",BCe="\u2029";function jCe(t){const e=t;let r=0,n=1,i=1,s=0;const o=F=>e[F]===LCe&&e[F+1]===Zi,a=F=>e[F]===Zi,c=F=>e[F]===BCe,l=F=>e[F]===FCe,u=F=>o(F)||a(F)||c(F)||l(F),f=()=>r,d=()=>n,h=()=>i,m=()=>s,g=F=>o(F)||c(F)||l(F)?Zi:e[F],y=()=>g(r),w=()=>g(r+s);function x(){return s=0,u(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function S(){return o(r+s)&&s++,s++,e[r+s]}function R(){r=0,n=1,i=1,s=0}function D(F=0){s=F}function P(){const F=r+s;for(;F!==r;)x();s=0}return{index:f,line:d,column:h,peekOffset:m,charAt:g,currentChar:y,currentPeek:w,next:x,peek:S,reset:R,resetPeek:D,skipToPeek:P}}const Ru=void 0,HCe=".",hk="'",qCe="tokenizer";function WCe(t,e={}){const r=e.location!==!1,n=jCe(t),i=()=>n.index(),s=()=>PCe(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function f(V,K,se,...ce){const me=l();if(K.column+=se,K.offset+=se,u){const be=r?jw(me.startLoc,K):null,te=wp(V,be,{domain:qCe,args:ce});u(te)}}function d(V,K,se){V.endLoc=s(),V.currentType=K;const ce={type:K};return r&&(ce.loc=jw(V.startLoc,V.endLoc)),se!=null&&(ce.value=se),ce}const h=V=>d(V,14);function m(V,K){return V.currentChar()===K?(V.next(),K):(f(Qe.EXPECTED_TOKEN,s(),0,K),"")}function g(V){let K="";for(;V.currentPeek()===vl||V.currentPeek()===Zi;)K+=V.currentPeek(),V.peek();return K}function y(V){const K=g(V);return V.skipToPeek(),K}function w(V){if(V===Ru)return!1;const K=V.charCodeAt(0);return K>=97&&K<=122||K>=65&&K<=90||K===95}function x(V){if(V===Ru)return!1;const K=V.charCodeAt(0);return K>=48&&K<=57}function S(V,K){const{currentType:se}=K;if(se!==2)return!1;g(V);const ce=w(V.currentPeek());return V.resetPeek(),ce}function R(V,K){const{currentType:se}=K;if(se!==2)return!1;g(V);const ce=V.currentPeek()==="-"?V.peek():V.currentPeek(),me=x(ce);return V.resetPeek(),me}function D(V,K){const{currentType:se}=K;if(se!==2)return!1;g(V);const ce=V.currentPeek()===hk;return V.resetPeek(),ce}function P(V,K){const{currentType:se}=K;if(se!==8)return!1;g(V);const ce=V.currentPeek()===".";return V.resetPeek(),ce}function F(V,K){const{currentType:se}=K;if(se!==9)return!1;g(V);const ce=w(V.currentPeek());return V.resetPeek(),ce}function E(V,K){const{currentType:se}=K;if(!(se===8||se===12))return!1;g(V);const ce=V.currentPeek()===":";return V.resetPeek(),ce}function v(V,K){const{currentType:se}=K;if(se!==10)return!1;const ce=()=>{const be=V.currentPeek();return be==="{"?w(V.peek()):be==="@"||be==="%"||be==="|"||be===":"||be==="."||be===vl||!be?!1:be===Zi?(V.peek(),ce()):I(V,!1)},me=ce();return V.resetPeek(),me}function M(V){g(V);const K=V.currentPeek()==="|";return V.resetPeek(),K}function U(V){const K=g(V),se=V.currentPeek()==="%"&&V.peek()==="{";return V.resetPeek(),{isModulo:se,hasSpace:K.length>0}}function I(V,K=!0){const se=(me=!1,be="",te=!1)=>{const ue=V.currentPeek();return ue==="{"?be==="%"?!1:me:ue==="@"||!ue?be==="%"?!0:me:ue==="%"?(V.peek(),se(me,"%",!0)):ue==="|"?be==="%"||te?!0:!(be===vl||be===Zi):ue===vl?(V.peek(),se(!0,vl,te)):ue===Zi?(V.peek(),se(!0,Zi,te)):!0},ce=se();return K&&V.resetPeek(),ce}function C(V,K){const se=V.currentChar();return se===Ru?Ru:K(se)?(V.next(),se):null}function p(V){const K=V.charCodeAt(0);return K>=97&&K<=122||K>=65&&K<=90||K>=48&&K<=57||K===95||K===36}function b(V){return C(V,p)}function _(V){const K=V.charCodeAt(0);return K>=97&&K<=122||K>=65&&K<=90||K>=48&&K<=57||K===95||K===36||K===45}function N(V){return C(V,_)}function O(V){const K=V.charCodeAt(0);return K>=48&&K<=57}function $(V){return C(V,O)}function j(V){const K=V.charCodeAt(0);return K>=48&&K<=57||K>=65&&K<=70||K>=97&&K<=102}function k(V){return C(V,j)}function A(V){let K="",se="";for(;K=$(V);)se+=K;return se}function L(V){y(V);const K=V.currentChar();return K!=="%"&&f(Qe.EXPECTED_TOKEN,s(),0,K),V.next(),"%"}function H(V){let K="";for(;;){const se=V.currentChar();if(se==="{"||se==="}"||se==="@"||se==="|"||!se)break;if(se==="%")if(I(V))K+=se,V.next();else break;else if(se===vl||se===Zi)if(I(V))K+=se,V.next();else{if(M(V))break;K+=se,V.next()}else K+=se,V.next()}return K}function T(V){y(V);let K="",se="";for(;K=N(V);)se+=K;return V.currentChar()===Ru&&f(Qe.UNTERMINATED_CLOSING_BRACE,s(),0),se}function G(V){y(V);let K="";return V.currentChar()==="-"?(V.next(),K+=`-${A(V)}`):K+=A(V),V.currentChar()===Ru&&f(Qe.UNTERMINATED_CLOSING_BRACE,s(),0),K}function B(V){return V!==hk&&V!==Zi}function J(V){y(V),m(V,"'");let K="",se="";for(;K=C(V,B);)K==="\\"?se+=Y(V):se+=K;const ce=V.currentChar();return ce===Zi||ce===Ru?(f(Qe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),ce===Zi&&(V.next(),m(V,"'")),se):(m(V,"'"),se)}function Y(V){const K=V.currentChar();switch(K){case"\\":case"'":return V.next(),`\\${K}`;case"u":return ee(V,K,4);case"U":return ee(V,K,6);default:return f(Qe.UNKNOWN_ESCAPE_SEQUENCE,s(),0,K),""}}function ee(V,K,se){m(V,K);let ce="";for(let me=0;me<se;me++){const be=k(V);if(!be){f(Qe.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${K}${ce}${V.currentChar()}`);break}ce+=be}return`\\${K}${ce}`}function oe(V){return V!=="{"&&V!=="}"&&V!==vl&&V!==Zi}function z(V){y(V);let K="",se="";for(;K=C(V,oe);)se+=K;return se}function Q(V){let K="",se="";for(;K=b(V);)se+=K;return se}function W(V){const K=se=>{const ce=V.currentChar();return ce==="{"||ce==="%"||ce==="@"||ce==="|"||ce==="("||ce===")"||!ce||ce===vl?se:(se+=ce,V.next(),K(se))};return K("")}function Z(V){y(V);const K=m(V,"|");return y(V),K}function fe(V,K){let se=null;switch(V.currentChar()){case"{":return K.braceNest>=1&&f(Qe.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),V.next(),se=d(K,2,"{"),y(V),K.braceNest++,se;case"}":return K.braceNest>0&&K.currentType===2&&f(Qe.EMPTY_PLACEHOLDER,s(),0),V.next(),se=d(K,3,"}"),K.braceNest--,K.braceNest>0&&y(V),K.inLinked&&K.braceNest===0&&(K.inLinked=!1),se;case"@":return K.braceNest>0&&f(Qe.UNTERMINATED_CLOSING_BRACE,s(),0),se=ae(V,K)||h(K),K.braceNest=0,se;default:{let me=!0,be=!0,te=!0;if(M(V))return K.braceNest>0&&f(Qe.UNTERMINATED_CLOSING_BRACE,s(),0),se=d(K,1,Z(V)),K.braceNest=0,K.inLinked=!1,se;if(K.braceNest>0&&(K.currentType===5||K.currentType===6||K.currentType===7))return f(Qe.UNTERMINATED_CLOSING_BRACE,s(),0),K.braceNest=0,ye(V,K);if(me=S(V,K))return se=d(K,5,T(V)),y(V),se;if(be=R(V,K))return se=d(K,6,G(V)),y(V),se;if(te=D(V,K))return se=d(K,7,J(V)),y(V),se;if(!me&&!be&&!te)return se=d(K,13,z(V)),f(Qe.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,se.value),y(V),se;break}}return se}function ae(V,K){const{currentType:se}=K;let ce=null;const me=V.currentChar();switch((se===8||se===9||se===12||se===10)&&(me===Zi||me===vl)&&f(Qe.INVALID_LINKED_FORMAT,s(),0),me){case"@":return V.next(),ce=d(K,8,"@"),K.inLinked=!0,ce;case".":return y(V),V.next(),d(K,9,".");case":":return y(V),V.next(),d(K,10,":");default:return M(V)?(ce=d(K,1,Z(V)),K.braceNest=0,K.inLinked=!1,ce):P(V,K)||E(V,K)?(y(V),ae(V,K)):F(V,K)?(y(V),d(K,12,Q(V))):v(V,K)?(y(V),me==="{"?fe(V,K)||ce:d(K,11,W(V))):(se===8&&f(Qe.INVALID_LINKED_FORMAT,s(),0),K.braceNest=0,K.inLinked=!1,ye(V,K))}}function ye(V,K){let se={type:14};if(K.braceNest>0)return fe(V,K)||h(K);if(K.inLinked)return ae(V,K)||h(K);switch(V.currentChar()){case"{":return fe(V,K)||h(K);case"}":return f(Qe.UNBALANCED_CLOSING_BRACE,s(),0),V.next(),d(K,3,"}");case"@":return ae(V,K)||h(K);default:{if(M(V))return se=d(K,1,Z(V)),K.braceNest=0,K.inLinked=!1,se;const{isModulo:me,hasSpace:be}=U(V);if(me)return be?d(K,0,H(V)):d(K,4,L(V));if(I(V))return d(K,0,H(V));break}}return se}function Ee(){const{currentType:V,offset:K,startLoc:se,endLoc:ce}=c;return c.lastType=V,c.lastOffset=K,c.lastStartLoc=se,c.lastEndLoc=ce,c.offset=i(),c.startLoc=s(),n.currentChar()===Ru?d(c,14):ye(n,c)}return{nextToken:Ee,currentOffset:i,currentPosition:s,context:l}}const zCe="parser",GCe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function VCe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function KCe(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(S,R,D,P,...F){const E=S.currentPosition();if(E.offset+=P,E.column+=P,r){const v=e?jw(D,E):null,M=wp(R,v,{domain:zCe,args:F});r(M)}}function s(S,R,D,P,...F){const E=S.currentPosition();if(E.offset+=P,E.column+=P,n){const v=e?jw(D,E):null;n(MCe(R,v,F))}}function o(S,R,D){const P={type:S};return e&&(P.start=R,P.end=R,P.loc={start:D,end:D}),P}function a(S,R,D,P){e&&(S.end=R,S.loc&&(S.loc.end=D))}function c(S,R){const D=S.context(),P=o(3,D.offset,D.startLoc);return P.value=R,a(P,S.currentOffset(),S.currentPosition()),P}function l(S,R){const D=S.context(),{lastOffset:P,lastStartLoc:F}=D,E=o(5,P,F);return E.index=parseInt(R,10),S.nextToken(),a(E,S.currentOffset(),S.currentPosition()),E}function u(S,R,D){const P=S.context(),{lastOffset:F,lastStartLoc:E}=P,v=o(4,F,E);return v.key=R,D===!0&&(v.modulo=!0),S.nextToken(),a(v,S.currentOffset(),S.currentPosition()),v}function f(S,R){const D=S.context(),{lastOffset:P,lastStartLoc:F}=D,E=o(9,P,F);return E.value=R.replace(GCe,VCe),S.nextToken(),a(E,S.currentOffset(),S.currentPosition()),E}function d(S){const R=S.nextToken(),D=S.context(),{lastOffset:P,lastStartLoc:F}=D,E=o(8,P,F);return R.type!==12?(i(S,Qe.UNEXPECTED_EMPTY_LINKED_MODIFIER,D.lastStartLoc,0),E.value="",a(E,P,F),{nextConsumeToken:R,node:E}):(R.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ga(R)),E.value=R.value||"",a(E,S.currentOffset(),S.currentPosition()),{node:E})}function h(S,R){const D=S.context(),P=o(7,D.offset,D.startLoc);return P.value=R,a(P,S.currentOffset(),S.currentPosition()),P}function m(S){const R=S.context(),D=o(6,R.offset,R.startLoc);let P=S.nextToken();if(P.type===9){const F=d(S);D.modifier=F.node,P=F.nextConsumeToken||S.nextToken()}switch(P.type!==10&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(P)),P=S.nextToken(),P.type===2&&(P=S.nextToken()),P.type){case 11:P.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(P)),D.key=h(S,P.value||"");break;case 5:P.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(P)),D.key=u(S,P.value||"");break;case 6:P.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(P)),D.key=l(S,P.value||"");break;case 7:P.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(P)),D.key=f(S,P.value||"");break;default:{i(S,Qe.UNEXPECTED_EMPTY_LINKED_KEY,R.lastStartLoc,0);const F=S.context(),E=o(7,F.offset,F.startLoc);return E.value="",a(E,F.offset,F.startLoc),D.key=E,a(D,F.offset,F.startLoc),{nextConsumeToken:P,node:D}}}return a(D,S.currentOffset(),S.currentPosition()),{node:D}}function g(S){const R=S.context(),D=R.currentType===1?S.currentOffset():R.offset,P=R.currentType===1?R.endLoc:R.startLoc,F=o(2,D,P);F.items=[];let E=null,v=null;do{const I=E||S.nextToken();switch(E=null,I.type){case 0:I.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(I)),F.items.push(c(S,I.value||""));break;case 6:I.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(I)),F.items.push(l(S,I.value||""));break;case 4:v=!0;break;case 5:I.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(I)),F.items.push(u(S,I.value||"",!!v)),v&&(s(S,B3.USE_MODULO_SYNTAX,R.lastStartLoc,0,ga(I)),v=null);break;case 7:I.value==null&&i(S,Qe.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,ga(I)),F.items.push(f(S,I.value||""));break;case 8:{const C=m(S);F.items.push(C.node),E=C.nextConsumeToken||null;break}}}while(R.currentType!==14&&R.currentType!==1);const M=R.currentType===1?R.lastOffset:S.currentOffset(),U=R.currentType===1?R.lastEndLoc:S.currentPosition();return a(F,M,U),F}function y(S,R,D,P){const F=S.context();let E=P.items.length===0;const v=o(1,R,D);v.cases=[],v.cases.push(P);do{const M=g(S);E||(E=M.items.length===0),v.cases.push(M)}while(F.currentType!==14);return E&&i(S,Qe.MUST_HAVE_MESSAGES_IN_PLURAL,D,0),a(v,S.currentOffset(),S.currentPosition()),v}function w(S){const R=S.context(),{offset:D,startLoc:P}=R,F=g(S);return R.currentType===14?F:y(S,D,P,F)}function x(S){const R=WCe(S,iH({},t)),D=R.context(),P=o(0,D.offset,D.startLoc);return e&&P.loc&&(P.loc.source=S),P.body=w(R),t.onCacheKey&&(P.cacheKey=t.onCacheKey(S)),D.currentType!==14&&i(R,Qe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,S[D.offset]||""),a(P,R.currentOffset(),R.currentPosition()),P}return{parse:x}}function ga(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function JCe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function pk(t,e){for(let r=0;r<t.length;r++)j3(t[r],e)}function j3(t,e){switch(t.type){case 1:pk(t.cases,e),e.helper("plural");break;case 2:pk(t.items,e);break;case 6:{j3(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function YCe(t,e={}){const r=JCe(t);r.helper("normalize"),t.body&&j3(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function XCe(t){const e=t.body;return e.type===2?gk(e):e.cases.forEach(r=>gk(r)),t}function gk(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=sH(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const QCe="minifier";function c0(t){switch(t.t=t.type,t.type){case 0:{const e=t;c0(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)c0(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)c0(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;c0(e.key),e.k=e.key,delete e.key,e.modifier&&(c0(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw wp(Qe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:QCe,args:[t.type]})}delete t.type}const ZCe="parser";function eNe(t,e){const{filename:r,breakLineCode:n,needIndent:i}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,y){o.code+=g}function l(g,y=!0){const w=y?n:"";c(i?w+"  ".repeat(g):w)}function u(g=!0){const y=++o.indentLevel;g&&l(y)}function f(g=!0){const y=--o.indentLevel;g&&l(y)}function d(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:f,newline:d,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function tNe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),X0(t,e.key),e.modifier?(t.push(", "),X0(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function rNe(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(X0(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function nNe(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(X0(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function iNe(t,e){e.body?X0(t,e.body):t.push("null")}function X0(t,e){const{helper:r}=t;switch(e.type){case 0:iNe(t,e);break;case 1:nNe(t,e);break;case 2:rNe(t,e);break;case 6:tNe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw wp(Qe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ZCe,args:[e.type]})}}const sNe=(t,e={})=>{const r=dk(e.mode)?e.mode:"normal",n=dk(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=eNe(t,{filename:n,breakLineCode:i,needIndent:s});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${sH(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),X0(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function oNe(t,e={}){const r=iH({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=KCe(r).parse(t);return n?(s&&XCe(a),i&&c0(a),{ast:a,code:""}):(YCe(a,r),sNe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function aNe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(jl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(jl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Zc(t){return zt(t)&&H3(t)===0&&(sc(t,"b")||sc(t,"body"))}const oH=["b","body"];function cNe(t){return Of(t,oH)}const aH=["c","cases"];function lNe(t){return Of(t,aH,[])}const cH=["s","static"];function uNe(t){return Of(t,cH)}const lH=["i","items"];function fNe(t){return Of(t,lH,[])}const uH=["t","type"];function H3(t){return Of(t,uH)}const fH=["v","value"];function t1(t,e){const r=Of(t,fH);if(r!=null)return r;throw Ay(e)}const dH=["m","modifier"];function dNe(t){return Of(t,dH)}const hH=["k","key"];function hNe(t){const e=Of(t,hH);if(e)return e;throw Ay(6)}function Of(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(sc(t,i)&&t[i]!=null)return t[i]}return r}const pH=[...oH,...aH,...cH,...lH,...hH,...dH,...fH,...uH];function Ay(t){return new Error(`unhandled node type: ${t}`)}const Df=[];Df[0]={w:[0],i:[3,0],"[":[4],o:[7]};Df[1]={w:[1],".":[2],"[":[4],o:[7]};Df[2]={w:[2],i:[3,0],0:[3,0]};Df[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Df[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Df[5]={"'":[4,0],o:8,l:[5,0]};Df[6]={'"':[4,0],o:8,l:[6,0]};const pNe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gNe(t){return pNe.test(t)}function mNe(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function yNe(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function bNe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:gNe(e)?mNe(e):"*"+e}function _Ne(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,o===void 0||(o=bNe(o),o===!1))return!1;d[1]()}};function h(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,d[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&h())){if(c=yNe(s),f=Df[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=s,u()===!1))))return;if(n===7)return e}}const mk=new Map;function wNe(t,e){return zt(t)?t[e]:null}function vNe(t,e){if(!zt(t))return null;let r=mk.get(e);if(r||(r=_Ne(e),r&&mk.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=r[s];if(pH.includes(o)&&Zc(i))return null;const a=i[o];if(a===void 0||yr(i))return null;i=a,s++}return i}const ENe=t=>t,ANe=t=>"",xNe="text",CNe=t=>t.length===0?"":RCe(t),NNe=TCe;function yk(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function SNe(t){const e=gn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(gn(t.named.count)||gn(t.named.n))?gn(t.named.count)?t.named.count:gn(t.named.n)?t.named.n:e:e}function INe(t,e){e.count||(e.count=t),e.n||(e.n=t)}function TNe(t={}){const e=t.locale,r=SNe(t),n=zt(t.pluralRules)&&Re(e)&&yr(t.pluralRules[e])?t.pluralRules[e]:yk,i=zt(t.pluralRules)&&Re(e)&&yr(t.pluralRules[e])?yk:void 0,s=w=>w[n(r,w.length,i)],o=t.list||[],a=w=>o[w],c=t.named||ar();gn(t.pluralIndex)&&INe(r,c);const l=w=>c[w];function u(w){const x=yr(t.messages)?t.messages(w):zt(t.messages)?t.messages[w]:!1;return x||(t.parent?t.parent.message(w):ANe)}const f=w=>t.modifiers?t.modifiers[w]:ENe,d=rt(t.processor)&&yr(t.processor.normalize)?t.processor.normalize:CNe,h=rt(t.processor)&&yr(t.processor.interpolate)?t.processor.interpolate:NNe,m=rt(t.processor)&&Re(t.processor.type)?t.processor.type:xNe,y={list:a,named:l,plural:s,linked:(w,...x)=>{const[S,R]=x;let D="text",P="";x.length===1?zt(S)?(P=S.modifier||P,D=S.type||D):Re(S)&&(P=S||P):x.length===2&&(Re(S)&&(P=S||P),Re(R)&&(D=R||D));const F=u(w)(y),E=D==="vnode"&&jr(F)&&P?F[0]:F;return P?f(P)(E,D):E},message:u,type:m,interpolate:h,normalize:d,values:_i(ar(),o,c)};return y}let xy=null;function RNe(t){xy=t}function PNe(t,e,r){xy&&xy.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const ONe=DNe("function:translate");function DNe(t){return e=>xy&&xy.emit(t,e)}const kNe=B3.__EXTEND_POINT__,Zf=tE(kNe),MNe={FALLBACK_TO_TRANSLATE:Zf(),CANNOT_FORMAT_NUMBER:Zf(),FALLBACK_TO_NUMBER_FORMAT:Zf(),CANNOT_FORMAT_DATE:Zf(),FALLBACK_TO_DATE_FORMAT:Zf(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Zf(),__EXTEND_POINT__:Zf()},gH=Qe.__EXTEND_POINT__,ed=tE(gH),oc={INVALID_ARGUMENT:gH,INVALID_DATE_ARGUMENT:ed(),INVALID_ISO_DATE_ARGUMENT:ed(),NOT_SUPPORT_NON_STRING_MESSAGE:ed(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:ed(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:ed(),NOT_SUPPORT_LOCALE_TYPE:ed(),__EXTEND_POINT__:ed()};function Wc(t){return wp(t,null,void 0)}function q3(t,e){return e.locale!=null?bk(e.locale):bk(t.locale)}let o2;function bk(t){if(Re(t))return t;if(yr(t)){if(t.resolvedOnce&&o2!=null)return o2;if(t.constructor.name==="Function"){const e=t();if(ICe(e))throw Wc(oc.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return o2=e}else throw Wc(oc.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Wc(oc.NOT_SUPPORT_LOCALE_TYPE)}function UNe(t,e,r){return[...new Set([r,...jr(e)?e:zt(e)?Object.keys(e):Re(e)?[e]:[r]])]}function mH(t,e,r){const n=Re(r)?r:Q0,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;jr(o);)o=_k(s,o,e);const a=jr(e)||!rt(e)?e:e.default?e.default:null;o=Re(a)?[a]:a,jr(o)&&_k(s,o,!1),i.__localeChainCache.set(n,s)}return s}function _k(t,e,r){let n=!0;for(let i=0;i<e.length&&gt(n);i++){const s=e[i];Re(s)&&(n=$Ne(t,e[i],r))}return n}function $Ne(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=LNe(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function LNe(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(jr(r)||rt(r))&&r[i]&&(n=r[i])}return n}const FNe="9.14.5",rE=-1,Q0="en-US",wk="",vk=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function BNe(){return{upper:(t,e)=>e==="text"&&Re(t)?t.toUpperCase():e==="vnode"&&zt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Re(t)?t.toLowerCase():e==="vnode"&&zt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Re(t)?vk(t):e==="vnode"&&zt(t)&&"__v_isVNode"in t?vk(t.children):t}}let yH;function Ek(t){yH=t}let bH;function jNe(t){bH=t}let _H;function HNe(t){_H=t}let wH=null;const qNe=t=>{wH=t},WNe=()=>wH;let vH=null;const Ak=t=>{vH=t},zNe=()=>vH;let xk=0;function GNe(t={}){const e=yr(t.onWarn)?t.onWarn:vCe,r=Re(t.version)?t.version:FNe,n=Re(t.locale)||yr(t.locale)?t.locale:Q0,i=yr(n)?Q0:n,s=jr(t.fallbackLocale)||rt(t.fallbackLocale)||Re(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=rt(t.messages)?t.messages:a2(i),a=rt(t.datetimeFormats)?t.datetimeFormats:a2(i),c=rt(t.numberFormats)?t.numberFormats:a2(i),l=_i(ar(),t.modifiers,BNe()),u=t.pluralRules||ar(),f=yr(t.missing)?t.missing:null,d=gt(t.missingWarn)||Ef(t.missingWarn)?t.missingWarn:!0,h=gt(t.fallbackWarn)||Ef(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,g=!!t.unresolving,y=yr(t.postTranslation)?t.postTranslation:null,w=rt(t.processor)?t.processor:null,x=gt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter,R=yr(t.messageCompiler)?t.messageCompiler:yH,D=yr(t.messageResolver)?t.messageResolver:bH||wNe,P=yr(t.localeFallbacker)?t.localeFallbacker:_H||UNe,F=zt(t.fallbackContext)?t.fallbackContext:void 0,E=t,v=zt(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,M=zt(E.__numberFormatters)?E.__numberFormatters:new Map,U=zt(E.__meta)?E.__meta:{};xk++;const I={version:r,cid:xk,locale:n,fallbackLocale:s,messages:o,modifiers:l,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:g,postTranslation:y,processor:w,warnHtmlMessage:x,escapeParameter:S,messageCompiler:R,messageResolver:D,localeFallbacker:P,fallbackContext:F,onWarn:e,__meta:U};return I.datetimeFormats=a,I.numberFormats=c,I.__datetimeFormatters=v,I.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&PNe(I,r,U),I}const a2=t=>({[t]:ar()});function W3(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Re(a)?a:e}else return e}function eg(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function VNe(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function KNe(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(VNe(t,e[n]))return!0;return!1}function c2(t){return r=>JNe(r,t)}function JNe(t,e){const r=cNe(e);if(r==null)throw Ay(0);if(H3(r)===1){const s=lNe(r);return t.plural(s.reduce((o,a)=>[...o,Ck(t,a)],[]))}else return Ck(t,r)}function Ck(t,e){const r=uNe(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=fNe(e).reduce((i,s)=>[...i,QN(t,s)],[]);return t.normalize(n)}}function QN(t,e){const r=H3(e);switch(r){case 3:return t1(e,r);case 9:return t1(e,r);case 4:{const n=e;if(sc(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(sc(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw Ay(r)}case 5:{const n=e;if(sc(n,"i")&&gn(n.i))return t.interpolate(t.list(n.i));if(sc(n,"index")&&gn(n.index))return t.interpolate(t.list(n.index));throw Ay(r)}case 6:{const n=e,i=dNe(n),s=hNe(n);return t.linked(QN(t,s),i?QN(t,i):void 0,t.type)}case 7:return t1(e,r);case 8:return t1(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const EH=t=>t;let m0=ar();function AH(t,e={}){let r=!1;const n=e.onError||$Ce;return e.onError=i=>{r=!0,n(i)},{...oNe(t,e),detectError:r}}const YNe=(t,e)=>{if(!Re(t))throw Wc(oc.NOT_SUPPORT_NON_STRING_MESSAGE);{gt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||EH)(t),i=m0[n];if(i)return i;const{code:s,detectError:o}=AH(t,e),a=new Function(`return ${s}`)();return o?a:m0[n]=a}};function XNe(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Re(t)){gt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||EH)(t),i=m0[n];if(i)return i;const{ast:s,detectError:o}=AH(t,{...e,location:!1,jit:!0}),a=c2(s);return o?a:m0[n]=a}else{const r=t.cacheKey;if(r){const n=m0[r];return n||(m0[r]=c2(t))}else return c2(t)}}const Nk=()=>"",Uo=t=>yr(t);function Sk(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,l]=ZN(...e),u=gt(l.missingWarn)?l.missingWarn:t.missingWarn,f=gt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=gt(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,m=Re(l.default)||gt(l.default)?gt(l.default)?s?c:()=>c:l.default:r?s?c:()=>c:"",g=r||m!=="",y=q3(t,l);d&&QNe(l);let[w,x,S]=h?[c,y,a[y]||ar()]:xH(t,c,y,o,f,u),R=w,D=c;if(!h&&!(Re(R)||Zc(R)||Uo(R))&&g&&(R=m,D=R),!h&&(!(Re(R)||Zc(R)||Uo(R))||!Re(x)))return i?rE:c;let P=!1;const F=()=>{P=!0},E=Uo(R)?R:CH(t,c,x,R,D,F);if(P)return R;const v=tSe(t,x,S,l),M=TNe(v),U=ZNe(t,E,M);let I=n?n(U,c):U;if(d&&Re(I)&&(I=NCe(I)),__INTLIFY_PROD_DEVTOOLS__){const C={timestamp:Date.now(),key:Re(c)?c:Uo(R)?R.key:"",locale:x||(Uo(R)?R.locale:""),format:Re(R)?R:Uo(R)?R.source:"",message:I};C.meta=_i({},t.__meta,WNe()||{}),ONe(C)}return I}function QNe(t){jr(t.list)?t.list=t.list.map(e=>Re(e)?uk(e):e):zt(t.named)&&Object.keys(t.named).forEach(e=>{Re(t.named[e])&&(t.named[e]=uk(t.named[e]))})}function xH(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,n,r);let f=ar(),d,h=null;const m="translate";for(let g=0;g<u.length&&(d=u[g],f=o[d]||ar(),(h=c(f,e))===null&&(h=f[e]),!(Re(h)||Zc(h)||Uo(h)));g++)if(!KNe(d,u)){const y=W3(t,e,d,s,m);y!==e&&(h=y)}return[h,d,f]}function CH(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Uo(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||e,l}if(o==null){const l=(()=>n);return l.locale=r,l.key=e,l}const c=o(n,eSe(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function ZNe(t,e,r){return e(r)}function ZN(...t){const[e,r,n]=t,i=ar();if(!Re(e)&&!gn(e)&&!Uo(e)&&!Zc(e))throw Wc(oc.INVALID_ARGUMENT);const s=gn(e)?String(e):(Uo(e),e);return gn(r)?i.plural=r:Re(r)?i.default=r:rt(r)&&!eE(r)?i.named=r:jr(r)&&(i.list=r),gn(n)?i.plural=n:Re(n)?i.default=n:rt(n)&&_i(i,n),[s,i]}function eSe(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>ECe(e,r,o)}}function tSe(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,d={locale:e,modifiers:i,pluralRules:s,messages:h=>{let m=o(r,h);if(m==null&&u){const[,,g]=xH(u,h,e,a,c,l);m=o(g,h)}if(Re(m)||Zc(m)){let g=!1;const w=CH(t,h,e,m,h,()=>{g=!0});return g?Nk:w}else return Uo(m)?m:Nk}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),gn(n.plural)&&(d.pluralIndex=n.plural),d}function Ik(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,f]=eS(...e),d=gt(u.missingWarn)?u.missingWarn:t.missingWarn;gt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=q3(t,u),g=o(t,i,m);if(!Re(c)||c==="")return new Intl.DateTimeFormat(m,f).format(l);let y={},w,x=null;const S="datetime format";for(let P=0;P<g.length&&(w=g[P],y=r[w]||{},x=y[c],!rt(x));P++)W3(t,c,w,d,S);if(!rt(x)||!Re(w))return n?rE:c;let R=`${w}__${c}`;eE(f)||(R=`${R}__${JSON.stringify(f)}`);let D=a.get(R);return D||(D=new Intl.DateTimeFormat(w,_i({},x,f)),a.set(R,D)),h?D.formatToParts(l):D.format(l)}const NH=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function eS(...t){const[e,r,n,i]=t,s=ar();let o=ar(),a;if(Re(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Wc(oc.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Wc(oc.INVALID_ISO_DATE_ARGUMENT)}}else if(xCe(e)){if(isNaN(e.getTime()))throw Wc(oc.INVALID_DATE_ARGUMENT);a=e}else if(gn(e))a=e;else throw Wc(oc.INVALID_ARGUMENT);return Re(r)?s.key=r:rt(r)&&Object.keys(r).forEach(c=>{NH.includes(c)?o[c]=r[c]:s[c]=r[c]}),Re(n)?s.locale=n:rt(n)&&(o=n),rt(i)&&(o=i),[s.key||"",a,s,o]}function Tk(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function Rk(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,f]=tS(...e),d=gt(u.missingWarn)?u.missingWarn:t.missingWarn;gt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=q3(t,u),g=o(t,i,m);if(!Re(c)||c==="")return new Intl.NumberFormat(m,f).format(l);let y={},w,x=null;const S="number format";for(let P=0;P<g.length&&(w=g[P],y=r[w]||{},x=y[c],!rt(x));P++)W3(t,c,w,d,S);if(!rt(x)||!Re(w))return n?rE:c;let R=`${w}__${c}`;eE(f)||(R=`${R}__${JSON.stringify(f)}`);let D=a.get(R);return D||(D=new Intl.NumberFormat(w,_i({},x,f)),a.set(R,D)),h?D.formatToParts(l):D.format(l)}const SH=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function tS(...t){const[e,r,n,i]=t,s=ar();let o=ar();if(!gn(e))throw Wc(oc.INVALID_ARGUMENT);const a=e;return Re(r)?s.key=r:rt(r)&&Object.keys(r).forEach(c=>{SH.includes(c)?o[c]=r[c]:s[c]=r[c]}),Re(n)?s.locale=n:rt(n)&&(o=n),rt(i)&&(o=i),[s.key||"",a,s,o]}function Pk(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}aNe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const rSe="9.14.5";function nSe(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(jl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(jl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(jl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(jl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(jl().__INTLIFY_PROD_DEVTOOLS__=!1)}const iSe=MNe.__EXTEND_POINT__,El=tE(iSe);El(),El(),El(),El(),El(),El(),El(),El(),El();const IH=oc.__EXTEND_POINT__,xs=tE(IH),Yn={UNEXPECTED_RETURN_TYPE:IH,INVALID_ARGUMENT:xs(),MUST_BE_CALL_SETUP_TOP:xs(),NOT_INSTALLED:xs(),NOT_AVAILABLE_IN_LEGACY_MODE:xs(),REQUIRED_VALUE:xs(),INVALID_VALUE:xs(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:xs(),NOT_INSTALLED_WITH_PROVIDE:xs(),UNEXPECTED_ERROR:xs(),NOT_COMPATIBLE_LEGACY_VUE_I18N:xs(),BRIDGE_SUPPORT_VUE_2_ONLY:xs(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:xs(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:xs(),__EXTEND_POINT__:xs()};function ni(t,...e){return wp(t,null,void 0)}const rS=Pf("__translateVNode"),nS=Pf("__datetimeParts"),iS=Pf("__numberParts"),TH=Pf("__setPluralRules"),RH=Pf("__injectWithOption"),sS=Pf("__dispose");function Cy(t){if(!zt(t)||Zc(t))return t;for(const e in t)if(sc(t,e))if(!e.includes("."))zt(t[e])&&Cy(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in i||(i[r[o]]=ar()),!zt(i[r[o]])){s=!0;break}i=i[r[o]]}if(s||(Zc(i)?pH.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!Zc(i)){const o=i[r[n]];zt(o)&&Cy(o)}}return t}function nE(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=rt(r)?r:jr(n)?ar():{[t]:ar()};if(jr(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||ar(),p_(l,o[c])):p_(l,o)}else Re(a)&&p_(JSON.parse(a),o)}),i==null&&s)for(const a in o)sc(o,a)&&Cy(o[a]);return o}function PH(t){return t.type}function OH(t,e,r){let n=zt(e.messages)?e.messages:ar();"__i18nGlobal"in r&&(n=nE(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(zt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(zt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Ok(t){return pe(Sy,null,t,0)}const Dk="__INTLIFY_META__",kk=()=>[],sSe=()=>!1;let Mk=0;function Uk(t){return((e,r,n,i)=>t(r,n,Fs()||void 0,i))}const oSe=()=>{const t=Fs();let e=null;return t&&(e=PH(t)[Dk])?{[Dk]:e}:null};function z3(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=Bw?ze:CS,a=!!t.translateExistCompatible;let c=gt(t.inheritLocale)?t.inheritLocale:!0;const l=o(r&&c?r.locale.value:Re(t.locale)?t.locale:Q0),u=o(r&&c?r.fallbackLocale.value:Re(t.fallbackLocale)||jr(t.fallbackLocale)||rt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),f=o(nE(l.value,t)),d=o(rt(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),h=o(rt(t.numberFormats)?t.numberFormats:{[l.value]:{}});let m=r?r.missingWarn:gt(t.missingWarn)||Ef(t.missingWarn)?t.missingWarn:!0,g=r?r.fallbackWarn:gt(t.fallbackWarn)||Ef(t.fallbackWarn)?t.fallbackWarn:!0,y=r?r.fallbackRoot:gt(t.fallbackRoot)?t.fallbackRoot:!0,w=!!t.fallbackFormat,x=yr(t.missing)?t.missing:null,S=yr(t.missing)?Uk(t.missing):null,R=yr(t.postTranslation)?t.postTranslation:null,D=r?r.warnHtmlMessage:gt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,P=!!t.escapeParameter;const F=r?r.modifiers:rt(t.modifiers)?t.modifiers:{};let E=t.pluralRules||r&&r.pluralRules,v;v=(()=>{i&&Ak(null);const te={version:rSe,locale:l.value,fallbackLocale:u.value,messages:f.value,modifiers:F,pluralRules:E,missing:S===null?void 0:S,missingWarn:m,fallbackWarn:g,fallbackFormat:w,unresolving:!0,postTranslation:R===null?void 0:R,warnHtmlMessage:D,escapeParameter:P,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};te.datetimeFormats=d.value,te.numberFormats=h.value,te.__datetimeFormatters=rt(v)?v.__datetimeFormatters:void 0,te.__numberFormatters=rt(v)?v.__numberFormatters:void 0;const ue=GNe(te);return i&&Ak(ue),ue})(),eg(v,l.value,u.value);function U(){return[l.value,u.value,f.value,d.value,h.value]}const I=lt({get:()=>l.value,set:te=>{l.value=te,v.locale=l.value}}),C=lt({get:()=>u.value,set:te=>{u.value=te,v.fallbackLocale=u.value,eg(v,l.value,te)}}),p=lt(()=>f.value),b=lt(()=>d.value),_=lt(()=>h.value);function N(){return yr(R)?R:null}function O(te){R=te,v.postTranslation=te}function $(){return x}function j(te){te!==null&&(S=Uk(te)),x=te,v.missing=S}const k=(te,ue,$e,je,Je,zr)=>{U();let ot;try{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=r?zNe():void 0),ot=te(v)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=void 0)}if($e!=="translate exists"&&gn(ot)&&ot===rE||$e==="translate exists"&&!ot){const[Dt,ua]=ue();return r&&y?je(r):Je(Dt)}else{if(zr(ot))return ot;throw ni(Yn.UNEXPECTED_RETURN_TYPE)}};function A(...te){return k(ue=>Reflect.apply(Sk,null,[ue,...te]),()=>ZN(...te),"translate",ue=>Reflect.apply(ue.t,ue,[...te]),ue=>ue,ue=>Re(ue))}function L(...te){const[ue,$e,je]=te;if(je&&!zt(je))throw ni(Yn.INVALID_ARGUMENT);return A(ue,$e,_i({resolvedMessage:!0},je||{}))}function H(...te){return k(ue=>Reflect.apply(Ik,null,[ue,...te]),()=>eS(...te),"datetime format",ue=>Reflect.apply(ue.d,ue,[...te]),()=>wk,ue=>Re(ue))}function T(...te){return k(ue=>Reflect.apply(Rk,null,[ue,...te]),()=>tS(...te),"number format",ue=>Reflect.apply(ue.n,ue,[...te]),()=>wk,ue=>Re(ue))}function G(te){return te.map(ue=>Re(ue)||gn(ue)||gt(ue)?Ok(String(ue)):ue)}const J={normalize:G,interpolate:te=>te,type:"vnode"};function Y(...te){return k(ue=>{let $e;const je=ue;try{je.processor=J,$e=Reflect.apply(Sk,null,[je,...te])}finally{je.processor=null}return $e},()=>ZN(...te),"translate",ue=>ue[rS](...te),ue=>[Ok(ue)],ue=>jr(ue))}function ee(...te){return k(ue=>Reflect.apply(Rk,null,[ue,...te]),()=>tS(...te),"number format",ue=>ue[iS](...te),kk,ue=>Re(ue)||jr(ue))}function oe(...te){return k(ue=>Reflect.apply(Ik,null,[ue,...te]),()=>eS(...te),"datetime format",ue=>ue[nS](...te),kk,ue=>Re(ue)||jr(ue))}function z(te){E=te,v.pluralRules=E}function Q(te,ue){return k(()=>{if(!te)return!1;const $e=Re(ue)?ue:l.value,je=fe($e),Je=v.messageResolver(je,te);return a?Je!=null:Zc(Je)||Uo(Je)||Re(Je)},()=>[te],"translate exists",$e=>Reflect.apply($e.te,$e,[te,ue]),sSe,$e=>gt($e))}function W(te){let ue=null;const $e=mH(v,u.value,l.value);for(let je=0;je<$e.length;je++){const Je=f.value[$e[je]]||{},zr=v.messageResolver(Je,te);if(zr!=null){ue=zr;break}}return ue}function Z(te){const ue=W(te);return ue??(r?r.tm(te)||{}:{})}function fe(te){return f.value[te]||{}}function ae(te,ue){if(s){const $e={[te]:ue};for(const je in $e)sc($e,je)&&Cy($e[je]);ue=$e[te]}f.value[te]=ue,v.messages=f.value}function ye(te,ue){f.value[te]=f.value[te]||{};const $e={[te]:ue};if(s)for(const je in $e)sc($e,je)&&Cy($e[je]);ue=$e[te],p_(ue,f.value[te]),v.messages=f.value}function Ee(te){return d.value[te]||{}}function V(te,ue){d.value[te]=ue,v.datetimeFormats=d.value,Tk(v,te,ue)}function K(te,ue){d.value[te]=_i(d.value[te]||{},ue),v.datetimeFormats=d.value,Tk(v,te,ue)}function se(te){return h.value[te]||{}}function ce(te,ue){h.value[te]=ue,v.numberFormats=h.value,Pk(v,te,ue)}function me(te,ue){h.value[te]=_i(h.value[te]||{},ue),v.numberFormats=h.value,Pk(v,te,ue)}Mk++,r&&Bw&&(_r(r.locale,te=>{c&&(l.value=te,v.locale=te,eg(v,l.value,u.value))}),_r(r.fallbackLocale,te=>{c&&(u.value=te,v.fallbackLocale=te,eg(v,l.value,u.value))}));const be={id:Mk,locale:I,fallbackLocale:C,get inheritLocale(){return c},set inheritLocale(te){c=te,te&&r&&(l.value=r.locale.value,u.value=r.fallbackLocale.value,eg(v,l.value,u.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:p,get modifiers(){return F},get pluralRules(){return E||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(te){m=te,v.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(te){g=te,v.fallbackWarn=g},get fallbackRoot(){return y},set fallbackRoot(te){y=te},get fallbackFormat(){return w},set fallbackFormat(te){w=te,v.fallbackFormat=w},get warnHtmlMessage(){return D},set warnHtmlMessage(te){D=te,v.warnHtmlMessage=te},get escapeParameter(){return P},set escapeParameter(te){P=te,v.escapeParameter=te},t:A,getLocaleMessage:fe,setLocaleMessage:ae,mergeLocaleMessage:ye,getPostTranslationHandler:N,setPostTranslationHandler:O,getMissingHandler:$,setMissingHandler:j,[TH]:z};return be.datetimeFormats=b,be.numberFormats=_,be.rt=L,be.te=Q,be.tm=Z,be.d=H,be.n=T,be.getDateTimeFormat=Ee,be.setDateTimeFormat=V,be.mergeDateTimeFormat=K,be.getNumberFormat=se,be.setNumberFormat=ce,be.mergeNumberFormat=me,be[RH]=n,be[rS]=Y,be[nS]=oe,be[iS]=ee,be}function aSe(t){const e=Re(t.locale)?t.locale:Q0,r=Re(t.fallbackLocale)||jr(t.fallbackLocale)||rt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=yr(t.missing)?t.missing:void 0,i=gt(t.silentTranslationWarn)||Ef(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=gt(t.silentFallbackWarn)||Ef(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=gt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=rt(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=yr(t.postTranslation)?t.postTranslation:void 0,f=Re(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=gt(t.sync)?t.sync:!0;let m=t.messages;if(rt(t.sharedMessages)){const P=t.sharedMessages;m=Object.keys(P).reduce((E,v)=>{const M=E[v]||(E[v]={});return _i(M,P[v]),E},m||{})}const{__i18n:g,__root:y,__injectWithOption:w}=t,x=t.datetimeFormats,S=t.numberFormats,R=t.flatJson,D=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:R,datetimeFormats:x,numberFormats:S,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,translateExistCompatible:D,__i18n:g,__root:y,__injectWithOption:w}}function oS(t={},e){{const r=z3(aSe(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return gt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=gt(s)?!s:s},get silentFallbackWarn(){return gt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=gt(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,l={};let u=null,f=null;if(!Re(o))throw ni(Yn.INVALID_ARGUMENT);const d=o;return Re(a)?l.locale=a:jr(a)?u=a:rt(a)&&(f=a),jr(c)?u=c:rt(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,l={plural:1};let u=null,f=null;if(!Re(o))throw ni(Yn.INVALID_ARGUMENT);const d=o;return Re(a)?l.locale=a:gn(a)?l.plural=a:jr(a)?u=a:rt(a)&&(f=a),Re(c)?l.locale=c:jr(c)?u=c:rt(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const G3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function cSe({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===vn?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},ar())}function DH(t){return vn}const lSe=Zr({name:"i18n-t",props:_i({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>gn(t)||!isNaN(t)}},G3),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||fh({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(f=>f!=="_"),o=ar();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Re(t.plural)?+t.plural:t.plural);const a=cSe(e,s),c=i[rS](t.keypath,a,o),l=_i(ar(),n),u=Re(t.tag)||zt(t.tag)?t.tag:DH();return Ty(u,l,c)}}}),$k=lSe;function uSe(t){return jr(t)&&!Re(t[0])}function kH(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=ar();t.locale&&(o.locale=t.locale),Re(t.format)?o.key=t.format:zt(t.format)&&(Re(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>r.includes(h)?_i(ar(),d,{[h]:t.format[h]}):d,ar()));const c=n(t.value,o,a);let l=[o.key];jr(c)?l=c.map((d,h)=>{const m=i[d.type],g=m?m({[d.type]:d.value,index:h,parts:c}):[d.value];return uSe(g)&&(g[0].key=`${d.type}-${h}`),g}):Re(c)&&(l=[c]);const u=_i(ar(),s),f=Re(t.tag)||zt(t.tag)?t.tag:DH();return Ty(f,u,l)}}const fSe=Zr({name:"i18n-n",props:_i({value:{type:Number,required:!0},format:{type:[String,Object]}},G3),setup(t,e){const r=t.i18n||fh({useScope:t.scope,__useComponent:!0});return kH(t,e,SH,(...n)=>r[iS](...n))}}),Lk=fSe,dSe=Zr({name:"i18n-d",props:_i({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},G3),setup(t,e){const r=t.i18n||fh({useScope:t.scope,__useComponent:!0});return kH(t,e,NH,(...n)=>r[nS](...n))}}),Fk=dSe;function hSe(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function pSe(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw ni(Yn.UNEXPECTED_ERROR);const u=hSe(t,a.$),f=Bk(l);return[Reflect.apply(u.t,u,[...jk(f)]),u]};return{created:(o,a)=>{const[c,l]=e(a);Bw&&t.global===l&&(o.__i18nWatcher=_r(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{Bw&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=Bk(a);o.textContent=Reflect.apply(c.t,c,[...jk(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function Bk(t){if(Re(t))return{path:t};if(rt(t)){if(!("path"in t))throw ni(Yn.REQUIRED_VALUE,"path");return t}else throw ni(Yn.INVALID_VALUE)}function jk(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Re(r)&&(o.locale=r),gn(i)&&(o.plural=i),gn(s)&&(o.plural=s),[e,a,o]}function gSe(t,e,...r){const n=rt(r[0])?r[0]:{},i=!!n.useI18nComponentName;(gt(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":$k.name,"I18nT"].forEach(o=>t.component(o,$k)),[Lk.name,"I18nN"].forEach(o=>t.component(o,Lk)),[Fk.name,"I18nD"].forEach(o=>t.component(o,Fk))),t.directive("t",pSe(e))}function mSe(t,e,r){return{beforeCreate(){const n=Fs();if(!n)throw ni(Yn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=Hk(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=oS(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=Hk(t,i);else{this.$i18n=oS({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&OH(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Fs();if(!n)throw ni(Yn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function Hk(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[TH](e.pluralizationRules||t.pluralizationRules);const r=nE(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const ySe=Pf("global-vue-i18n");function bSe(t={},e){const r=__VUE_I18N_LEGACY_API__&&gt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=gt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=_Se(t,r),c=Pf("");function l(d){return s.get(d)||null}function u(d,h){s.set(d,h)}function f(d){s.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(h,...m){if(h.__VUE_I18N_SYMBOL__=c,h.provide(h.__VUE_I18N_SYMBOL__,d),rt(m[0])){const w=m[0];d.__composerExtend=w.__composerExtend,d.__vueI18nExtend=w.__vueI18nExtend}let g=null;!r&&n&&(g=ISe(h,d.global)),__VUE_I18N_FULL_INSTALL__&&gSe(h,d,...m),__VUE_I18N_LEGACY_API__&&r&&h.mixin(mSe(a,a.__composer,d));const y=h.unmount;h.unmount=()=>{g&&g(),d.dispose(),y()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:l,__setInstance:u,__deleteInstance:f};return d}}function fh(t={}){const e=Fs();if(e==null)throw ni(Yn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ni(Yn.NOT_INSTALLED);const r=wSe(e),n=ESe(r),i=PH(e),s=vSe(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw ni(Yn.NOT_AVAILABLE_IN_LEGACY_MODE);return NSe(e,s,n,t)}if(s==="global")return OH(n,t,i),n;if(s==="parent"){let c=ASe(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=_i({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=z3(c),o.__composerExtend&&(a[sS]=o.__composerExtend(a)),CSe(o,e,a),o.__setInstance(e,a)}return a}function _Se(t,e,r){const n=mS();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>oS(t)):n.run(()=>z3(t));if(i==null)throw ni(Yn.UNEXPECTED_ERROR);return[n,i]}}function wSe(t){{const e=bi(t.isCE?ySe:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ni(t.isCE?Yn.NOT_INSTALLED_WITH_PROVIDE:Yn.UNEXPECTED_ERROR);return e}}function vSe(t,e){return eE(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function ESe(t){return t.mode==="composition"?t.global:t.global.__composer}function ASe(t,e,r=!1){let n=null;const i=e.root;let s=xSe(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[RH]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function xSe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function CSe(t,e,r){ou(()=>{},e),xf(()=>{const n=r;t.__deleteInstance(e);const i=n[sS];i&&(i(),delete n[sS])},e)}function NSe(t,e,r,n={}){const i=e==="local",s=CS(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw ni(Yn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=gt(n.inheritLocale)?n.inheritLocale:!Re(n.locale),a=ze(!i||o?r.locale.value:Re(n.locale)?n.locale:Q0),c=ze(!i||o?r.fallbackLocale.value:Re(n.fallbackLocale)||jr(n.fallbackLocale)||rt(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),l=ze(nE(a.value,n)),u=ze(rt(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),f=ze(rt(n.numberFormats)?n.numberFormats:{[a.value]:{}}),d=i?r.missingWarn:gt(n.missingWarn)||Ef(n.missingWarn)?n.missingWarn:!0,h=i?r.fallbackWarn:gt(n.fallbackWarn)||Ef(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:gt(n.fallbackRoot)?n.fallbackRoot:!0,g=!!n.fallbackFormat,y=yr(n.missing)?n.missing:null,w=yr(n.postTranslation)?n.postTranslation:null,x=i?r.warnHtmlMessage:gt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,S=!!n.escapeParameter,R=i?r.modifiers:rt(n.modifiers)?n.modifiers:{},D=n.pluralRules||i&&r.pluralRules;function P(){return[a.value,c.value,l.value,u.value,f.value]}const F=lt({get:()=>s.value?s.value.locale.value:a.value,set:W=>{s.value&&(s.value.locale.value=W),a.value=W}}),E=lt({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:W=>{s.value&&(s.value.fallbackLocale.value=W),c.value=W}}),v=lt(()=>s.value?s.value.messages.value:l.value),M=lt(()=>u.value),U=lt(()=>f.value);function I(){return s.value?s.value.getPostTranslationHandler():w}function C(W){s.value&&s.value.setPostTranslationHandler(W)}function p(){return s.value?s.value.getMissingHandler():y}function b(W){s.value&&s.value.setMissingHandler(W)}function _(W){return P(),W()}function N(...W){return s.value?_(()=>Reflect.apply(s.value.t,null,[...W])):_(()=>"")}function O(...W){return s.value?Reflect.apply(s.value.rt,null,[...W]):""}function $(...W){return s.value?_(()=>Reflect.apply(s.value.d,null,[...W])):_(()=>"")}function j(...W){return s.value?_(()=>Reflect.apply(s.value.n,null,[...W])):_(()=>"")}function k(W){return s.value?s.value.tm(W):{}}function A(W,Z){return s.value?s.value.te(W,Z):!1}function L(W){return s.value?s.value.getLocaleMessage(W):{}}function H(W,Z){s.value&&(s.value.setLocaleMessage(W,Z),l.value[W]=Z)}function T(W,Z){s.value&&s.value.mergeLocaleMessage(W,Z)}function G(W){return s.value?s.value.getDateTimeFormat(W):{}}function B(W,Z){s.value&&(s.value.setDateTimeFormat(W,Z),u.value[W]=Z)}function J(W,Z){s.value&&s.value.mergeDateTimeFormat(W,Z)}function Y(W){return s.value?s.value.getNumberFormat(W):{}}function ee(W,Z){s.value&&(s.value.setNumberFormat(W,Z),f.value[W]=Z)}function oe(W,Z){s.value&&s.value.mergeNumberFormat(W,Z)}const z={get id(){return s.value?s.value.id:-1},locale:F,fallbackLocale:E,messages:v,datetimeFormats:M,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(W){s.value&&(s.value.inheritLocale=W)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(l.value)},get modifiers(){return s.value?s.value.modifiers:R},get pluralRules(){return s.value?s.value.pluralRules:D},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:d},set missingWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackWarn(){return s.value?s.value.fallbackWarn:h},set fallbackWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(W){s.value&&(s.value.fallbackRoot=W)},get fallbackFormat(){return s.value?s.value.fallbackFormat:g},set fallbackFormat(W){s.value&&(s.value.fallbackFormat=W)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:x},set warnHtmlMessage(W){s.value&&(s.value.warnHtmlMessage=W)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(W){s.value&&(s.value.escapeParameter=W)},t:N,getPostTranslationHandler:I,setPostTranslationHandler:C,getMissingHandler:p,setMissingHandler:b,rt:O,d:$,n:j,tm:k,te:A,getLocaleMessage:L,setLocaleMessage:H,mergeLocaleMessage:T,getDateTimeFormat:G,setDateTimeFormat:B,mergeDateTimeFormat:J,getNumberFormat:Y,setNumberFormat:ee,mergeNumberFormat:oe};function Q(W){W.locale.value=a.value,W.fallbackLocale.value=c.value,Object.keys(l.value).forEach(Z=>{W.mergeLocaleMessage(Z,l.value[Z])}),Object.keys(u.value).forEach(Z=>{W.mergeDateTimeFormat(Z,u.value[Z])}),Object.keys(f.value).forEach(Z=>{W.mergeNumberFormat(Z,f.value[Z])}),W.escapeParameter=S,W.fallbackFormat=g,W.fallbackRoot=m,W.fallbackWarn=h,W.missingWarn=d,W.warnHtmlMessage=x}return R9(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw ni(Yn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const W=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=W.locale.value,c.value=W.fallbackLocale.value,l.value=W.messages.value,u.value=W.datetimeFormats.value,f.value=W.numberFormats.value):i&&Q(W)}),z}const SSe=["locale","fallbackLocale","availableLocales"],qk=["t","rt","d","n","tm","te"];function ISe(t,e){const r=Object.create(null);return SSe.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw ni(Yn.UNEXPECTED_ERROR);const o=Qr(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,qk.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw ni(Yn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,qk.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}nSe();__INTLIFY_JIT_COMPILATION__?Ek(XNe):Ek(YNe);jNe(vNe);HNe(mH);if(__INTLIFY_PROD_DEVTOOLS__){const t=jl();t.__INTLIFY__=!0,RNe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let MH;const iE=t=>MH=t,UH=Symbol();function aS(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Zg;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zg||(Zg={}));function TSe(){const t=mS(!0),e=t.run(()=>ze({}));let r=[],n=[];const i=xS({install(s){iE(i),i._a=s,s.provide(UH,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return this._a?r.push(s):n.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const $H=()=>{};function Wk(t,e,r,n=$H){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&JM()&&iq(i),i}function Wh(t,...e){t.slice().forEach(r=>{r(...e)})}const RSe=t=>t(),zk=Symbol(),l2=Symbol();function cS(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];aS(i)&&aS(n)&&t.hasOwnProperty(r)&&!Qr(n)&&!Qu(n)?t[r]=cS(i,n):t[r]=n}return t}const PSe=Symbol();function OSe(t){return!aS(t)||!t.hasOwnProperty(PSe)}const{assign:Mu}=Object;function DSe(t){return!!(Qr(t)&&t.effect)}function kSe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=i?i():{});const u=Nq(r.state.value[t]);return Mu(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=xS(lt(()=>{iE(r);const h=r._s.get(t);return o[d].call(h,h)})),f),{}))}return c=LH(t,l,e,r,n,!0),c}function LH(t,e,r={},n,i,s){let o;const a=Mu({actions:{}},r),c={deep:!0};let l,u,f=[],d=[],h;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),ze({});let g;function y(E){let v;l=u=!1,typeof E=="function"?(E(n.state.value[t]),v={type:Zg.patchFunction,storeId:t,events:h}):(cS(n.state.value[t],E),v={type:Zg.patchObject,payload:E,storeId:t,events:h});const M=g=Symbol();Lo().then(()=>{g===M&&(l=!0)}),u=!0,Wh(f,v,n.state.value[t])}const w=s?function(){const{state:v}=r,M=v?v():{};this.$patch(U=>{Mu(U,M)})}:$H;function x(){o.stop(),f=[],d=[],n._s.delete(t)}const S=(E,v="")=>{if(zk in E)return E[l2]=v,E;const M=function(){iE(n);const U=Array.from(arguments),I=[],C=[];function p(N){I.push(N)}function b(N){C.push(N)}Wh(d,{args:U,name:M[l2],store:D,after:p,onError:b});let _;try{_=E.apply(this&&this.$id===t?this:D,U)}catch(N){throw Wh(C,N),N}return _ instanceof Promise?_.then(N=>(Wh(I,N),N)).catch(N=>(Wh(C,N),Promise.reject(N))):(Wh(I,_),_)};return M[zk]=!0,M[l2]=v,M},R={_p:n,$id:t,$onAction:Wk.bind(null,d),$patch:y,$reset:w,$subscribe(E,v={}){const M=Wk(f,E,v.detached,()=>U()),U=o.run(()=>_r(()=>n.state.value[t],I=>{(v.flush==="sync"?u:l)&&E({storeId:t,type:Zg.direct,events:h},I)},Mu({},c,v)));return M},$dispose:x},D=nl(R);n._s.set(t,D);const F=(n._a&&n._a.runWithContext||RSe)(()=>n._e.run(()=>(o=mS()).run(()=>e({action:S}))));for(const E in F){const v=F[E];if(Qr(v)&&!DSe(v)||Qu(v))s||(m&&OSe(v)&&(Qr(v)?v.value=m[E]:cS(v,m[E])),n.state.value[t][E]=v);else if(typeof v=="function"){const M=S(v,E);F[E]=M,a.actions[E]=v}}return Mu(D,F),Mu(Mt(D),F),Object.defineProperty(D,"$state",{get:()=>n.state.value[t],set:E=>{y(v=>{Mu(v,E)})}}),n._p.forEach(E=>{Mu(D,o.run(()=>E({store:D,app:n._a,pinia:n,options:a})))}),m&&s&&r.hydrate&&r.hydrate(D.$state,m),l=!0,u=!0,D}/*! #__NO_SIDE_EFFECTS__ */function MSe(t,e,r){let n,i;const s=typeof e=="function";n=t,i=s?r:e;function o(a,c){const l=sW();return a=a||(l?bi(UH,null):null),a&&iE(a),a=MH,a._s.has(n)||(s?LH(n,e,i,a):kSe(n,i,a)),a._s.get(n)}return o.$id=n,o}const V3=MSe("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),Gk=[{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"intro",type:"address"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"BindIntroLog",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"intro",type:"address"}],name:"bindIntro",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depthOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserAllIntroLines",outputs:[{internalType:"address[]",name:"introLines",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserInfo",outputs:[{internalType:"address",name:"intro",type:"address"},{internalType:"address[]",name:"children",type:"address[]"},{internalType:"bool",name:"isExist",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserIntro",outputs:[{internalType:"address",name:"intro",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"depth",type:"uint256"}],name:"getUserIntroLines",outputs:[{internalType:"address[]",name:"introLines",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserIsExist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rootAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"intro",type:"address"},{internalType:"bool",name:"isExist",type:"bool"}],stateMutability:"view",type:"function"}],USe="",$Se="",LSe="",FSe="",BSe="",jSe="",HSe="",qSe="",WSe="",zSe="",GSe="",VSe="",KSe="",JSe="",YSe="FOMO",XSe="",QSe="",ZSe="NFT ",eIe="NFT ",tIe="NFT ",rIe="NFT ",nIe=" 1: ",iIe=" AI  30% ",sIe=" 2: HR ",oIe=` 15,000,000  HR 
 2,000  HR
 0.5% `,aIe=" 3: ",cIe=` 100  HR
`,lIe="",uIe="",fIe="NFT ",dIe="",hIe="",pIe="",gIe="",mIe="",yIe="BCL",bIe="",_Ie="",wIe="",vIe="Beacon Launchpad ",EIe=" BCL",AIe="",xIe="",CIe=" ",NIe="",SIe="APP",IIe="",TIe="100%,",RIe="",PIe=",",OIe="",DIe=",",kIe="",MIe="",UIe="",$Ie="",LIe=" ",FIe="",BIe=" / ",jIe=" / ",HIe=" / ",qIe=" / ",WIe=" / ",zIe="BCL ",GIe=": 2100 ",VIe="LP: 1800  ()",KIe=": 100  ()",JIe=": 200  ()",YIe="NFT",XIe="",QIe="",ZIe="",e3e="",t3e="",r3e="",n3e="",i3e="",s3e="",o3e="",a3e="",c3e="",l3e="",u3e="",f3e="BCL DEFI",d3e="",h3e="",p3e="",g3e="",m3e="",y3e="",b3e="",_3e="",w3e="",v3e="",E3e="",A3e="",x3e="NFT",C3e="",N3e="NFT",S3e="",I3e={_Connect_wallet:USe,_Please_enter_a_referee:$Se,_Success:LSe,_Fail:FSe,_Invite_link:BSe,_Copy_link:jSe,_Join_record:HSe,_Join_amount:qSe,_Time:WSe,_Enter_friend_address_to_bind:zSe,_Enter_invite_address:GSe,_Bind:VSe,_Home:KSe,_Node:JSe,_FOMO_Pool:YSe,_Not_yet_open:XSe,_Recharge_address:QSe,_NFT_Presale:ZSe,_NFT_Staking:eIe,_NFT_Rights:tIe,_NFT_Records:rIe,_Right_1_Node_as_Shareholder:nIe,_Right_1_Desc:iIe,_Right_2_HR_Token_Airdrop:sIe,_Right_2_Desc:oIe,_Right_3_Referral_Reward:aIe,_Right_3_Desc:cIe,_No_records:lIe,_In_progress:uIe,_NFT_Quantity:fIe,_Buy_Now:dIe,_Copy_successful:hIe,_Copy_failed:pIe,_Invite:gIe,_My_wallet_address:mIe,_BCL_Lighthouse_Protocol:yIe,_Fair_Transparent_Sustainable_DeFi_Paradigm:bIe,_Node_Subscription:_Ie,_Welcome_To:wIe,_Welcome_Desc_1:vIe,_Welcome_Desc_2:EIe,_Core:AIe,_Philosophy:xIe,_Five_Core_Values:CIe,_Fairness:NIe,_Fairness_Desc:SIe,_Transparency:IIe,_Transparency_Desc:TIe,_Fair_Distribution:RIe,_Fair_Distribution_Desc:PIe,_Self_Balancing:OIe,_Self_Balancing_Desc:DIe,_Sustainability:kIe,_Sustainability_Desc:MIe,_Decentralized:UIe,_Architecture:$Ie,_Sustainable_Self_Driven_Model:LIe,_Core_Architecture_Features:FIe,_No_Centralized_Server:BIe,_All_Operations_Public:jIe,_All_Data_On_Chain:HIe,_Automatic_Profit_Distribution:qIe,_Sustainable_Revenue_Cycle:WIe,_BCL_Token_Distribution:zIe,_Total_Token_Supply:GIe,_LP_Pool_Locked:VIe,_Interaction_Contract:KIe,_Airdrop_Contract:JIe,_NFT_Rewards:YIe,_Why_Choose:XIe,_Stable_Revenue:QIe,_Stable_Revenue_Desc:ZIe,_Principal_Protection:e3e,_Principal_Protection_Desc:t3e,_Ecosystem_Internal_Circulation:r3e,_Ecosystem_Internal_Circulation_Desc:n3e,_Anti_Dilution_Mechanism:i3e,_Anti_Dilution_Mechanism_Desc:s3e,_Unlimited_Development:o3e,_Unlimited_Development_Desc:a3e,_Join:c3e,_Us:l3e,_Reshaping_Industry_Trust:u3e,_BCL_Breaks_Dilemma:f3e,_Rules_Programmable:d3e,_Trust_Quantifiable:h3e,_Join_Us_Desc:p3e,_Join_Now:g3e,_Purchase_Node:m3e,_Node_Rights:y3e,_Please_enter_inviter:b3e,_Inviter_invalid:_3e,_Bind_success:w3e,_Bind_failed:v3e,_Approve:E3e,_Total_Network_Nodes:A3e,_Total_Network_NFTs:x3e,_My_Nodes:C3e,_My_NFTs:N3e,_Direct_Referral_Nodes:S3e},T3e="Connect Wallet",R3e="Please enter a referee",P3e="Success",O3e="Fail",D3e="Invite Link",k3e="Copy Link",M3e="Join Record",U3e="Join Amount",$3e="Time",L3e="Please enter friend's address to bind",F3e="Please enter invite address",B3e="Bind",j3e="Home",H3e="Node",q3e="FOMO Pool",W3e="Not yet open",z3e="Recharge Address",G3e="NFT Presale",V3e="NFT Staking",K3e="NFT Rights",J3e="NFT Records",Y3e="Right 1: Node as Shareholder",X3e="Node holders are recognized as ecosystem shareholders, receiving 30% weighted dividends from the decentralized AI prediction platform.",Q3e="Right 2: HR Token Airdrop",Z3e=`Global nodes will receive a total of 15,000,000 HR tokens airdrop.
Each node receives an average of 2,000 HR.
Tokens are released daily at a rate of 0.5%.`,eTe="Right 3: Referral Reward",tTe=`Receive 100 HR for every node referred.
No cap and no lock-up requirement.`,rTe="No records",nTe="In Progress",iTe="NFT Quantity",sTe="Buy Now",oTe="Copy Successful",aTe="Copy Failed",cTe="Invite",lTe="My Wallet Address",uTe="BCL Lighthouse Protocol",fTe="Fair, Transparent, Sustainable New Paradigm of Decentralized Finance",dTe="Node Subscription",hTe="Welcome to",pTe="Beacon Launchpad is a fully decentralized, on-chain automatically executed multi-chain launch platform. Relying on an independently developed financial protocol system, it achieves full automation of project issuance, liquidity management, and incentive distribution, ensuring openness, fairness, security, and sustainable growth.",gTe="At BCL, everyone can participate fairly, govern transparently, and share continuously.",mTe="Core",yTe="Philosophy",bTe=" Five Core Values",_Te="Fairness",wTe="No Project Team, No APP, No Reservation, No Permission, No Termination",vTe="Transparency",ETe="100% On-Chain Permanent Autonomous Operation, Pure Smart Contract Control",ATe="Fair Distribution",xTe="Fair Distribution: Stable Returns for Leaders, Unlimited Potential for Doers",CTe="Self-Balancing",NTe="Scale Self-Balancing Engine, Ecosystem Stable Perpetual Circulation Model",STe="Sustainability",ITe="Achieving Fair Circulation Mechanism of Stability Above and Growth Below, Mutual Prosperity",TTe="Decentralized",RTe="Architecture",PTe=" Sustainable Self-Driven Model",OTe="Core Architecture Features",DTe="No Centralized Server / Sustainable Self-Driven Model",kTe="All Operations Public / Underlying Contract Permanently Traceable",MTe="All Data On-Chain / User Asset Security",UTe="Automatic Profit Distribution / Autonomous Unlock Zero Delay",$Te="Sustainable Revenue Cycle / Internal Circulation Constant Asset Mechanism",LTe="BCL Token Distribution",FTe="Total Token Supply: 21 Million",BTe="LP Pool: 18 Million (Black Hole Permanently Locked)",jTe="Interaction Contract: 1 Million (Permission Discarded)",HTe="Airdrop Contract: 2 Million (Permission Discarded)",qTe="NFT Dual Thick Rewards Transaction Slippage Automatic Distribution",WTe="Why Choose",zTe="Stable Revenue",GTe="Provide 'Stable' Market Maker Returns, Attracting Large Funds",VTe="Principal Protection",KTe="End Principal Shrinkage Caused by 'Currency Price Fluctuations'",JTe="Ecosystem Internal Circulation",YTe="Construct 'Self-Driven' Market Growth and Reinvestment Internal Circulation",XTe="Anti-Dilution Mechanism",QTe="Break Dilution of Returns Caused by 'Increase in Number' of Market Makers",ZTe="Unlimited Development",eRe="Remove Bottlenecks in 'Market Development' Caused by High Currency Prices",tRe="Join",rRe="Us",nRe="Reshaping Industry Trust, Algorithms Replace Humanity",iRe="BCL Breaks the Dilemma of 'Traditional DeFi', Letting",sRe="Rules Be Programmable",oRe=", Trust Be Quantifiable.",aRe="Relying on an independently developed financial protocol system, it achieves full automation, setting off a new paradigm of on-chain finance.",cRe="Join Now",lRe="Purchase Node",uRe="Node Rights",fRe="Please enter inviter",dRe="Inviter invalid",hRe="Bind success",pRe="Bind failed",gRe="Approve",mRe="Total Network Nodes",yRe="Total Network NFTs",bRe="My Nodes",_Re="My NFTs",wRe="Direct Referral Nodes",vRe={_Connect_wallet:T3e,_Please_enter_a_referee:R3e,_Success:P3e,_Fail:O3e,_Invite_link:D3e,_Copy_link:k3e,_Join_record:M3e,_Join_amount:U3e,_Time:$3e,_Enter_friend_address_to_bind:L3e,_Enter_invite_address:F3e,_Bind:B3e,_Home:j3e,_Node:H3e,_FOMO_Pool:q3e,_Not_yet_open:W3e,_Recharge_address:z3e,_NFT_Presale:G3e,_NFT_Staking:V3e,_NFT_Rights:K3e,_NFT_Records:J3e,_Right_1_Node_as_Shareholder:Y3e,_Right_1_Desc:X3e,_Right_2_HR_Token_Airdrop:Q3e,_Right_2_Desc:Z3e,_Right_3_Referral_Reward:eTe,_Right_3_Desc:tTe,_No_records:rTe,_In_progress:nTe,_NFT_Quantity:iTe,_Buy_Now:sTe,_Copy_successful:oTe,_Copy_failed:aTe,_Invite:cTe,_My_wallet_address:lTe,_BCL_Lighthouse_Protocol:uTe,_Fair_Transparent_Sustainable_DeFi_Paradigm:fTe,_Node_Subscription:dTe,_Welcome_To:hTe,_Welcome_Desc_1:pTe,_Welcome_Desc_2:gTe,_Core:mTe,_Philosophy:yTe,_Five_Core_Values:bTe,_Fairness:_Te,_Fairness_Desc:wTe,_Transparency:vTe,_Transparency_Desc:ETe,_Fair_Distribution:ATe,_Fair_Distribution_Desc:xTe,_Self_Balancing:CTe,_Self_Balancing_Desc:NTe,_Sustainability:STe,_Sustainability_Desc:ITe,_Decentralized:TTe,_Architecture:RTe,_Sustainable_Self_Driven_Model:PTe,_Core_Architecture_Features:OTe,_No_Centralized_Server:DTe,_All_Operations_Public:kTe,_All_Data_On_Chain:MTe,_Automatic_Profit_Distribution:UTe,_Sustainable_Revenue_Cycle:$Te,_BCL_Token_Distribution:LTe,_Total_Token_Supply:FTe,_LP_Pool_Locked:BTe,_Interaction_Contract:jTe,_Airdrop_Contract:HTe,_NFT_Rewards:qTe,_Why_Choose:WTe,_Stable_Revenue:zTe,_Stable_Revenue_Desc:GTe,_Principal_Protection:VTe,_Principal_Protection_Desc:KTe,_Ecosystem_Internal_Circulation:JTe,_Ecosystem_Internal_Circulation_Desc:YTe,_Anti_Dilution_Mechanism:XTe,_Anti_Dilution_Mechanism_Desc:QTe,_Unlimited_Development:ZTe,_Unlimited_Development_Desc:eRe,_Join:tRe,_Us:rRe,_Reshaping_Industry_Trust:nRe,_BCL_Breaks_Dilemma:iRe,_Rules_Programmable:sRe,_Trust_Quantifiable:oRe,_Join_Us_Desc:aRe,_Join_Now:cRe,_Purchase_Node:lRe,_Node_Rights:uRe,_Please_enter_inviter:fRe,_Inviter_invalid:dRe,_Bind_success:hRe,_Bind_failed:pRe,_Approve:gRe,_Total_Network_Nodes:mRe,_Total_Network_NFTs:yRe,_My_Nodes:bRe,_My_NFTs:_Re,_Direct_Referral_Nodes:wRe},ERe=" ",ARe=" ",xRe="",CRe="",NRe=" ",SRe=" ",IRe=" ",TRe=" ",RRe="",PRe="   ",ORe="  ",DRe="",kRe="",MRe="",URe="FOMO ",$Re="",LRe=" ",FRe="NFT  ",BRe="NFT ",jRe="NFT ",HRe="NFT ",qRe=" 1:  ",WRe="    ,  AI   30%   .",zRe=" 2: HR  ",GRe=`   15,000,000 HR   .
   2,000 HR .
  0.5%  .`,VRe=" 3:  ",KRe=`   100 HR .
     .`,JRe=" ",YRe=" ",XRe="NFT ",QRe=" ",ZRe=" ",ePe=" ",tPe="",rPe="  ",nPe="BCL  ",iPe="       ",sPe=" ",oPe="",aPe="Beacon Launchpad        .        ,         , ,      .",cPe="BCL         .",lPe="",uPe="",fPe=" 5  ",dPe="",hPe="  ,  ,  ,  ,  ",pPe="",gPe="100%    ,    ",mPe=" ",yPe=" :   ,   ",bPe=" ",_Pe="   ,     ",wPe=" ",vPe="        ,  ",EPe="",APe="",xPe="     ",CPe="  ",NPe="    /     ",SPe="   /     ",IPe="   /   ",TPe="   /     ",RPe="    /     ",PPe="BCL  ",OPe="  : 2,100 ",DPe="LP : 1,800 (  )",kPe="  : 100 ( )",MPe=" : 200 ( )",UPe="NFT      ",$Pe=" ",LPe=" ",FPe="''       ",BPe=" ",jPe="'  '      ",HPe="  ",qPe="' '       ",WPe="  ",zPe="  ' '    ",GPe=" ",VPe="    ' '   ",KPe="",JPe="",YPe="  ,   ",XPe="BCL ' DeFi'  ,",QPe="   ",ZPe=",     .",e6e="             .",t6e=" ",r6e="Purchase Node",n6e="Node Rights",i6e="Please enter inviter",s6e="Inviter invalid",o6e="Bind success",a6e="Bind failed",c6e="Approve",l6e="Total Network Nodes",u6e="Total Network NFTs",f6e="My Nodes",d6e="My NFTs",h6e="Direct Referral Nodes",p6e={_Connect_wallet:ERe,_Please_enter_a_referee:ARe,_Success:xRe,_Fail:CRe,_Invite_link:NRe,_Copy_link:SRe,_Join_record:IRe,_Join_amount:TRe,_Time:RRe,_Enter_friend_address_to_bind:PRe,_Enter_invite_address:ORe,_Bind:DRe,_Home:kRe,_Node:MRe,_FOMO_Pool:URe,_Not_yet_open:$Re,_Recharge_address:LRe,_NFT_Presale:FRe,_NFT_Staking:BRe,_NFT_Rights:jRe,_NFT_Records:HRe,_Right_1_Node_as_Shareholder:qRe,_Right_1_Desc:WRe,_Right_2_HR_Token_Airdrop:zRe,_Right_2_Desc:GRe,_Right_3_Referral_Reward:VRe,_Right_3_Desc:KRe,_No_records:JRe,_In_progress:YRe,_NFT_Quantity:XRe,_Buy_Now:QRe,_Copy_successful:ZRe,_Copy_failed:ePe,_Invite:tPe,_My_wallet_address:rPe,_BCL_Lighthouse_Protocol:nPe,_Fair_Transparent_Sustainable_DeFi_Paradigm:iPe,_Node_Subscription:sPe,_Welcome_To:oPe,_Welcome_Desc_1:aPe,_Welcome_Desc_2:cPe,_Core:lPe,_Philosophy:uPe,_Five_Core_Values:fPe,_Fairness:dPe,_Fairness_Desc:hPe,_Transparency:pPe,_Transparency_Desc:gPe,_Fair_Distribution:mPe,_Fair_Distribution_Desc:yPe,_Self_Balancing:bPe,_Self_Balancing_Desc:_Pe,_Sustainability:wPe,_Sustainability_Desc:vPe,_Decentralized:EPe,_Architecture:APe,_Sustainable_Self_Driven_Model:xPe,_Core_Architecture_Features:CPe,_No_Centralized_Server:NPe,_All_Operations_Public:SPe,_All_Data_On_Chain:IPe,_Automatic_Profit_Distribution:TPe,_Sustainable_Revenue_Cycle:RPe,_BCL_Token_Distribution:PPe,_Total_Token_Supply:OPe,_LP_Pool_Locked:DPe,_Interaction_Contract:kPe,_Airdrop_Contract:MPe,_NFT_Rewards:UPe,_Why_Choose:$Pe,_Stable_Revenue:LPe,_Stable_Revenue_Desc:FPe,_Principal_Protection:BPe,_Principal_Protection_Desc:jPe,_Ecosystem_Internal_Circulation:HPe,_Ecosystem_Internal_Circulation_Desc:qPe,_Anti_Dilution_Mechanism:WPe,_Anti_Dilution_Mechanism_Desc:zPe,_Unlimited_Development:GPe,_Unlimited_Development_Desc:VPe,_Join:KPe,_Us:JPe,_Reshaping_Industry_Trust:YPe,_BCL_Breaks_Dilemma:XPe,_Rules_Programmable:QPe,_Trust_Quantifiable:ZPe,_Join_Us_Desc:e6e,_Join_Now:t6e,_Purchase_Node:r6e,_Node_Rights:n6e,_Please_enter_inviter:i6e,_Inviter_invalid:s6e,_Bind_success:o6e,_Bind_failed:a6e,_Approve:c6e,_Total_Network_Nodes:l6e,_Total_Network_NFTs:u6e,_My_Nodes:f6e,_My_NFTs:d6e,_Direct_Referral_Nodes:h6e},g6e="",m6e="",y6e="",b6e="",_6e="",w6e="",v6e="",E6e="",A6e="",x6e="",C6e="",N6e="",S6e="",I6e="",T6e="FOMO",R6e="",P6e="",O6e="NFT",D6e="NFT",k6e="NFT",M6e="NFT",U6e="1",$6e="AI30",L6e="2HR",F6e=`15,000,000 HR
2,000 HR
0.5`,B6e="3",j6e=`100 HR
`,H6e="",q6e="",W6e="NFT",z6e="",G6e="",V6e="",K6e="",J6e="",Y6e="BCL",X6e="",Q6e="",Z6e="",e5e="Beacon Launchpad",t5e="BCL",r5e="",n5e="",i5e=" 5",s5e="",o5e="",a5e="",c5e="100",l5e="",u5e="",f5e="",d5e="",h5e="",p5e="",g5e="",m5e="",y5e=" ",b5e="",_5e=" / ",w5e=" / ",v5e=" / ",E5e=" / ",A5e=" / ",x5e="BCL",C5e="2100",N5e="LP1800",S5e="100",I5e="200",T5e="NFT",R5e="",P5e="",O5e="",D5e="",k5e="",M5e="",U5e="",$5e="",L5e="",F5e="",B5e="",j5e="",H5e="",q5e="",W5e="BCLDeFi",z5e="",G5e="",V5e="",K5e="",J5e="Purchase Node",Y5e="Node Rights",X5e="Please enter inviter",Q5e="Inviter invalid",Z5e="Bind success",eOe="Bind failed",tOe="Approve",rOe="Total Network Nodes",nOe="Total Network NFTs",iOe="My Nodes",sOe="My NFTs",oOe="Direct Referral Nodes",aOe={_Connect_wallet:g6e,_Please_enter_a_referee:m6e,_Success:y6e,_Fail:b6e,_Invite_link:_6e,_Copy_link:w6e,_Join_record:v6e,_Join_amount:E6e,_Time:A6e,_Enter_friend_address_to_bind:x6e,_Enter_invite_address:C6e,_Bind:N6e,_Home:S6e,_Node:I6e,_FOMO_Pool:T6e,_Not_yet_open:R6e,_Recharge_address:P6e,_NFT_Presale:O6e,_NFT_Staking:D6e,_NFT_Rights:k6e,_NFT_Records:M6e,_Right_1_Node_as_Shareholder:U6e,_Right_1_Desc:$6e,_Right_2_HR_Token_Airdrop:L6e,_Right_2_Desc:F6e,_Right_3_Referral_Reward:B6e,_Right_3_Desc:j6e,_No_records:H6e,_In_progress:q6e,_NFT_Quantity:W6e,_Buy_Now:z6e,_Copy_successful:G6e,_Copy_failed:V6e,_Invite:K6e,_My_wallet_address:J6e,_BCL_Lighthouse_Protocol:Y6e,_Fair_Transparent_Sustainable_DeFi_Paradigm:X6e,_Node_Subscription:Q6e,_Welcome_To:Z6e,_Welcome_Desc_1:e5e,_Welcome_Desc_2:t5e,_Core:r5e,_Philosophy:n5e,_Five_Core_Values:i5e,_Fairness:s5e,_Fairness_Desc:o5e,_Transparency:a5e,_Transparency_Desc:c5e,_Fair_Distribution:l5e,_Fair_Distribution_Desc:u5e,_Self_Balancing:f5e,_Self_Balancing_Desc:d5e,_Sustainability:h5e,_Sustainability_Desc:p5e,_Decentralized:g5e,_Architecture:m5e,_Sustainable_Self_Driven_Model:y5e,_Core_Architecture_Features:b5e,_No_Centralized_Server:_5e,_All_Operations_Public:w5e,_All_Data_On_Chain:v5e,_Automatic_Profit_Distribution:E5e,_Sustainable_Revenue_Cycle:A5e,_BCL_Token_Distribution:x5e,_Total_Token_Supply:C5e,_LP_Pool_Locked:N5e,_Interaction_Contract:S5e,_Airdrop_Contract:I5e,_NFT_Rewards:T5e,_Why_Choose:R5e,_Stable_Revenue:P5e,_Stable_Revenue_Desc:O5e,_Principal_Protection:D5e,_Principal_Protection_Desc:k5e,_Ecosystem_Internal_Circulation:M5e,_Ecosystem_Internal_Circulation_Desc:U5e,_Anti_Dilution_Mechanism:$5e,_Anti_Dilution_Mechanism_Desc:L5e,_Unlimited_Development:F5e,_Unlimited_Development_Desc:B5e,_Join:j5e,_Us:H5e,_Reshaping_Industry_Trust:q5e,_BCL_Breaks_Dilemma:W5e,_Rules_Programmable:z5e,_Trust_Quantifiable:G5e,_Join_Us_Desc:V5e,_Join_Now:K5e,_Purchase_Node:J5e,_Node_Rights:Y5e,_Please_enter_inviter:X5e,_Inviter_invalid:Q5e,_Bind_success:Z5e,_Bind_failed:eOe,_Approve:tOe,_Total_Network_Nodes:rOe,_Total_Network_NFTs:nOe,_My_Nodes:iOe,_My_NFTs:sOe,_Direct_Referral_Nodes:oOe},cOe="",lOe="",uOe="",fOe="",dOe="",hOe="",pOe="",gOe="",mOe="",yOe="",bOe="",_Oe="",wOe="",vOe="",EOe="FOMO Pool",AOe="",xOe="",COe="NFT ",NOe="NFT Staking",SOe=" NFT",IOe=" NFT",TOe=" 1: ",ROe="  30%  AI ",POe=" 2: Airdrop  HR",OOe=` Airdrop  HR  15,000,000 HR
 2,000 HR
 0.5%`,DOe=" 3: ",kOe=` 100 HR  
`,MOe="",UOe="",$Oe=" NFT",LOe="",FOe="",BOe="",jOe="",HOe="",qOe=" BCL",WOe="  ",zOe="",GOe="",VOe="Beacon Launchpad         ",KOe=" BCL   ",JOe="",YOe="",XOe=" 5 ",QOe="",ZOe=", , , , ",e8e="",t8e=" 100%, ",r8e="",n8e=": , ",i8e="",s8e=", ",o8e="",a8e=", ",c8e="",l8e="",u8e=" ",f8e="",d8e=" / ",h8e=" / ",p8e=" / ",g8e=" / ",m8e=" / ",y8e=" BCL",b8e=": 21 ",_8e="LP Pool: 18  ()",w8e=": 1  ()",v8e=" Airdrop: 2  ()",E8e=" NFT  Slippage ",A8e="",x8e="",C8e=" Market Maker  '' ",N8e="",S8e=" ''",I8e="",T8e=" '' ",R8e="",P8e=" ''  Market Makers",O8e="",D8e=" '' ",k8e="",M8e="",U8e=", ",$8e="BCL  'DeFi ' ",L8e="",F8e=", ",B8e="  ",j8e="",H8e="Purchase Node",q8e="Node Rights",W8e="Please enter inviter",z8e="Inviter invalid",G8e="Bind success",V8e="Bind failed",K8e="Approve",J8e="Total Network Nodes",Y8e="Total Network NFTs",X8e="My Nodes",Q8e="My NFTs",Z8e="Direct Referral Nodes",e4e={_Connect_wallet:cOe,_Please_enter_a_referee:lOe,_Success:uOe,_Fail:fOe,_Invite_link:dOe,_Copy_link:hOe,_Join_record:pOe,_Join_amount:gOe,_Time:mOe,_Enter_friend_address_to_bind:yOe,_Enter_invite_address:bOe,_Bind:_Oe,_Home:wOe,_Node:vOe,_FOMO_Pool:EOe,_Not_yet_open:AOe,_Recharge_address:xOe,_NFT_Presale:COe,_NFT_Staking:NOe,_NFT_Rights:SOe,_NFT_Records:IOe,_Right_1_Node_as_Shareholder:TOe,_Right_1_Desc:ROe,_Right_2_HR_Token_Airdrop:POe,_Right_2_Desc:OOe,_Right_3_Referral_Reward:DOe,_Right_3_Desc:kOe,_No_records:MOe,_In_progress:UOe,_NFT_Quantity:$Oe,_Buy_Now:LOe,_Copy_successful:FOe,_Copy_failed:BOe,_Invite:jOe,_My_wallet_address:HOe,_BCL_Lighthouse_Protocol:qOe,_Fair_Transparent_Sustainable_DeFi_Paradigm:WOe,_Node_Subscription:zOe,_Welcome_To:GOe,_Welcome_Desc_1:VOe,_Welcome_Desc_2:KOe,_Core:JOe,_Philosophy:YOe,_Five_Core_Values:XOe,_Fairness:QOe,_Fairness_Desc:ZOe,_Transparency:e8e,_Transparency_Desc:t8e,_Fair_Distribution:r8e,_Fair_Distribution_Desc:n8e,_Self_Balancing:i8e,_Self_Balancing_Desc:s8e,_Sustainability:o8e,_Sustainability_Desc:a8e,_Decentralized:c8e,_Architecture:l8e,_Sustainable_Self_Driven_Model:u8e,_Core_Architecture_Features:f8e,_No_Centralized_Server:d8e,_All_Operations_Public:h8e,_All_Data_On_Chain:p8e,_Automatic_Profit_Distribution:g8e,_Sustainable_Revenue_Cycle:m8e,_BCL_Token_Distribution:y8e,_Total_Token_Supply:b8e,_LP_Pool_Locked:_8e,_Interaction_Contract:w8e,_Airdrop_Contract:v8e,_NFT_Rewards:E8e,_Why_Choose:A8e,_Stable_Revenue:x8e,_Stable_Revenue_Desc:C8e,_Principal_Protection:N8e,_Principal_Protection_Desc:S8e,_Ecosystem_Internal_Circulation:I8e,_Ecosystem_Internal_Circulation_Desc:T8e,_Anti_Dilution_Mechanism:R8e,_Anti_Dilution_Mechanism_Desc:P8e,_Unlimited_Development:O8e,_Unlimited_Development_Desc:D8e,_Join:k8e,_Us:M8e,_Reshaping_Industry_Trust:U8e,_BCL_Breaks_Dilemma:$8e,_Rules_Programmable:L8e,_Trust_Quantifiable:F8e,_Join_Us_Desc:B8e,_Join_Now:j8e,_Purchase_Node:H8e,_Node_Rights:q8e,_Please_enter_inviter:W8e,_Inviter_invalid:z8e,_Bind_success:G8e,_Bind_failed:V8e,_Approve:K8e,_Total_Network_Nodes:J8e,_Total_Network_NFTs:Y8e,_My_Nodes:X8e,_My_NFTs:Q8e,_Direct_Referral_Nodes:Z8e},t4e="Kt ni V",r4e="Vui lng nhp ngi gii thiu",n4e="Thnh cng",i4e="Tht bi",s4e="Lin kt mi",o4e="Sao chp lin kt",a4e="H s tham gia",c4e="S tin tham gia",l4e="Thi gian",u4e="Vui lng nhp a ch bn b  lin kt",f4e="Vui lng nhp a ch mi",d4e="Lin kt",h4e="Trang ch",p4e="Nt",g4e="H FOMO",m4e="Cha m",y4e="a ch np tin",b4e="Bn trc NFT",_4e="t cc NFT",w4e="Quyn li NFT",v4e="H s NFT",E4e="Quyn li 1: Nt l C ng",A4e="Ch s hu nt c cng nhn l c ng h sinh thi, nhn 30% c tc c trng s t nn tng d on AI phi tp trung.",x4e="Quyn li 2: Airdrop Token HR",C4e=`Cc nt ton cu s nhn tng cng 15,000,000 token HR airdrop.
Mi nt nhn trung bnh 2,000 HR.
Token c pht hnh hng ngy vi t l 0.5%.`,N4e="Quyn li 3: Phn thng gii thiu",S4e=`Nhn 100 HR cho mi nt c gii thiu.
Khng gii hn v khng yu cu kha.`,I4e="Khng c h s",T4e="ang tin hnh",R4e="S lng NFT",P4e="Mua ngay",O4e="Sao chp thnh cng",D4e="Sao chp tht bi",k4e="Mi",M4e="a ch v ca ti",U4e="Giao thc Ngn hi ng BCL",$4e="M hnh mi ca Ti chnh phi tp trung Cng bng, Minh bch, Bn vng",L4e="ng k Nt",F4e="Cho mng n vi",B4e="Beacon Launchpad l mt nn tng khi chy a chui hon ton phi tp trung v t ng thc thi trn chui. Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton trong vic pht hnh d n, qun l thanh khon v phn phi u i, m bo tnh cng khai, cng bng, bo mt v tng trng bn vng.",j4e="Ti BCL, mi ngi u c th tham gia cng bng, qun tr minh bch v chia s lin tc.",H4e="Ct li",q4e="Trit l",W4e=" 5 Gi tr Ct li",z4e="Cng bng",G4e="Khng i ng d n, Khng ng dng, Khng t trc, Khng cp quyn, Khng chm dt",V4e="Minh bch",K4e="Hot ng t ch vnh vin 100% trn chui, Kim sot hon ton bng hp ng thng minh",J4e="Phn phi cng bng",Y4e="Phn phi cng bng: Li nhun n nh cho ngi dn u, Tim nng v hn cho ngi thc hin",X4e="T cn bng",Q4e="Cng c t cn bng quy m, M hnh tun hon vnh vin n nh h sinh thi",Z4e="Bn vng",eDe="t c c ch tun hon cng bng n nh  trn v Tng trng  di, Cng thnh vng",tDe="Phi tp trung",rDe="Kin trc",nDe=" M hnh T vn hnh Bn vng",iDe="Tnh nng Kin trc Ct li",sDe="Khng my ch trung tm / M hnh t vn hnh bn vng",oDe="Mi hot ng cng khai / Hp ng c bn c th truy xut vnh vin",aDe="Mi d liu trn chui / Bo mt ti sn ngi dng",cDe="Phn phi li nhun t ng / M kha t ch khng tr",lDe="Chu k doanh thu bn vng / C ch ti sn khng i tun hon ni b",uDe="Phn phi Token BCL",fDe="Tng cung Token: 21 triu",dDe="H LP: 18 triu (Kha vnh vin trong h en)",hDe="Hp ng tng tc: 1 triu (Hy b quyn)",pDe="Hp ng Airdrop: 2 triu (Hy b quyn)",gDe="Phn thng kp NFT Phn phi t ng trt gi giao dch",mDe="Ti sao chn",yDe="Doanh thu n nh",bDe="Cung cp li nhun Nh to lp th trng 'n nh', Thu ht qu ln",_De="Bo v vn gc",wDe="Chm dt vic thu hp vn gc do 'Bin ng gi tin t'",vDe="Tun hon ni b h sinh thi",EDe="Xy dng Tng trng th trng 'T vn hnh' v Tun hon ni b ti u t",ADe="C ch chng pha long",xDe="Ph v s pha long li nhun do 'Tng s lng' Nh to lp th trng",CDe="Pht trin khng gii hn",NDe="Loi b nt tht trong 'Pht trin th trng' do Gi tin t cao",SDe="Tham gia",IDe="Chng ti",TDe="Ti nh hnh nim tin ngnh, Thut ton thay th con ngi",RDe="BCL Ph v th tin thoi lng nan ca 'DeFi truyn thng', ",PDe="Quy tc c th lp trnh",ODe=", Nim tin c th nh lng.",DDe="Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton, m ra mt m hnh mi ca ti chnh trn chui.",kDe="Tham gia ngay",MDe="Purchase Node",UDe="Node Rights",$De="Please enter inviter",LDe="Inviter invalid",FDe="Bind success",BDe="Bind failed",jDe="Approve",HDe="Total Network Nodes",qDe="Total Network NFTs",WDe="My Nodes",zDe="My NFTs",GDe="Direct Referral Nodes",VDe={_Connect_wallet:t4e,_Please_enter_a_referee:r4e,_Success:n4e,_Fail:i4e,_Invite_link:s4e,_Copy_link:o4e,_Join_record:a4e,_Join_amount:c4e,_Time:l4e,_Enter_friend_address_to_bind:u4e,_Enter_invite_address:f4e,_Bind:d4e,_Home:h4e,_Node:p4e,_FOMO_Pool:g4e,_Not_yet_open:m4e,_Recharge_address:y4e,_NFT_Presale:b4e,_NFT_Staking:_4e,_NFT_Rights:w4e,_NFT_Records:v4e,_Right_1_Node_as_Shareholder:E4e,_Right_1_Desc:A4e,_Right_2_HR_Token_Airdrop:x4e,_Right_2_Desc:C4e,_Right_3_Referral_Reward:N4e,_Right_3_Desc:S4e,_No_records:I4e,_In_progress:T4e,_NFT_Quantity:R4e,_Buy_Now:P4e,_Copy_successful:O4e,_Copy_failed:D4e,_Invite:k4e,_My_wallet_address:M4e,_BCL_Lighthouse_Protocol:U4e,_Fair_Transparent_Sustainable_DeFi_Paradigm:$4e,_Node_Subscription:L4e,_Welcome_To:F4e,_Welcome_Desc_1:B4e,_Welcome_Desc_2:j4e,_Core:H4e,_Philosophy:q4e,_Five_Core_Values:W4e,_Fairness:z4e,_Fairness_Desc:G4e,_Transparency:V4e,_Transparency_Desc:K4e,_Fair_Distribution:J4e,_Fair_Distribution_Desc:Y4e,_Self_Balancing:X4e,_Self_Balancing_Desc:Q4e,_Sustainability:Z4e,_Sustainability_Desc:eDe,_Decentralized:tDe,_Architecture:rDe,_Sustainable_Self_Driven_Model:nDe,_Core_Architecture_Features:iDe,_No_Centralized_Server:sDe,_All_Operations_Public:oDe,_All_Data_On_Chain:aDe,_Automatic_Profit_Distribution:cDe,_Sustainable_Revenue_Cycle:lDe,_BCL_Token_Distribution:uDe,_Total_Token_Supply:fDe,_LP_Pool_Locked:dDe,_Interaction_Contract:hDe,_Airdrop_Contract:pDe,_NFT_Rewards:gDe,_Why_Choose:mDe,_Stable_Revenue:yDe,_Stable_Revenue_Desc:bDe,_Principal_Protection:_De,_Principal_Protection_Desc:wDe,_Ecosystem_Internal_Circulation:vDe,_Ecosystem_Internal_Circulation_Desc:EDe,_Anti_Dilution_Mechanism:ADe,_Anti_Dilution_Mechanism_Desc:xDe,_Unlimited_Development:CDe,_Unlimited_Development_Desc:NDe,_Join:SDe,_Us:IDe,_Reshaping_Industry_Trust:TDe,_BCL_Breaks_Dilemma:RDe,_Rules_Programmable:PDe,_Trust_Quantifiable:ODe,_Join_Us_Desc:DDe,_Join_Now:kDe,_Purchase_Node:MDe,_Node_Rights:UDe,_Please_enter_inviter:$De,_Inviter_invalid:LDe,_Bind_success:FDe,_Bind_failed:BDe,_Approve:jDe,_Total_Network_Nodes:HDe,_Total_Network_NFTs:qDe,_My_Nodes:WDe,_My_NFTs:zDe,_Direct_Referral_Nodes:GDe},KDe="Sambung Dompet",JDe="Sila masukkan rujukan",YDe="Berjaya",XDe="Gagal",QDe="Pautan Jemputan",ZDe="Salin Pautan",eke="Rekod Sertai",tke="Jumlah Sertai",rke="Masa",nke="Sila masukkan alamat rakan untuk mengikat",ike="Sila masukkan alamat jemputan",ske="Ikat",oke="Laman Utama",ake="Nod",cke="Kolam FOMO",lke="Belum dibuka",uke="Alamat Caj Semula",fke="Pra-jualan NFT",dke="Staking NFT",hke="Hak NFT",pke="Rekod NFT",gke="Hak 1: Nod sebagai Pemegang Saham",mke="Pemegang nod diiktiraf sebagai pemegang saham ekosistem, menerima 30% dividen wajaran daripada platform ramalan AI terdesentralisasi.",yke="Hak 2: Airdrop Token HR",bke=`Nod global akan menerima sejumlah 15,000,000 airdrop token HR.
Setiap nod menerima purata 2,000 HR.
Token dikeluarkan setiap hari pada kadar 0.5%.`,_ke="Hak 3: Ganjaran Rujukan",wke=`Terima 100 HR untuk setiap nod yang dirujuk.
Tiada had dan tiada syarat kunci.`,vke="Tiada rekod",Eke="Sedang Berjalan",Ake="Kuantiti NFT",xke="Beli Sekarang",Cke="Salinan Berjaya",Nke="Salinan Gagal",Ske="Jemput",Ike="Alamat Dompet Saya",Tke="Protokol Rumah Api BCL",Rke="Paradigma Baru Kewangan Terdesentralisasi yang Adil, Telus, dan Mampan",Pke="Langganan Nod",Oke="Selamat Datang ke",Dke="Beacon Launchpad adalah platform pelancaran pelbagai rantaian yang sepenuhnya terdesentralisasi dan dilaksanakan secara automatik di rantaian. Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh pengeluaran projek, pengurusan kecairan, dan pengagihan insentif, memastikan keterbukaan, keadilan, keselamatan, dan pertumbuhan yang mampan.",kke="Di BCL, semua orang boleh mengambil bahagian secara adil, mentadbir secara telus, dan berkongsi secara berterusan.",Mke="Teras",Uke="Falsafah",$ke=" 5 Nilai Teras",Lke="Keadilan",Fke="Tiada Pasukan Projek, Tiada APP, Tiada Tempahan, Tiada Kebenaran, Tiada Penamatan",Bke="Ketelusan",jke="Operasi Autonomi Kekal 100% Di Rantaian, Kawalan Kontrak Pintar Sepenuhnya",Hke="Pengagihan Adil",qke="Pengagihan Adil: Pulangan Stabil untuk Pemimpin, Potensi Tanpa Had untuk Pelaksana",Wke="Pengimbangan Kendiri",zke="Enjin Pengimbangan Kendiri Skala, Model Edaran Kekal Stabil Ekosistem",Gke="Kemampanan",Vke="Mencapai Mekanisme Edaran Adil Kestabilan di Atas dan Pertumbuhan di Bawah, Kemakmuran Bersama",Kke="Terdesentralisasi",Jke="Senibina",Yke=" Model Kendiri Mampan",Xke="Ciri-ciri Senibina Teras",Qke="Tiada Pelayan Berpusat / Model Kendiri Mampan",Zke="Semua Operasi Awam / Kontrak Asas Boleh Dikesan Kekal",eMe="Semua Data Di Rantaian / Keselamatan Aset Pengguna",tMe="Pengagihan Keuntungan Automatik / Kunci Buka Autonomi Sifar Kelewatan",rMe="Kitaran Hasil Mampan / Mekanisme Aset Tetap Edaran Dalaman",nMe="Pengagihan Token BCL",iMe="Jumlah Bekalan Token: 21 Juta",sMe="Kolam LP: 18 Juta (Lubang Hitam Dikunci Kekal)",oMe="Kontrak Interaksi: 1 Juta (Kebenaran Dibuang)",aMe="Kontrak Airdrop: 2 Juta (Kebenaran Dibuang)",cMe="Ganjaran Berganda NFT Pengagihan Automatik Slippage Transaksi",lMe="Kenapa Pilih",uMe="Hasil Stabil",fMe="Menyediakan Pulangan Pembuat Pasaran 'Stabil', Menarik Dana Besar",dMe="Perlindungan Prinsipal",hMe="Menamatkan Pengecutan Prinsipal Disebabkan oleh 'Turun Naik Harga Mata Wang'",pMe="Edaran Dalaman Ekosistem",gMe="Membina Pertumbuhan Pasaran 'Kendiri' dan Edaran Dalaman Pelaburan Semula",mMe="Mekanisme Anti-Pencairan",yMe="Memecahkan Pencairan Pulangan Disebabkan oleh 'Peningkatan Bilangan' Pembuat Pasaran",bMe="Pembangunan Tanpa Had",_Me="Menghapuskan Kesesakan dalam 'Pembangunan Pasaran' Disebabkan oleh Harga Mata Wang Tinggi",wMe="Sertai",vMe="Kami",EMe="Membentuk Semula Kepercayaan Industri, Algoritma Menggantikan Manusia",AMe="BCL Memecahkan Dilema 'DeFi Tradisional', Membiarkan",xMe="Peraturan Boleh Diprogramkan",CMe=", Kepercayaan Boleh Diukur.",NMe="Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh, memulakan paradigma baru kewangan di rantaian.",SMe="Sertai Sekarang",IMe="Purchase Node",TMe="Node Rights",RMe="Please enter inviter",PMe="Inviter invalid",OMe="Bind success",DMe="Bind failed",kMe="Approve",MMe="Total Network Nodes",UMe="Total Network NFTs",$Me="My Nodes",LMe="My NFTs",FMe="Direct Referral Nodes",BMe={_Connect_wallet:KDe,_Please_enter_a_referee:JDe,_Success:YDe,_Fail:XDe,_Invite_link:QDe,_Copy_link:ZDe,_Join_record:eke,_Join_amount:tke,_Time:rke,_Enter_friend_address_to_bind:nke,_Enter_invite_address:ike,_Bind:ske,_Home:oke,_Node:ake,_FOMO_Pool:cke,_Not_yet_open:lke,_Recharge_address:uke,_NFT_Presale:fke,_NFT_Staking:dke,_NFT_Rights:hke,_NFT_Records:pke,_Right_1_Node_as_Shareholder:gke,_Right_1_Desc:mke,_Right_2_HR_Token_Airdrop:yke,_Right_2_Desc:bke,_Right_3_Referral_Reward:_ke,_Right_3_Desc:wke,_No_records:vke,_In_progress:Eke,_NFT_Quantity:Ake,_Buy_Now:xke,_Copy_successful:Cke,_Copy_failed:Nke,_Invite:Ske,_My_wallet_address:Ike,_BCL_Lighthouse_Protocol:Tke,_Fair_Transparent_Sustainable_DeFi_Paradigm:Rke,_Node_Subscription:Pke,_Welcome_To:Oke,_Welcome_Desc_1:Dke,_Welcome_Desc_2:kke,_Core:Mke,_Philosophy:Uke,_Five_Core_Values:$ke,_Fairness:Lke,_Fairness_Desc:Fke,_Transparency:Bke,_Transparency_Desc:jke,_Fair_Distribution:Hke,_Fair_Distribution_Desc:qke,_Self_Balancing:Wke,_Self_Balancing_Desc:zke,_Sustainability:Gke,_Sustainability_Desc:Vke,_Decentralized:Kke,_Architecture:Jke,_Sustainable_Self_Driven_Model:Yke,_Core_Architecture_Features:Xke,_No_Centralized_Server:Qke,_All_Operations_Public:Zke,_All_Data_On_Chain:eMe,_Automatic_Profit_Distribution:tMe,_Sustainable_Revenue_Cycle:rMe,_BCL_Token_Distribution:nMe,_Total_Token_Supply:iMe,_LP_Pool_Locked:sMe,_Interaction_Contract:oMe,_Airdrop_Contract:aMe,_NFT_Rewards:cMe,_Why_Choose:lMe,_Stable_Revenue:uMe,_Stable_Revenue_Desc:fMe,_Principal_Protection:dMe,_Principal_Protection_Desc:hMe,_Ecosystem_Internal_Circulation:pMe,_Ecosystem_Internal_Circulation_Desc:gMe,_Anti_Dilution_Mechanism:mMe,_Anti_Dilution_Mechanism_Desc:yMe,_Unlimited_Development:bMe,_Unlimited_Development_Desc:_Me,_Join:wMe,_Us:vMe,_Reshaping_Industry_Trust:EMe,_BCL_Breaks_Dilemma:AMe,_Rules_Programmable:xMe,_Trust_Quantifiable:CMe,_Join_Us_Desc:NMe,_Join_Now:SMe,_Purchase_Node:IMe,_Node_Rights:TMe,_Please_enter_inviter:RMe,_Inviter_invalid:PMe,_Bind_success:OMe,_Bind_failed:DMe,_Approve:kMe,_Total_Network_Nodes:MMe,_Total_Network_NFTs:UMe,_My_Nodes:$Me,_My_NFTs:LMe,_Direct_Referral_Nodes:FMe};var u2,Vk;function jMe(){if(Vk)return u2;Vk=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),u2=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>` ${l} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return u2}var HMe=jMe();const qMe=Yi(HMe);var f2,Kk;function WMe(){if(Kk)return f2;Kk=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),f2=o(a);var c={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choose no more than ${l} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:l=>`${l*10}% off`,condition:l=>`At least ${l}`},vanCouponCell:{title:"Coupon",count:l=>`You have ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};return f2}var zMe=WMe();const GMe=Yi(zMe);var d2,Jk;function VMe(){if(Jk)return d2;Jk=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),d2=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:" ",nameEmpty:" ",addContact:"  ",telInvalid:" ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`${l}   `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:l=>`${l*10}% `,condition:l=>` ${l}`},vanCouponCell:{title:"",count:l=>`${l}   `},vanCouponList:{exchange:"",close:"",enable:" ",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:" ",addressEmpty:"   ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};return d2}var KMe=VMe();const JMe=Yi(KMe);var h2,Yk;function YMe(){if(Yk)return h2;Yk=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),h2=o(a);var c={name:"Nom",tel:"Telephone",save:"Sauvegarder",clear:"Clair",cancel:"Annuler",confirm:"Confirmer",delete:"Suprimer",loading:"Chargement...",noCoupon:"Pas de coupons",nameEmpty:"Veuillez remplir le nom",addContact:"Ajouter contact",telInvalid:"Numro de tlphone incorrect",vanCalendar:{end:"Fin",start:"Dbut",title:"Calendrier",weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choisir pas plus de ${l} jours`},vanCascader:{select:"Slectionner"},vanPagination:{prev:"Prcdent",next:"Suivant"},vanPullRefresh:{pulling:"Tirer pour actualiser ...",loosing:"Relchez pour actualiser..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Illimit",discount:l=>`${l*10}% de rduction`,condition:l=>`Au moins ${l}`},vanCouponCell:{title:"Coupon",count:l=>`Vous avez ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Fermer",enable:"Disponible",disabled:"Indisponible",placeholder:"Code coupon"},vanAddressEdit:{area:"Zone",areaEmpty:"Veuillez slectionner une zone de rception",addressEmpty:"L'adresse ne peut pas tre vide",addressDetail:"Adresse",defaultAddress:"Dfinir comme adresse par dfaut"},vanAddressList:{add:"Ajouter une nouvelle adresse"}};return h2}var XMe=YMe();const QMe=Yi(XMe);var p2,Xk;function ZMe(){if(Xk)return p2;Xk=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),p2=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>`${l}`},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${10-l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return p2}var e9e=ZMe();const t9e=Yi(e9e);function r9e(t){switch(t){case"cn":a0.use("zh-CN",qMe);break;case"en":a0.use("en-US",GMe);break;case"ko":a0.use("ko-KR",JMe);break;case"fr":a0.use("Fr-FR",QMe);break;case"ja":a0.use("Ja-JP",t9e);break}}function n9e(t){r9e(t)}const lS=bSe({legacy:!1,locale:"en",fallbackLocale:"en",globalInjection:!0,messages:{cn:{...I3e},en:{...vRe},ko:{...p6e},ja:{...aOe},th:{...e4e},vi:{...VDe},ms:{...BMe}}}),FH=t=>{console.log(lS,"i18n"),n9e(t),lS.global.locale.value=t},i9e="0x90a780054f372eEC70dEf3f1C96c1bbcd3a21336",tg="0xA5fB0976319fAdB7097C0F505fFb2b349EbAc1fa",Qk="0x3dC1f3dFef07f5C73bC1A30072eF0014c46FCb9D",Zk="0xD657DcF25d73210adcA4e4dbf4675aB8a0057809",eM="https://bsc-testnet-rpc.publicnode.com",s9e={class:"menu"},o9e={class:"menu-list"},a9e=["onClick"],c9e={class:"menu-tit"},l9e={class:"lang-list"},u9e=["onClick"],f9e={class:"lang-name"},d9e={class:"radio-circle"},h9e={key:0,class:"radio-dot"},p9e=Zr({__name:"Menu",props:{showMenu:{type:Boolean,default:!1}},emits:["closeMenu"],setup(t,{emit:e}){const r=t,n=e,i=M3(),s=_xe(),{locale:o,t:a}=fh(),c=V3(),l=()=>{n("closeMenu",!1)},u=[{title:"_Home",icon:"wap-home-o",route:"Index",isOpen:!0},{title:"_Node",icon:"cluster-o",route:"Node",isOpen:!0},{title:"_FOMO_Pool",icon:"bar-chart-o",route:"Fomo",isOpen:!1}],f=[{code:"en",label:"English"},{code:"cn",label:""},{code:"ja",label:""},{code:"ko",label:""},{code:"th",label:""},{code:"vi",label:"Ting Vit"},{code:"ms",label:"Melayu"}],d=lt(()=>o.value),h=lt(()=>s.name),m=y=>{y.isOpen?i.push({name:y.route}).catch(()=>{}):$o(a("_Not_yet_open")),n("closeMenu",!1)},g=y=>{FH(y),c.setLocal(y)};return(y,w)=>{const x=Wo,S=F3;return mr(),Gc(S,{show:r.showMenu,"onUpdate:show":w[0]||(w[0]=R=>r.showMenu=R),onClickOverlay:l,position:"right",style:{width:"70%",height:"100%"}},{default:ks(()=>[ne("div",s9e,[ne("div",o9e,[(mr(),Mi(vn,null,Eg(u,(R,D)=>ne("div",{key:D,class:kd(["menu-item",{active:h.value===R.route}]),onClick:P=>m(R)},[pe(x,{name:R.icon,size:"20",color:h.value===R.route?"#F5C518":"#999"},null,8,["name","color"]),ne("div",c9e,xe(y.$t(R.title)),1)],10,a9e)),64))]),ne("div",l9e,[(mr(),Mi(vn,null,Eg(f,R=>ne("div",{key:R.code,class:kd(["lang-item",{active:d.value===R.code}]),onClick:D=>g(R.code)},[ne("div",f9e,xe(R.label),1),ne("div",d9e,[d.value===R.code?(mr(),Mi("div",h9e)):PW("",!0)])],10,u9e)),64))])])]),_:1},8,["show"])}}}),vp=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},g9e=vp(p9e,[["__scopeId","data-v-0677946a"]]),m9e=""+new URL("intro_bind-DsbKYqaf.png",import.meta.url).href,y9e={class:"popup-box"},b9e={class:"invitations"},_9e={class:"invitations-title"},w9e={class:"input-wrapper"},v9e=Zr({__name:"IntroPopup",props:{isShow:{type:Boolean,default:!1},intro:{default:""},btnLoading:{type:Boolean,default:!1}},emits:["toReg","updateIntro","close"],setup(t,{emit:e}){const r=t,n=e,i=o=>{n("updateIntro",o)},s=()=>{n("toReg")};return(o,a)=>{const c=V2e,l=sb,u=F3;return mr(),Gc(u,{show:r.isShow,"onUpdate:show":a[1]||(a[1]=f=>r.isShow=f),style:{width:"88%",borderRadius:"16px",overflow:"visible"},"close-on-click-overlay":!1},{default:ks(()=>[ne("div",y9e,[a[2]||(a[2]=ne("div",{class:"img-box"},[ne("img",{src:m9e,alt:""})],-1)),ne("div",b9e,[ne("p",_9e,xe(o.$t("_Enter_friend_address_to_bind")),1),ne("div",w9e,[pe(c,{modelValue:r.intro,"onUpdate:modelValue":[a[0]||(a[0]=f=>r.intro=f),i],type:"textarea",center:"",clearable:"",label:"",rows:"3",autosize:"",placeholder:o.$t("_Enter_invite_address"),class:"custom-field"},null,8,["modelValue","placeholder"])])]),pe(l,{type:"primary",loading:t.btnLoading,round:"",block:"",onClick:s,class:"bind-btn"},{default:ks(()=>[Yt(xe(o.$t("_Bind")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])}}}),E9e=vp(v9e,[["__scopeId","data-v-0fa1d3c6"]]),A9e={class:"flex-middle"},x9e={key:1,class:"more-img",src:wCe,alt:""},C9e=Zr({__name:"Header",props:{title:{default:""},isShowBack:{type:Boolean,default:!0}},setup(t){const{t:e}=fh(),r=V3();console.log(r.locale,"languageStore");const n=ze(localStorage.getItem("intro")||i9e),i=ze(!1),s=ze(!1);M3();const o=ze(!1),a=()=>{o.value=!1},c=()=>{o.value=!o.value},l=vv({namespace:"eip155"}),u=()=>{const{open:y}=AI();y()},f=async()=>{const{walletProvider:y}=iw("eip155");console.log(y,"walletProvider");const x=await new Rd(y).getSigner();let R=await new Ed(Qk,Gk,x).getUserInfo(l.value.address);console.log(R,"userInfo"),i.value=!R.isExist},d=()=>{f()};l.value.address&&(console.log(l.value,"account.value"),d()),_r(()=>l.value.address,(y,w)=>{console.log(y,"newVal"),d()},{deep:!0});const h=y=>{n.value=y},m=()=>{let y=r.locale||"en";FH(y),r.$patch({locale:y})},g=async()=>{if(!n.value){$o(e("_Please_enter_inviter"));return}s.value=!0;try{const{walletProvider:y}=iw("eip155");console.log(y,"walletProvider");const w=new Rd(y),x=await w.getSigner(),S=new Ed(Qk,Gk,x);if(!(await S.getUserInfo(n.value)).isExist){$o(e("_Inviter_invalid")),s.value=!1;return}const D=await w.getGasPrice();await S.estimateGas.bindIntro(n.value),await(await S.bindIntro(n.value,{gasPrice:D.toString()})).wait(),s.value=!1,i.value=!1,$o(e("_Bind_success")),d(),window.location.reload()}catch(y){console.log(y),$o(e("_Bind_failed")),s.value=!1,i.value=!1}};return m(),(y,w)=>{const x=sb,S=Wo,R=uCe;return mr(),Mi(vn,null,[pe(R,{title:"",fixed:!0,"z-index":2005,"left-text":""},{left:ks(()=>[ne("img",{class:"logo",src:_Ce,onClick:w[0]||(w[0]=(...D)=>y.$goBack&&y.$goBack(...D)),alt:""})]),right:ks(()=>[ne("div",A9e,[Fi(l).isConnected?(mr(),Gc(x,{key:1,round:"",plain:"",type:"success",onClick:u,size:"small"},{default:ks(()=>[Yt(xe(Fi(l).address?.substring(0,4)+"..."+Fi(l).address?.substring(Fi(l).address.length-4,Fi(l).address.length)),1)]),_:1})):(mr(),Gc(x,{key:0,round:"",plain:"",type:"success",onClick:u,size:"small"},{default:ks(()=>[Yt(xe(y.$t("_Connect_wallet")),1)]),_:1}))]),ne("div",{onClick:c,class:"menu-toggle"},[o.value?(mr(),Gc(S,{key:0,name:"cross",size:"22",color:"#fff"})):(mr(),Mi("img",x9e))])]),_:1}),pe(E9e,{btnLoading:s.value,isShow:i.value,intro:n.value,onUpdateIntro:h,onToReg:g,onClose:w[1]||(w[1]=D=>i.value=!1)},null,8,["btnLoading","isShow","intro"]),pe(g9e,{showMenu:o.value,onCloseMenu:a},null,8,["showMenu"])],64)}}}),K3=vp(C9e,[["__scopeId","data-v-64f13225"]]),N9e={class:"home-page"},S9e={class:"content"},I9e={class:"text-box"},T9e={class:"main-title"},R9e={class:"sub-title"},P9e={class:"btn-group"},O9e={class:"welcome-section"},D9e={class:"welcome-title"},k9e={class:"welcome-text"},M9e={class:"core-philosophy-section"},U9e={class:"section-title"},$9e={class:"highlight"},L9e={class:"sub-text"},F9e={class:"card-list"},B9e={class:"philosophy-card"},j9e={class:"card-content"},H9e={class:"card-icon"},q9e={class:"philosophy-card"},W9e={class:"card-content"},z9e={class:"card-icon"},G9e={class:"philosophy-card"},V9e={class:"card-content"},K9e={class:"card-icon"},J9e={class:"philosophy-card"},Y9e={class:"card-content"},X9e={class:"card-icon"},Q9e={class:"philosophy-card"},Z9e={class:"card-content"},e7e={class:"card-icon"},t7e={class:"protocol-design-section"},r7e={class:"section-title"},n7e={class:"highlight"},i7e={class:"sub-text"},s7e={class:"design-cards"},o7e={class:"design-card"},a7e={class:"design-card"},c7e={class:"why-choose-section"},l7e={class:"section-title"},u7e={class:"feature-list"},f7e={class:"feature-card"},d7e={class:"feature-icon"},h7e={class:"feature-info"},p7e={class:"feature-card"},g7e={class:"feature-icon"},m7e={class:"feature-info"},y7e={class:"feature-card"},b7e={class:"feature-icon"},_7e={class:"feature-info"},w7e={class:"feature-card"},v7e={class:"feature-icon"},E7e={class:"feature-info"},A7e={class:"feature-card"},x7e={class:"feature-icon"},C7e={class:"feature-info"},N7e={class:"join-us-section"},S7e={class:"section-title"},I7e={class:"highlight"},T7e={class:"join-card"},R7e={class:"join-content"},P7e={class:"underline"},O7e={class:"join-btn-group"},D7e=Zr({__name:"index",setup(t){const e=vv({namespace:"eip155"}),r=M3(),n=()=>{const{open:s}=AI();s()},i=()=>{if(!e.value.address){n();return}r.push({name:"Node"})};return e.value.address&&console.log(e.value,"account.value"),_r(()=>e.value.address,(s,o)=>{console.log(s,"newVal")},{deep:!0}),(s,o)=>{const a=sb,c=Wo;return mr(),Mi("div",N9e,[pe(K3,{isShowBack:!1,title:s.$t("_Home")},null,8,["title"]),ne("div",S9e,[o[17]||(o[17]=ne("div",{class:"banner-box"},[ne("img",{src:mCe,alt:"banner"})],-1)),ne("div",I9e,[ne("h1",T9e,xe(s.$t("_BCL_Lighthouse_Protocol")),1),ne("p",R9e,xe(s.$t("_Fair_Transparent_Sustainable_DeFi_Paradigm")),1)]),ne("div",P9e,[pe(a,{round:"",block:"",type:"primary",class:"custom-btn",onClick:i},{default:ks(()=>[Yt(xe(s.$t("_Node_Subscription")),1)]),_:1})]),ne("div",O9e,[ne("div",D9e,[ne("h2",null,[Yt(xe(s.$t("_Welcome_To"))+" ",1),o[0]||(o[0]=ne("span",{class:"highlight"},"BCL",-1))]),o[1]||(o[1]=ne("p",{class:"subtitle"},"WELCOME TO BCL",-1))]),o[2]||(o[2]=ne("div",{class:"video"},[ne("video",{autoplay:!0,loop:!0,muted:"",src:yCe})],-1)),ne("div",k9e,[ne("p",null,xe(s.$t("_Welcome_Desc_1")),1),ne("p",null,xe(s.$t("_Welcome_Desc_2")),1)])]),ne("div",M9e,[ne("div",U9e,[ne("h2",null,[Yt(xe(s.$t("_Core"))+" ",1),ne("span",$9e,xe(s.$t("_Philosophy")),1),o[3]||(o[3]=Yt()),ne("span",L9e,xe(s.$t("_Five_Core_Values")),1)]),o[4]||(o[4]=ne("p",{class:"subtitle"},"CORE PHILOSOPHY",-1))]),ne("div",F9e,[ne("div",B9e,[ne("div",j9e,[ne("h3",null,xe(s.$t("_Fairness")),1),ne("p",null,xe(s.$t("_Fairness_Desc")),1)]),ne("div",H9e,[pe(c,{name:"balance-list-o"})])]),ne("div",q9e,[ne("div",W9e,[ne("h3",null,xe(s.$t("_Transparency")),1),ne("p",null,xe(s.$t("_Transparency_Desc")),1)]),ne("div",z9e,[pe(c,{name:"gem-o"})])]),ne("div",G9e,[ne("div",V9e,[ne("h3",null,xe(s.$t("_Fair_Distribution")),1),ne("p",null,xe(s.$t("_Fair_Distribution_Desc")),1)]),ne("div",K9e,[pe(c,{name:"friends-o"})])]),ne("div",J9e,[ne("div",Y9e,[ne("h3",null,xe(s.$t("_Self_Balancing")),1),ne("p",null,xe(s.$t("_Self_Balancing_Desc")),1)]),ne("div",X9e,[pe(c,{name:"cluster-o"})])]),ne("div",Q9e,[ne("div",Z9e,[ne("h3",null,xe(s.$t("_Sustainability")),1),ne("p",null,xe(s.$t("_Sustainability_Desc")),1)]),ne("div",e7e,[pe(c,{name:"replay"})])])])]),ne("div",t7e,[ne("div",r7e,[ne("h2",null,[Yt(xe(s.$t("_Decentralized"))+" ",1),ne("span",n7e,xe(s.$t("_Architecture")),1),o[5]||(o[5]=Yt()),ne("span",i7e,xe(s.$t("_Sustainable_Self_Driven_Model")),1)]),o[6]||(o[6]=ne("p",{class:"subtitle"},"DECENTRALIZED ARCHITECTURE",-1))]),o[7]||(o[7]=RW('<div class="design-circle" data-v-e53de746><div class="circle-content" data-v-e53de746><div class="inner-circle" data-v-e53de746></div><div class="outer-ring" data-v-e53de746></div><div class="orbit-dot dot-1" data-v-e53de746></div><div class="orbit-dot dot-2" data-v-e53de746></div><div class="orbit-dot dot-3" data-v-e53de746></div></div></div>',1)),ne("div",s7e,[ne("div",o7e,[ne("h3",null,xe(s.$t("_Core_Architecture_Features")),1),ne("ul",null,[ne("li",null,[pe(c,{name:"passed",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_No_Centralized_Server")),1)]),ne("li",null,[pe(c,{name:"passed",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_All_Operations_Public")),1)]),ne("li",null,[pe(c,{name:"passed",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_All_Data_On_Chain")),1)]),ne("li",null,[pe(c,{name:"passed",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_Automatic_Profit_Distribution")),1)]),ne("li",null,[pe(c,{name:"passed",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_Sustainable_Revenue_Cycle")),1)])])]),ne("div",a7e,[ne("h3",null,xe(s.$t("_BCL_Token_Distribution")),1),ne("ul",null,[ne("li",null,[pe(c,{name:"chart-trending-o",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_Total_Token_Supply")),1)]),ne("li",null,[pe(c,{name:"lock",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_LP_Pool_Locked")),1)]),ne("li",null,[pe(c,{name:"manager",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_Interaction_Contract")),1)]),ne("li",null,[pe(c,{name:"gift-o",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_Airdrop_Contract")),1)]),ne("li",null,[pe(c,{name:"award-o",color:"var(--dapp-primary-color)",style:{"margin-right":"5px","vertical-align":"middle"}}),Yt(xe(s.$t("_NFT_Rewards")),1)])])])])]),ne("div",c7e,[ne("div",l7e,[ne("h2",null,[Yt(xe(s.$t("_Why_Choose"))+" ",1),o[8]||(o[8]=ne("span",{class:"highlight"},"BCL",-1))]),o[9]||(o[9]=ne("p",{class:"subtitle"},"WHY CHOOSE BCL",-1))]),ne("div",u7e,[ne("div",f7e,[o[10]||(o[10]=ne("div",{class:"card-bg-number"},"01",-1)),ne("div",d7e,[pe(c,{name:"balance-o"})]),ne("div",h7e,[ne("h3",null,xe(s.$t("_Stable_Revenue")),1),ne("p",null,xe(s.$t("_Stable_Revenue_Desc")),1)])]),ne("div",p7e,[o[11]||(o[11]=ne("div",{class:"card-bg-number"},"02",-1)),ne("div",g7e,[pe(c,{name:"shield-check-o"})]),ne("div",m7e,[ne("h3",null,xe(s.$t("_Principal_Protection")),1),ne("p",null,xe(s.$t("_Principal_Protection_Desc")),1)])]),ne("div",y7e,[o[12]||(o[12]=ne("div",{class:"card-bg-number"},"03",-1)),ne("div",b7e,[pe(c,{name:"replay"})]),ne("div",_7e,[ne("h3",null,xe(s.$t("_Ecosystem_Internal_Circulation")),1),ne("p",null,xe(s.$t("_Ecosystem_Internal_Circulation_Desc")),1)])]),ne("div",w7e,[o[13]||(o[13]=ne("div",{class:"card-bg-number"},"04",-1)),ne("div",v7e,[pe(c,{name:"friends-o"})]),ne("div",E7e,[ne("h3",null,xe(s.$t("_Anti_Dilution_Mechanism")),1),ne("p",null,xe(s.$t("_Anti_Dilution_Mechanism_Desc")),1)])]),ne("div",A7e,[o[14]||(o[14]=ne("div",{class:"card-bg-number"},"05",-1)),ne("div",x7e,[pe(c,{name:"upgrade"})]),ne("div",C7e,[ne("h3",null,xe(s.$t("_Unlimited_Development")),1),ne("p",null,xe(s.$t("_Unlimited_Development_Desc")),1)])])])]),ne("div",N7e,[ne("div",S7e,[ne("h2",null,[Yt(xe(s.$t("_Join"))+" ",1),ne("span",I7e,xe(s.$t("_Us")),1)]),o[15]||(o[15]=ne("p",{class:"subtitle"},"JOIN US",-1))]),ne("div",T7e,[ne("div",R7e,[ne("h3",null,xe(s.$t("_Reshaping_Industry_Trust")),1),ne("p",null,[Yt(xe(s.$t("_BCL_Breaks_Dilemma"))+" ",1),ne("span",P7e,xe(s.$t("_Rules_Programmable")),1),Yt(xe(s.$t("_Trust_Quantifiable")),1)]),ne("p",null,xe(s.$t("_Join_Us_Desc")),1),ne("div",O7e,[pe(a,{round:"",block:"",class:"join-btn primary-btn",onClick:i},{default:ks(()=>[Yt(xe(s.$t("_Join_Now")),1)]),_:1})])]),o[16]||(o[16]=ne("div",{class:"join-image"},[ne("img",{src:bCe,alt:"Join GCE"})],-1))])])])])}}}),k7e=vp(D7e,[["__scopeId","data-v-e53de746"]]);var g_={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var M7e=g_.exports,tM;function U7e(){return tM||(tM=1,(function(t,e){(function(n,i){t.exports=i()})(M7e,function(){return(function(){var r={686:(function(s,o,a){a.d(o,{default:function(){return k}});var c=a(279),l=a.n(c),u=a(370),f=a.n(u),d=a(817),h=a.n(d);function m(A){try{return document.execCommand(A)}catch{return!1}}var g=function(L){var H=h()(L);return m("cut"),H},y=g;function w(A){var L=document.documentElement.getAttribute("dir")==="rtl",H=document.createElement("textarea");H.style.fontSize="12pt",H.style.border="0",H.style.padding="0",H.style.margin="0",H.style.position="absolute",H.style[L?"right":"left"]="-9999px";var T=window.pageYOffset||document.documentElement.scrollTop;return H.style.top="".concat(T,"px"),H.setAttribute("readonly",""),H.value=A,H}var x=function(L,H){var T=w(L);H.container.appendChild(T);var G=h()(T);return m("copy"),T.remove(),G},S=function(L){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},T="";return typeof L=="string"?T=x(L,H):L instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(L?.type)?T=x(L.value,H):(T=h()(L),m("copy")),T},R=S;function D(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(H){return typeof H}:D=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},D(A)}var P=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=L.action,T=H===void 0?"copy":H,G=L.container,B=L.target,J=L.text;if(T!=="copy"&&T!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(B!==void 0)if(B&&D(B)==="object"&&B.nodeType===1){if(T==="copy"&&B.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(T==="cut"&&(B.hasAttribute("readonly")||B.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(J)return R(J,{container:G});if(B)return T==="cut"?y(B):R(B,{container:G})},F=P;function E(A){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(H){return typeof H}:E=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},E(A)}function v(A,L){if(!(A instanceof L))throw new TypeError("Cannot call a class as a function")}function M(A,L){for(var H=0;H<L.length;H++){var T=L[H];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}function U(A,L,H){return L&&M(A.prototype,L),H&&M(A,H),A}function I(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(L&&L.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),L&&C(A,L)}function C(A,L){return C=Object.setPrototypeOf||function(T,G){return T.__proto__=G,T},C(A,L)}function p(A){var L=N();return function(){var T=O(A),G;if(L){var B=O(this).constructor;G=Reflect.construct(T,arguments,B)}else G=T.apply(this,arguments);return b(this,G)}}function b(A,L){return L&&(E(L)==="object"||typeof L=="function")?L:_(A)}function _(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function O(A){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},O(A)}function $(A,L){var H="data-clipboard-".concat(A);if(L.hasAttribute(H))return L.getAttribute(H)}var j=(function(A){I(H,A);var L=p(H);function H(T,G){var B;return v(this,H),B=L.call(this),B.resolveOptions(G),B.listenClick(T),B}return U(H,[{key:"resolveOptions",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof G.action=="function"?G.action:this.defaultAction,this.target=typeof G.target=="function"?G.target:this.defaultTarget,this.text=typeof G.text=="function"?G.text:this.defaultText,this.container=E(G.container)==="object"?G.container:document.body}},{key:"listenClick",value:function(G){var B=this;this.listener=f()(G,"click",function(J){return B.onClick(J)})}},{key:"onClick",value:function(G){var B=G.delegateTarget||G.currentTarget,J=this.action(B)||"copy",Y=F({action:J,container:this.container,target:this.target(B),text:this.text(B)});this.emit(Y?"success":"error",{action:J,text:Y,trigger:B,clearSelection:function(){B&&B.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(G){return $("action",G)}},{key:"defaultTarget",value:function(G){var B=$("target",G);if(B)return document.querySelector(B)}},{key:"defaultText",value:function(G){return $("text",G)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(G){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return R(G,B)}},{key:"cut",value:function(G){return y(G)}},{key:"isSupported",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],B=typeof G=="string"?[G]:G,J=!!document.queryCommandSupported;return B.forEach(function(Y){J=J&&!!document.queryCommandSupported(Y)}),J}}]),H})(l()),k=j}),828:(function(s){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function c(l,u){for(;l&&l.nodeType!==o;){if(typeof l.matches=="function"&&l.matches(u))return l;l=l.parentNode}}s.exports=c}),438:(function(s,o,a){var c=a(828);function l(d,h,m,g,y){var w=f.apply(this,arguments);return d.addEventListener(m,w,y),{destroy:function(){d.removeEventListener(m,w,y)}}}function u(d,h,m,g,y){return typeof d.addEventListener=="function"?l.apply(null,arguments):typeof m=="function"?l.bind(null,document).apply(null,arguments):(typeof d=="string"&&(d=document.querySelectorAll(d)),Array.prototype.map.call(d,function(w){return l(w,h,m,g,y)}))}function f(d,h,m,g){return function(y){y.delegateTarget=c(y.target,h),y.delegateTarget&&g.call(d,y)}}s.exports=u}),879:(function(s,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var c=Object.prototype.toString.call(a);return a!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var c=Object.prototype.toString.call(a);return c==="[object Function]"}}),370:(function(s,o,a){var c=a(879),l=a(438);function u(m,g,y){if(!m&&!g&&!y)throw new Error("Missing required arguments");if(!c.string(g))throw new TypeError("Second argument must be a String");if(!c.fn(y))throw new TypeError("Third argument must be a Function");if(c.node(m))return f(m,g,y);if(c.nodeList(m))return d(m,g,y);if(c.string(m))return h(m,g,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(m,g,y){return m.addEventListener(g,y),{destroy:function(){m.removeEventListener(g,y)}}}function d(m,g,y){return Array.prototype.forEach.call(m,function(w){w.addEventListener(g,y)}),{destroy:function(){Array.prototype.forEach.call(m,function(w){w.removeEventListener(g,y)})}}}function h(m,g,y){return l(document.body,m,g,y)}s.exports=u}),817:(function(s){function o(a){var c;if(a.nodeName==="SELECT")a.focus(),c=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var l=a.hasAttribute("readonly");l||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),l||a.removeAttribute("readonly"),c=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var u=window.getSelection(),f=document.createRange();f.selectNodeContents(a),u.removeAllRanges(),u.addRange(f),c=u.toString()}return c}s.exports=o}),279:(function(s){function o(){}o.prototype={on:function(a,c,l){var u=this.e||(this.e={});return(u[a]||(u[a]=[])).push({fn:c,ctx:l}),this},once:function(a,c,l){var u=this;function f(){u.off(a,f),c.apply(l,arguments)}return f._=c,this.on(a,f,l)},emit:function(a){var c=[].slice.call(arguments,1),l=((this.e||(this.e={}))[a]||[]).slice(),u=0,f=l.length;for(u;u<f;u++)l[u].fn.apply(l[u].ctx,c);return this},off:function(a,c){var l=this.e||(this.e={}),u=l[a],f=[];if(u&&c)for(var d=0,h=u.length;d<h;d++)u[d].fn!==c&&u[d].fn._!==c&&f.push(u[d]);return f.length?l[a]=f:delete l[a],this}},s.exports=o,s.exports.TinyEmitter=o})},n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return r[s](o,o.exports,i),o.exports}return(function(){i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,{a:o}),o}})(),(function(){i.d=function(s,o){for(var a in o)i.o(o,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}})(),(function(){i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)}})(),i(686)})().default})})(g_)),g_.exports}var $7e=U7e();const L7e=Yi($7e);var zh={},g2,rM;function F7e(){return rM||(rM=1,g2=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),g2}var m2={},Pu={},nM;function dh(){if(nM)return Pu;nM=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Pu.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Pu.getSymbolTotalCodewords=function(n){return e[n]},Pu.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Pu.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},Pu.isKanjiModeEnabled=function(){return typeof t<"u"},Pu.toSJIS=function(n){return t(n)},Pu}var y2={},iM;function J3(){return iM||(iM=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(y2)),y2}var b2,sM;function B7e(){if(sM)return b2;sM=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},b2=t,b2}var _2,oM;function j7e(){if(oM)return _2;oM=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},_2=t,_2}var w2={},aM;function H7e(){return aM||(aM=1,(function(t){const e=dh().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(w2)),w2}var v2={},cM;function q7e(){if(cM)return v2;cM=1;const t=dh().getSymbolSize,e=7;return v2.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},v2}var E2={},lM;function W7e(){return lM||(lM=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<s;f++){a=c=0,l=u=null;for(let d=0;d<s;d++){let h=i.get(f,d);h===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=h,a=1),h=i.get(d,f),h===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=h,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(E2)),E2}var r1={},uM;function BH(){if(uM)return r1;uM=1;const t=J3(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return r1.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},r1.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},r1}var A2={},rg={},fM;function z7e(){if(fM)return rg;fM=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),rg.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},rg.exp=function(n){return t[n]},rg.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},rg}var dM;function G7e(){return dM||(dM=1,(function(t){const e=z7e();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(A2)),A2}var x2,hM;function V7e(){if(hM)return x2;hM=1;const t=G7e();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},x2=e,x2}var C2={},N2={},S2={},pM;function jH(){return pM||(pM=1,S2.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),S2}var Nc={},gM;function HH(){if(gM)return Nc;gM=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Nc.KANJI=new RegExp(r,"g"),Nc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Nc.BYTE=new RegExp(n,"g"),Nc.NUMERIC=new RegExp(t,"g"),Nc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Nc.testKanji=function(c){return i.test(c)},Nc.testNumeric=function(c){return s.test(c)},Nc.testAlphanumeric=function(c){return o.test(c)},Nc}var mM;function hh(){return mM||(mM=1,(function(t){const e=jH(),r=HH();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(N2)),N2}var yM;function K7e(){return yM||(yM=1,(function(t){const e=dh(),r=BH(),n=J3(),i=hh(),s=jH(),o=7973,a=e.getBCHDigit(o);function c(d,h,m){for(let g=1;g<=40;g++)if(h<=t.getCapacity(g,m,d))return g}function l(d,h){return i.getCharCountIndicator(d,h)+4}function u(d,h){let m=0;return d.forEach(function(g){const y=l(g.mode,h);m+=y+g.getBitsLength()}),m}function f(d,h){for(let m=1;m<=40;m++)if(u(d,m)<=t.getCapacity(m,h,i.MIXED))return m}t.from=function(h,m){return s.isValid(h)?parseInt(h,10):m},t.getCapacity=function(h,m,g){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const y=e.getSymbolTotalCodewords(h),w=r.getTotalCodewordsCount(h,m),x=(y-w)*8;if(g===i.MIXED)return x;const S=x-l(g,h);switch(g){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},t.getBestVersionForData=function(h,m){let g;const y=n.from(m,n.M);if(Array.isArray(h)){if(h.length>1)return f(h,y);if(h.length===0)return 1;g=h[0]}else g=h;return c(g.mode,g.getLength(),y)},t.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let m=h<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return h<<12|m}})(C2)),C2}var I2={},bM;function J7e(){if(bM)return I2;bM=1;const t=dh(),e=1335,r=21522,n=t.getBCHDigit(e);return I2.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-n>=0;)c^=e<<t.getBCHDigit(c)-n;return(a<<10|c)^r},I2}var T2={},R2,_M;function Y7e(){if(_M)return R2;_M=1;const t=hh();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},R2=e,R2}var P2,wM;function X7e(){if(wM)return P2;wM=1;const t=hh(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},P2=r,P2}var O2,vM;function Q7e(){if(vM)return O2;vM=1;const t=hh();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},O2=e,O2}var D2,EM;function Z7e(){if(EM)return D2;EM=1;const t=hh(),e=dh();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},D2=r,D2}var k2={exports:{}},AM;function eUe(){return AM||(AM=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,f,d,h,m,g,y;!a.empty();){c=a.pop(),l=c.value,f=c.cost,d=r[l]||{};for(u in d)d.hasOwnProperty(u)&&(h=d[u],m=f+h,g=o[u],y=typeof o[u]>"u",(y||g>m)&&(o[u]=m,a.push(u,m),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(k2)),k2.exports}var xM;function tUe(){return xM||(xM=1,(function(t){const e=hh(),r=Y7e(),n=X7e(),i=Q7e(),s=Z7e(),o=HH(),a=dh(),c=eUe();function l(w){return unescape(encodeURIComponent(w)).length}function u(w,x,S){const R=[];let D;for(;(D=w.exec(S))!==null;)R.push({data:D[0],index:D.index,mode:x,length:D[0].length});return R}function f(w){const x=u(o.NUMERIC,e.NUMERIC,w),S=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let R,D;return a.isKanjiModeEnabled()?(R=u(o.BYTE,e.BYTE,w),D=u(o.KANJI,e.KANJI,w)):(R=u(o.BYTE_KANJI,e.BYTE,w),D=[]),x.concat(S,R,D).sort(function(F,E){return F.index-E.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function d(w,x){switch(x){case e.NUMERIC:return r.getBitsLength(w);case e.ALPHANUMERIC:return n.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function h(w){return w.reduce(function(x,S){const R=x.length-1>=0?x[x.length-1]:null;return R&&R.mode===S.mode?(x[x.length-1].data+=S.data,x):(x.push(S),x)},[])}function m(w){const x=[];for(let S=0;S<w.length;S++){const R=w[S];switch(R.mode){case e.NUMERIC:x.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:x.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:x.push([R,{data:R.data,mode:e.BYTE,length:l(R.data)}]);break;case e.BYTE:x.push([{data:R.data,mode:e.BYTE,length:l(R.data)}])}}return x}function g(w,x){const S={},R={start:{}};let D=["start"];for(let P=0;P<w.length;P++){const F=w[P],E=[];for(let v=0;v<F.length;v++){const M=F[v],U=""+P+v;E.push(U),S[U]={node:M,lastCount:0},R[U]={};for(let I=0;I<D.length;I++){const C=D[I];S[C]&&S[C].node.mode===M.mode?(R[C][U]=d(S[C].lastCount+M.length,M.mode)-d(S[C].lastCount,M.mode),S[C].lastCount+=M.length):(S[C]&&(S[C].lastCount=M.length),R[C][U]=d(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,x))}}D=E}for(let P=0;P<D.length;P++)R[D[P]].end=0;return{map:R,table:S}}function y(w,x){let S;const R=e.getBestModeForData(w);if(S=e.from(x,R),S!==e.BYTE&&S.bit<R.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(R));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new r(w);case e.ALPHANUMERIC:return new n(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(x){return x.reduce(function(S,R){return typeof R=="string"?S.push(y(R,null)):R.data&&S.push(y(R.data,R.mode)),S},[])},t.fromString=function(x,S){const R=f(x,a.isKanjiModeEnabled()),D=m(R),P=g(D,S),F=c.find_path(P.map,"start","end"),E=[];for(let v=1;v<F.length-1;v++)E.push(P.table[F[v]].node);return t.fromArray(h(E))},t.rawSplit=function(x){return t.fromArray(f(x,a.isKanjiModeEnabled()))}})(T2)),T2}var CM;function rUe(){if(CM)return m2;CM=1;const t=dh(),e=J3(),r=B7e(),n=j7e(),i=H7e(),s=q7e(),o=W7e(),a=BH(),c=V7e(),l=K7e(),u=J7e(),f=hh(),d=tUe();function h(P,F){const E=P.size,v=s.getPositions(F);for(let M=0;M<v.length;M++){const U=v[M][0],I=v[M][1];for(let C=-1;C<=7;C++)if(!(U+C<=-1||E<=U+C))for(let p=-1;p<=7;p++)I+p<=-1||E<=I+p||(C>=0&&C<=6&&(p===0||p===6)||p>=0&&p<=6&&(C===0||C===6)||C>=2&&C<=4&&p>=2&&p<=4?P.set(U+C,I+p,!0,!0):P.set(U+C,I+p,!1,!0))}}function m(P){const F=P.size;for(let E=8;E<F-8;E++){const v=E%2===0;P.set(E,6,v,!0),P.set(6,E,v,!0)}}function g(P,F){const E=i.getPositions(F);for(let v=0;v<E.length;v++){const M=E[v][0],U=E[v][1];for(let I=-2;I<=2;I++)for(let C=-2;C<=2;C++)I===-2||I===2||C===-2||C===2||I===0&&C===0?P.set(M+I,U+C,!0,!0):P.set(M+I,U+C,!1,!0)}}function y(P,F){const E=P.size,v=l.getEncodedBits(F);let M,U,I;for(let C=0;C<18;C++)M=Math.floor(C/3),U=C%3+E-8-3,I=(v>>C&1)===1,P.set(M,U,I,!0),P.set(U,M,I,!0)}function w(P,F,E){const v=P.size,M=u.getEncodedBits(F,E);let U,I;for(U=0;U<15;U++)I=(M>>U&1)===1,U<6?P.set(U,8,I,!0):U<8?P.set(U+1,8,I,!0):P.set(v-15+U,8,I,!0),U<8?P.set(8,v-U-1,I,!0):U<9?P.set(8,15-U-1+1,I,!0):P.set(8,15-U-1,I,!0);P.set(v-8,8,1,!0)}function x(P,F){const E=P.size;let v=-1,M=E-1,U=7,I=0;for(let C=E-1;C>0;C-=2)for(C===6&&C--;;){for(let p=0;p<2;p++)if(!P.isReserved(M,C-p)){let b=!1;I<F.length&&(b=(F[I]>>>U&1)===1),P.set(M,C-p,b),U--,U===-1&&(I++,U=7)}if(M+=v,M<0||E<=M){M-=v,v=-v;break}}}function S(P,F,E){const v=new r;E.forEach(function(p){v.put(p.mode.bit,4),v.put(p.getLength(),f.getCharCountIndicator(p.mode,P)),p.write(v)});const M=t.getSymbolTotalCodewords(P),U=a.getTotalCodewordsCount(P,F),I=(M-U)*8;for(v.getLengthInBits()+4<=I&&v.put(0,4);v.getLengthInBits()%8!==0;)v.putBit(0);const C=(I-v.getLengthInBits())/8;for(let p=0;p<C;p++)v.put(p%2?17:236,8);return R(v,P,F)}function R(P,F,E){const v=t.getSymbolTotalCodewords(F),M=a.getTotalCodewordsCount(F,E),U=v-M,I=a.getBlocksCount(F,E),C=v%I,p=I-C,b=Math.floor(v/I),_=Math.floor(U/I),N=_+1,O=b-_,$=new c(O);let j=0;const k=new Array(I),A=new Array(I);let L=0;const H=new Uint8Array(P.buffer);for(let Y=0;Y<I;Y++){const ee=Y<p?_:N;k[Y]=H.slice(j,j+ee),A[Y]=$.encode(k[Y]),j+=ee,L=Math.max(L,ee)}const T=new Uint8Array(v);let G=0,B,J;for(B=0;B<L;B++)for(J=0;J<I;J++)B<k[J].length&&(T[G++]=k[J][B]);for(B=0;B<O;B++)for(J=0;J<I;J++)T[G++]=A[J][B];return T}function D(P,F,E,v){let M;if(Array.isArray(P))M=d.fromArray(P);else if(typeof P=="string"){let b=F;if(!b){const _=d.rawSplit(P);b=l.getBestVersionForData(_,E)}M=d.fromString(P,b||40)}else throw new Error("Invalid data");const U=l.getBestVersionForData(M,E);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=U;else if(F<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const I=S(F,E,M),C=t.getSymbolSize(F),p=new n(C);return h(p,F),m(p),g(p,F),w(p,E,0),F>=7&&y(p,F),x(p,I),isNaN(v)&&(v=o.getBestMask(p,w.bind(null,p,E))),o.applyMask(v,p),w(p,E,v),{modules:p,version:F,errorCorrectionLevel:E,maskPattern:v,segments:M}}return m2.create=function(F,E){if(typeof F>"u"||F==="")throw new Error("No input text");let v=e.M,M,U;return typeof E<"u"&&(v=e.from(E.errorCorrectionLevel,e.M),M=l.from(E.version),U=o.from(E.maskPattern),E.toSJISFunc&&t.setToSJISFunction(E.toSJISFunc)),D(F,M,v,U)},m2}var M2={},U2={},NM;function qH(){return NM||(NM=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,f=[s.color.light,s.color.dark];for(let d=0;d<l;d++)for(let h=0;h<l;h++){let m=(d*l+h)*4,g=s.color.light;if(d>=u&&h>=u&&d<l-u&&h<l-u){const y=Math.floor((d-u)/c),w=Math.floor((h-u)/c);g=f[a[y*o+w]?1:0]}n[m++]=g.r,n[m++]=g.g,n[m++]=g.b,n[m]=g.a}}})(U2)),U2}var SM;function nUe(){return SM||(SM=1,(function(t){const e=qH();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),f=l.getContext("2d"),d=f.createImageData(u,u);return e.qrToImageData(d.data,s,c),r(f,l,u),f.putImageData(d,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(M2)),M2}var $2={},IM;function iUe(){if(IM)return $2;IM=1;const t=qH();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",c=0,l=!1,u=0;for(let f=0;f<i.length;f++){const d=Math.floor(f%s),h=Math.floor(f/s);!d&&!l&&(l=!0),i[f]?(u++,f>0&&d>0&&i[f-1]||(a+=l?r("M",d+o,.5+h+o):r("m",c,0),c=0,l=!1),d+1<s&&i[f+1]||(a+=r("h",u),u=0)):c++}return a}return $2.render=function(s,o,a){const c=t.getOptions(o),l=s.modules.size,u=s.modules.data,f=l+c.margin*2,d=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",h="<path "+e(c.color.dark,"stroke")+' d="'+n(u,l,c.margin)+'"/>',m='viewBox="0 0 '+f+" "+f+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+m+' shape-rendering="crispEdges">'+d+h+`</svg>
`;return typeof a=="function"&&a(null,y),y},$2}var TM;function sUe(){if(TM)return zh;TM=1;const t=F7e(),e=rUe(),r=nUe(),n=iUe();function i(s,o,a,c,l){const u=[].slice.call(arguments,1),f=u.length,d=typeof u[f-1]=="function";if(!d&&!t())throw new Error("Callback required as last argument");if(d){if(f<2)throw new Error("Too few arguments provided");f===2?(l=a,a=o,o=c=void 0):f===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=c=void 0):f===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(h,m){try{const g=e.create(a,c);h(s(g,o,c))}catch(g){m(g)}})}try{const h=e.create(a,c);l(null,s(h,o,c))}catch(h){l(h)}}return zh.create=e.create,zh.toCanvas=i.bind(null,r.render),zh.toDataURL=i.bind(null,r.renderToDataURL),zh.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),zh}var oUe=sUe();const aUe=Yi(oUe),cUe={class:"share-top-box"},lUe={class:"share-top"},uUe={class:"address-tit"},fUe={class:"address"},dUe={class:"qrcode-box"},hUe=["src"],pUe={class:"flex-column link-text"},gUe={class:"label"},mUe={class:"cont flex-item"},yUe={class:"share-btn"},bUe=Zr({__name:"index",setup(t){const e=vv({namespace:"eip155"}),{t:r}=fh(),n=ze(""),i=ze(""),s=()=>{n.value=`${window.location.origin}${window.location.pathname}#/?intro=${e.value.address}`,aUe.toDataURL(n.value,{margin:.5,width:163}).then(a=>{i.value=a}).catch(a=>{console.error(a)});var o=new L7e(".clip-button");o.on("success",function(a){$o(r("_Copy_successful")),a.clearSelection()}),o.on("error",function(){$o(r("_Copy_failed"))})};return e.value.address&&(console.log(e.value,"account.value"),s()),_r(()=>e.value.address,(o,a)=>{console.log(o,"newVal"),o&&s()},{deep:!0}),(o,a)=>{const c=sb;return mr(),Mi(vn,null,[pe(K3,{isShowBack:!1,title:o.$t("_Invite")},null,8,["title"]),ne("div",cUe,[ne("div",lUe,[ne("div",uUe,xe(o.$t("_My_wallet_address")),1),ne("div",fUe,xe(Fi(e).address),1),ne("div",dUe,[ne("img",{src:i.value,alt:""},null,8,hUe)]),ne("div",pUe,[ne("div",gUe,xe(o.$t("_Invite_link")),1),ne("div",mUe,xe(n.value),1)]),ne("div",yUe,[pe(c,{type:"primary",round:"",class:"clip-button","data-clipboard-text":n.value},{default:ks(()=>[Yt(xe(o.$t("_Copy_link")),1)]),_:1},8,["data-clipboard-text"])])])])],64)}}}),_Ue=vp(bUe,[["__scopeId","data-v-0b9b8591"]]),wUe=""+new URL("nft-KW-G5L0a.jpg",import.meta.url).href;var vUe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,L2=Math.ceil,So=Math.floor,Ss="[BigNumber Error] ",RM=Ss+"Number primitive has more than 15 significant digits: ",ma=1e14,at=14,F2=9007199254740991,B2=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ou=1e7,Qn=1e9;function WH(t){var e,r,n,i=x.prototype={constructor:x,toString:null,valueOf:null},s=new x(1),o=20,a=4,c=-7,l=21,u=-1e7,f=1e7,d=!1,h=1,m=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},y="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function x(E,v){var M,U,I,C,p,b,_,N,O=this;if(!(O instanceof x))return new x(E,v);if(v==null){if(E&&E._isBigNumber===!0){O.s=E.s,!E.c||E.e>f?O.c=O.e=null:E.e<u?O.c=[O.e=0]:(O.e=E.e,O.c=E.c.slice());return}if((b=typeof E=="number")&&E*0==0){if(O.s=1/E<0?(E=-E,-1):1,E===~~E){for(C=0,p=E;p>=10;p/=10,C++);C>f?O.c=O.e=null:(O.e=C,O.c=[E]);return}N=String(E)}else{if(!vUe.test(N=String(E)))return n(O,N,b);O.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}(C=N.indexOf("."))>-1&&(N=N.replace(".","")),(p=N.search(/e/i))>0?(C<0&&(C=p),C+=+N.slice(p+1),N=N.substring(0,p)):C<0&&(C=N.length)}else{if(Kr(v,2,y.length,"Base"),v==10&&w)return O=new x(E),P(O,o+O.e+1,a);if(N=String(E),b=typeof E=="number"){if(E*0!=0)return n(O,N,b,v);if(O.s=1/E<0?(N=N.slice(1),-1):1,x.DEBUG&&N.replace(/^0\.0*|\./,"").length>15)throw Error(RM+E)}else O.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(M=y.slice(0,v),C=p=0,_=N.length;p<_;p++)if(M.indexOf(U=N.charAt(p))<0){if(U=="."){if(p>C){C=_;continue}}else if(!I&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){I=!0,p=-1,C=0;continue}return n(O,String(E),b,v)}b=!1,N=r(N,v,10,O.s),(C=N.indexOf("."))>-1?N=N.replace(".",""):C=N.length}for(p=0;N.charCodeAt(p)===48;p++);for(_=N.length;N.charCodeAt(--_)===48;);if(N=N.slice(p,++_)){if(_-=p,b&&x.DEBUG&&_>15&&(E>F2||E!==So(E)))throw Error(RM+O.s*E);if((C=C-p-1)>f)O.c=O.e=null;else if(C<u)O.c=[O.e=0];else{if(O.e=C,O.c=[],p=(C+1)%at,C<0&&(p+=at),p<_){for(p&&O.c.push(+N.slice(0,p)),_-=at;p<_;)O.c.push(+N.slice(p,p+=at));p=at-(N=N.slice(p)).length}else p-=_;for(;p--;N+="0");O.c.push(+N)}}else O.c=[O.e=0]}x.clone=WH,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(E){var v,M;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(v="DECIMAL_PLACES")&&(M=E[v],Kr(M,0,Qn,v),o=M),E.hasOwnProperty(v="ROUNDING_MODE")&&(M=E[v],Kr(M,0,8,v),a=M),E.hasOwnProperty(v="EXPONENTIAL_AT")&&(M=E[v],M&&M.pop?(Kr(M[0],-Qn,0,v),Kr(M[1],0,Qn,v),c=M[0],l=M[1]):(Kr(M,-Qn,Qn,v),c=-(l=M<0?-M:M))),E.hasOwnProperty(v="RANGE"))if(M=E[v],M&&M.pop)Kr(M[0],-Qn,-1,v),Kr(M[1],1,Qn,v),u=M[0],f=M[1];else if(Kr(M,-Qn,Qn,v),M)u=-(f=M<0?-M:M);else throw Error(Ss+v+" cannot be zero: "+M);if(E.hasOwnProperty(v="CRYPTO"))if(M=E[v],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=M;else throw d=!M,Error(Ss+"crypto unavailable");else d=M;else throw Error(Ss+v+" not true or false: "+M);if(E.hasOwnProperty(v="MODULO_MODE")&&(M=E[v],Kr(M,0,9,v),h=M),E.hasOwnProperty(v="POW_PRECISION")&&(M=E[v],Kr(M,0,Qn,v),m=M),E.hasOwnProperty(v="FORMAT"))if(M=E[v],typeof M=="object")g=M;else throw Error(Ss+v+" not an object: "+M);if(E.hasOwnProperty(v="ALPHABET"))if(M=E[v],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))w=M.slice(0,10)=="0123456789",y=M;else throw Error(Ss+v+" invalid: "+M)}else throw Error(Ss+"Object expected: "+E);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:d,MODULO_MODE:h,POW_PRECISION:m,FORMAT:g,ALPHABET:y}},x.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var v,M,U=E.c,I=E.e,C=E.s;e:if({}.toString.call(U)=="[object Array]"){if((C===1||C===-1)&&I>=-Qn&&I<=Qn&&I===So(I)){if(U[0]===0){if(I===0&&U.length===1)return!0;break e}if(v=(I+1)%at,v<1&&(v+=at),String(U[0]).length==v){for(v=0;v<U.length;v++)if(M=U[v],M<0||M>=ma||M!==So(M))break e;if(M!==0)return!0}}}else if(U===null&&I===null&&(C===null||C===1||C===-1))return!0;throw Error(Ss+"Invalid BigNumber: "+E)},x.maximum=x.max=function(){return R(arguments,-1)},x.minimum=x.min=function(){return R(arguments,1)},x.random=(function(){var E=9007199254740992,v=Math.random()*E&2097151?function(){return So(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var U,I,C,p,b,_=0,N=[],O=new x(s);if(M==null?M=o:Kr(M,0,Qn),p=L2(M/at),d)if(crypto.getRandomValues){for(U=crypto.getRandomValues(new Uint32Array(p*=2));_<p;)b=U[_]*131072+(U[_+1]>>>11),b>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),U[_]=I[0],U[_+1]=I[1]):(N.push(b%1e14),_+=2);_=p/2}else if(crypto.randomBytes){for(U=crypto.randomBytes(p*=7);_<p;)b=(U[_]&31)*281474976710656+U[_+1]*1099511627776+U[_+2]*4294967296+U[_+3]*16777216+(U[_+4]<<16)+(U[_+5]<<8)+U[_+6],b>=9e15?crypto.randomBytes(7).copy(U,_):(N.push(b%1e14),_+=7);_=p/7}else throw d=!1,Error(Ss+"crypto unavailable");if(!d)for(;_<p;)b=v(),b<9e15&&(N[_++]=b%1e14);for(p=N[--_],M%=at,p&&M&&(b=B2[at-M],N[_]=So(p/b)*b);N[_]===0;N.pop(),_--);if(_<0)N=[C=0];else{for(C=-1;N[0]===0;N.splice(0,1),C-=at);for(_=1,b=N[0];b>=10;b/=10,_++);_<at&&(C-=at-_)}return O.e=C,O.c=N,O}})(),x.sum=function(){for(var E=1,v=arguments,M=new x(v[0]);E<v.length;)M=M.plus(v[E++]);return M},r=(function(){var E="0123456789";function v(M,U,I,C){for(var p,b=[0],_,N=0,O=M.length;N<O;){for(_=b.length;_--;b[_]*=U);for(b[0]+=C.indexOf(M.charAt(N++)),p=0;p<b.length;p++)b[p]>I-1&&(b[p+1]==null&&(b[p+1]=0),b[p+1]+=b[p]/I|0,b[p]%=I)}return b.reverse()}return function(M,U,I,C,p){var b,_,N,O,$,j,k,A,L=M.indexOf("."),H=o,T=a;for(L>=0&&(O=m,m=0,M=M.replace(".",""),A=new x(U),j=A.pow(M.length-L),m=O,A.c=v(Al(Co(j.c),j.e,"0"),10,I,E),A.e=A.c.length),k=v(M,U,I,p?(b=y,E):(b=E,y)),N=O=k.length;k[--O]==0;k.pop());if(!k[0])return b.charAt(0);if(L<0?--N:(j.c=k,j.e=N,j.s=C,j=e(j,A,H,T,I),k=j.c,$=j.r,N=j.e),_=N+H+1,L=k[_],O=I/2,$=$||_<0||k[_+1]!=null,$=T<4?(L!=null||$)&&(T==0||T==(j.s<0?3:2)):L>O||L==O&&(T==4||$||T==6&&k[_-1]&1||T==(j.s<0?8:7)),_<1||!k[0])M=$?Al(b.charAt(1),-H,b.charAt(0)):b.charAt(0);else{if(k.length=_,$)for(--I;++k[--_]>I;)k[_]=0,_||(++N,k=[1].concat(k));for(O=k.length;!k[--O];);for(L=0,M="";L<=O;M+=b.charAt(k[L++]));M=Al(M,N,b.charAt(0))}return M}})(),e=(function(){function E(U,I,C){var p,b,_,N,O=0,$=U.length,j=I%Ou,k=I/Ou|0;for(U=U.slice();$--;)_=U[$]%Ou,N=U[$]/Ou|0,p=k*_+N*j,b=j*_+p%Ou*Ou+O,O=(b/C|0)+(p/Ou|0)+k*N,U[$]=b%C;return O&&(U=[O].concat(U)),U}function v(U,I,C,p){var b,_;if(C!=p)_=C>p?1:-1;else for(b=_=0;b<C;b++)if(U[b]!=I[b]){_=U[b]>I[b]?1:-1;break}return _}function M(U,I,C,p){for(var b=0;C--;)U[C]-=b,b=U[C]<I[C]?1:0,U[C]=b*p+U[C]-I[C];for(;!U[0]&&U.length>1;U.splice(0,1));}return function(U,I,C,p,b){var _,N,O,$,j,k,A,L,H,T,G,B,J,Y,ee,oe,z,Q=U.s==I.s?1:-1,W=U.c,Z=I.c;if(!W||!W[0]||!Z||!Z[0])return new x(!U.s||!I.s||(W?Z&&W[0]==Z[0]:!Z)?NaN:W&&W[0]==0||!Z?Q*0:Q/0);for(L=new x(Q),H=L.c=[],N=U.e-I.e,Q=C+N+1,b||(b=ma,N=Io(U.e/at)-Io(I.e/at),Q=Q/at|0),O=0;Z[O]==(W[O]||0);O++);if(Z[O]>(W[O]||0)&&N--,Q<0)H.push(1),$=!0;else{for(Y=W.length,oe=Z.length,O=0,Q+=2,j=So(b/(Z[0]+1)),j>1&&(Z=E(Z,j,b),W=E(W,j,b),oe=Z.length,Y=W.length),J=oe,T=W.slice(0,oe),G=T.length;G<oe;T[G++]=0);z=Z.slice(),z=[0].concat(z),ee=Z[0],Z[1]>=b/2&&ee++;do{if(j=0,_=v(Z,T,oe,G),_<0){if(B=T[0],oe!=G&&(B=B*b+(T[1]||0)),j=So(B/ee),j>1)for(j>=b&&(j=b-1),k=E(Z,j,b),A=k.length,G=T.length;v(k,T,A,G)==1;)j--,M(k,oe<A?z:Z,A,b),A=k.length,_=1;else j==0&&(_=j=1),k=Z.slice(),A=k.length;if(A<G&&(k=[0].concat(k)),M(T,k,G,b),G=T.length,_==-1)for(;v(Z,T,oe,G)<1;)j++,M(T,oe<G?z:Z,G,b),G=T.length}else _===0&&(j++,T=[0]);H[O++]=j,T[0]?T[G++]=W[J]||0:(T=[W[J]],G=1)}while((J++<Y||T[0]!=null)&&Q--);$=T[0]!=null,H[0]||H.splice(0,1)}if(b==ma){for(O=1,Q=H[0];Q>=10;Q/=10,O++);P(L,C+(L.e=O+N*at-1)+1,p,$)}else L.e=N,L.r=+$;return L}})();function S(E,v,M,U){var I,C,p,b,_;if(M==null?M=a:Kr(M,0,8),!E.c)return E.toString();if(I=E.c[0],p=E.e,v==null)_=Co(E.c),_=U==1||U==2&&(p<=c||p>=l)?i1(_,p):Al(_,p,"0");else if(E=P(new x(E),v,M),C=E.e,_=Co(E.c),b=_.length,U==1||U==2&&(v<=C||C<=c)){for(;b<v;_+="0",b++);_=i1(_,C)}else if(v-=p+(U===2&&C>p),_=Al(_,C,"0"),C+1>b){if(--v>0)for(_+=".";v--;_+="0");}else if(v+=C-b,v>0)for(C+1==b&&(_+=".");v--;_+="0");return E.s<0&&I?"-"+_:_}function R(E,v){for(var M,U,I=1,C=new x(E[0]);I<E.length;I++)U=new x(E[I]),(!U.s||(M=td(C,U))===v||M===0&&C.s===v)&&(C=U);return C}function D(E,v,M){for(var U=1,I=v.length;!v[--I];v.pop());for(I=v[0];I>=10;I/=10,U++);return(M=U+M*at-1)>f?E.c=E.e=null:M<u?E.c=[E.e=0]:(E.e=M,E.c=v),E}n=(function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,M=/^\.([^.]+)$/,U=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(C,p,b,_){var N,O=b?p:p.replace(I,"");if(U.test(O))C.s=isNaN(O)?null:O<0?-1:1;else{if(!b&&(O=O.replace(E,function($,j,k){return N=(k=k.toLowerCase())=="x"?16:k=="b"?2:8,!_||_==N?j:$}),_&&(N=_,O=O.replace(v,"$1").replace(M,"0.$1")),p!=O))return new x(O,N);if(x.DEBUG)throw Error(Ss+"Not a"+(_?" base "+_:"")+" number: "+p);C.s=null}C.c=C.e=null}})();function P(E,v,M,U){var I,C,p,b,_,N,O,$=E.c,j=B2;if($){e:{for(I=1,b=$[0];b>=10;b/=10,I++);if(C=v-I,C<0)C+=at,p=v,_=$[N=0],O=So(_/j[I-p-1]%10);else if(N=L2((C+1)/at),N>=$.length)if(U){for(;$.length<=N;$.push(0));_=O=0,I=1,C%=at,p=C-at+1}else break e;else{for(_=b=$[N],I=1;b>=10;b/=10,I++);C%=at,p=C-at+I,O=p<0?0:So(_/j[I-p-1]%10)}if(U=U||v<0||$[N+1]!=null||(p<0?_:_%j[I-p-1]),U=M<4?(O||U)&&(M==0||M==(E.s<0?3:2)):O>5||O==5&&(M==4||U||M==6&&(C>0?p>0?_/j[I-p]:0:$[N-1])%10&1||M==(E.s<0?8:7)),v<1||!$[0])return $.length=0,U?(v-=E.e+1,$[0]=j[(at-v%at)%at],E.e=-v||0):$[0]=E.e=0,E;if(C==0?($.length=N,b=1,N--):($.length=N+1,b=j[at-C],$[N]=p>0?So(_/j[I-p]%j[p])*b:0),U)for(;;)if(N==0){for(C=1,p=$[0];p>=10;p/=10,C++);for(p=$[0]+=b,b=1;p>=10;p/=10,b++);C!=b&&(E.e++,$[0]==ma&&($[0]=1));break}else{if($[N]+=b,$[N]!=ma)break;$[N--]=0,b=1}for(C=$.length;$[--C]===0;$.pop());}E.e>f?E.c=E.e=null:E.e<u&&(E.c=[E.e=0])}return E}function F(E){var v,M=E.e;return M===null?E.toString():(v=Co(E.c),v=M<=c||M>=l?i1(v,M):Al(v,M,"0"),E.s<0?"-"+v:v)}return i.absoluteValue=i.abs=function(){var E=new x(this);return E.s<0&&(E.s=1),E},i.comparedTo=function(E,v){return td(this,new x(E,v))},i.decimalPlaces=i.dp=function(E,v){var M,U,I,C=this;if(E!=null)return Kr(E,0,Qn),v==null?v=a:Kr(v,0,8),P(new x(C),E+C.e+1,v);if(!(M=C.c))return null;if(U=((I=M.length-1)-Io(this.e/at))*at,I=M[I])for(;I%10==0;I/=10,U--);return U<0&&(U=0),U},i.dividedBy=i.div=function(E,v){return e(this,new x(E,v),o,a)},i.dividedToIntegerBy=i.idiv=function(E,v){return e(this,new x(E,v),0,1)},i.exponentiatedBy=i.pow=function(E,v){var M,U,I,C,p,b,_,N,O,$=this;if(E=new x(E),E.c&&!E.isInteger())throw Error(Ss+"Exponent not an integer: "+F(E));if(v!=null&&(v=new x(v)),b=E.e>14,!$.c||!$.c[0]||$.c[0]==1&&!$.e&&$.c.length==1||!E.c||!E.c[0])return O=new x(Math.pow(+F($),b?E.s*(2-n1(E)):+F(E))),v?O.mod(v):O;if(_=E.s<0,v){if(v.c?!v.c[0]:!v.s)return new x(NaN);U=!_&&$.isInteger()&&v.isInteger(),U&&($=$.mod(v))}else{if(E.e>9&&($.e>0||$.e<-1||($.e==0?$.c[0]>1||b&&$.c[1]>=24e7:$.c[0]<8e13||b&&$.c[0]<=9999975e7)))return C=$.s<0&&n1(E)?-0:0,$.e>-1&&(C=1/C),new x(_?1/C:C);m&&(C=L2(m/at+2))}for(b?(M=new x(.5),_&&(E.s=1),N=n1(E)):(I=Math.abs(+F(E)),N=I%2),O=new x(s);;){if(N){if(O=O.times($),!O.c)break;C?O.c.length>C&&(O.c.length=C):U&&(O=O.mod(v))}if(I){if(I=So(I/2),I===0)break;N=I%2}else if(E=E.times(M),P(E,E.e+1,1),E.e>14)N=n1(E);else{if(I=+F(E),I===0)break;N=I%2}$=$.times($),C?$.c&&$.c.length>C&&($.c.length=C):U&&($=$.mod(v))}return U?O:(_&&(O=s.div(O)),v?O.mod(v):C?P(O,m,a,p):O)},i.integerValue=function(E){var v=new x(this);return E==null?E=a:Kr(E,0,8),P(v,v.e+1,E)},i.isEqualTo=i.eq=function(E,v){return td(this,new x(E,v))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(E,v){return td(this,new x(E,v))>0},i.isGreaterThanOrEqualTo=i.gte=function(E,v){return(v=td(this,new x(E,v)))===1||v===0},i.isInteger=function(){return!!this.c&&Io(this.e/at)>this.c.length-2},i.isLessThan=i.lt=function(E,v){return td(this,new x(E,v))<0},i.isLessThanOrEqualTo=i.lte=function(E,v){return(v=td(this,new x(E,v)))===-1||v===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(E,v){var M,U,I,C,p=this,b=p.s;if(E=new x(E,v),v=E.s,!b||!v)return new x(NaN);if(b!=v)return E.s=-v,p.plus(E);var _=p.e/at,N=E.e/at,O=p.c,$=E.c;if(!_||!N){if(!O||!$)return O?(E.s=-v,E):new x($?p:NaN);if(!O[0]||!$[0])return $[0]?(E.s=-v,E):new x(O[0]?p:a==3?-0:0)}if(_=Io(_),N=Io(N),O=O.slice(),b=_-N){for((C=b<0)?(b=-b,I=O):(N=_,I=$),I.reverse(),v=b;v--;I.push(0));I.reverse()}else for(U=(C=(b=O.length)<(v=$.length))?b:v,b=v=0;v<U;v++)if(O[v]!=$[v]){C=O[v]<$[v];break}if(C&&(I=O,O=$,$=I,E.s=-E.s),v=(U=$.length)-(M=O.length),v>0)for(;v--;O[M++]=0);for(v=ma-1;U>b;){if(O[--U]<$[U]){for(M=U;M&&!O[--M];O[M]=v);--O[M],O[U]+=ma}O[U]-=$[U]}for(;O[0]==0;O.splice(0,1),--N);return O[0]?D(E,O,N):(E.s=a==3?-1:1,E.c=[E.e=0],E)},i.modulo=i.mod=function(E,v){var M,U,I=this;return E=new x(E,v),!I.c||!E.s||E.c&&!E.c[0]?new x(NaN):!E.c||I.c&&!I.c[0]?new x(I):(h==9?(U=E.s,E.s=1,M=e(I,E,0,3),E.s=U,M.s*=U):M=e(I,E,0,h),E=I.minus(M.times(E)),!E.c[0]&&h==1&&(E.s=I.s),E)},i.multipliedBy=i.times=function(E,v){var M,U,I,C,p,b,_,N,O,$,j,k,A,L,H,T=this,G=T.c,B=(E=new x(E,v)).c;if(!G||!B||!G[0]||!B[0])return!T.s||!E.s||G&&!G[0]&&!B||B&&!B[0]&&!G?E.c=E.e=E.s=null:(E.s*=T.s,!G||!B?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(U=Io(T.e/at)+Io(E.e/at),E.s*=T.s,_=G.length,$=B.length,_<$&&(A=G,G=B,B=A,I=_,_=$,$=I),I=_+$,A=[];I--;A.push(0));for(L=ma,H=Ou,I=$;--I>=0;){for(M=0,j=B[I]%H,k=B[I]/H|0,p=_,C=I+p;C>I;)N=G[--p]%H,O=G[p]/H|0,b=k*N+O*j,N=j*N+b%H*H+A[C]+M,M=(N/L|0)+(b/H|0)+k*O,A[C--]=N%L;A[C]=M}return M?++U:A.splice(0,1),D(E,A,U)},i.negated=function(){var E=new x(this);return E.s=-E.s||null,E},i.plus=function(E,v){var M,U=this,I=U.s;if(E=new x(E,v),v=E.s,!I||!v)return new x(NaN);if(I!=v)return E.s=-v,U.minus(E);var C=U.e/at,p=E.e/at,b=U.c,_=E.c;if(!C||!p){if(!b||!_)return new x(I/0);if(!b[0]||!_[0])return _[0]?E:new x(b[0]?U:I*0)}if(C=Io(C),p=Io(p),b=b.slice(),I=C-p){for(I>0?(p=C,M=_):(I=-I,M=b),M.reverse();I--;M.push(0));M.reverse()}for(I=b.length,v=_.length,I-v<0&&(M=_,_=b,b=M,v=I),I=0;v;)I=(b[--v]=b[v]+_[v]+I)/ma|0,b[v]=ma===b[v]?0:b[v]%ma;return I&&(b=[I].concat(b),++p),D(E,b,p)},i.precision=i.sd=function(E,v){var M,U,I,C=this;if(E!=null&&E!==!!E)return Kr(E,1,Qn),v==null?v=a:Kr(v,0,8),P(new x(C),E,v);if(!(M=C.c))return null;if(I=M.length-1,U=I*at+1,I=M[I]){for(;I%10==0;I/=10,U--);for(I=M[0];I>=10;I/=10,U++);}return E&&C.e+1>U&&(U=C.e+1),U},i.shiftedBy=function(E){return Kr(E,-F2,F2),this.times("1e"+E)},i.squareRoot=i.sqrt=function(){var E,v,M,U,I,C=this,p=C.c,b=C.s,_=C.e,N=o+4,O=new x("0.5");if(b!==1||!p||!p[0])return new x(!b||b<0&&(!p||p[0])?NaN:p?C:1/0);if(b=Math.sqrt(+F(C)),b==0||b==1/0?(v=Co(p),(v.length+_)%2==0&&(v+="0"),b=Math.sqrt(+v),_=Io((_+1)/2)-(_<0||_%2),b==1/0?v="5e"+_:(v=b.toExponential(),v=v.slice(0,v.indexOf("e")+1)+_),M=new x(v)):M=new x(b+""),M.c[0]){for(_=M.e,b=_+N,b<3&&(b=0);;)if(I=M,M=O.times(I.plus(e(C,I,N,1))),Co(I.c).slice(0,b)===(v=Co(M.c)).slice(0,b))if(M.e<_&&--b,v=v.slice(b-3,b+1),v=="9999"||!U&&v=="4999"){if(!U&&(P(I,I.e+o+2,0),I.times(I).eq(C))){M=I;break}N+=4,b+=4,U=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(P(M,M.e+o+2,1),E=!M.times(M).eq(C));break}}return P(M,M.e+o+1,a,E)},i.toExponential=function(E,v){return E!=null&&(Kr(E,0,Qn),E++),S(this,E,v,1)},i.toFixed=function(E,v){return E!=null&&(Kr(E,0,Qn),E=E+this.e+1),S(this,E,v)},i.toFormat=function(E,v,M){var U,I=this;if(M==null)E!=null&&v&&typeof v=="object"?(M=v,v=null):E&&typeof E=="object"?(M=E,E=v=null):M=g;else if(typeof M!="object")throw Error(Ss+"Argument not an object: "+M);if(U=I.toFixed(E,v),I.c){var C,p=U.split("."),b=+M.groupSize,_=+M.secondaryGroupSize,N=M.groupSeparator||"",O=p[0],$=p[1],j=I.s<0,k=j?O.slice(1):O,A=k.length;if(_&&(C=b,b=_,_=C,A-=C),b>0&&A>0){for(C=A%b||b,O=k.substr(0,C);C<A;C+=b)O+=N+k.substr(C,b);_>0&&(O+=N+k.slice(C)),j&&(O="-"+O)}U=$?O+(M.decimalSeparator||"")+((_=+M.fractionGroupSize)?$.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):$):O}return(M.prefix||"")+U+(M.suffix||"")},i.toFraction=function(E){var v,M,U,I,C,p,b,_,N,O,$,j,k=this,A=k.c;if(E!=null&&(b=new x(E),!b.isInteger()&&(b.c||b.s!==1)||b.lt(s)))throw Error(Ss+"Argument "+(b.isInteger()?"out of range: ":"not an integer: ")+F(b));if(!A)return new x(k);for(v=new x(s),N=M=new x(s),U=_=new x(s),j=Co(A),C=v.e=j.length-k.e-1,v.c[0]=B2[(p=C%at)<0?at+p:p],E=!E||b.comparedTo(v)>0?C>0?v:N:b,p=f,f=1/0,b=new x(j),_.c[0]=0;O=e(b,v,0,1),I=M.plus(O.times(U)),I.comparedTo(E)!=1;)M=U,U=I,N=_.plus(O.times(I=N)),_=I,v=b.minus(O.times(I=v)),b=I;return I=e(E.minus(M),U,0,1),_=_.plus(I.times(N)),M=M.plus(I.times(U)),_.s=N.s=k.s,C=C*2,$=e(N,U,C,a).minus(k).abs().comparedTo(e(_,M,C,a).minus(k).abs())<1?[N,U]:[_,M],f=p,$},i.toNumber=function(){return+F(this)},i.toPrecision=function(E,v){return E!=null&&Kr(E,1,Qn),S(this,E,v,2)},i.toString=function(E){var v,M=this,U=M.s,I=M.e;return I===null?U?(v="Infinity",U<0&&(v="-"+v)):v="NaN":(E==null?v=I<=c||I>=l?i1(Co(M.c),I):Al(Co(M.c),I,"0"):E===10&&w?(M=P(new x(M),o+I+1,a),v=Al(Co(M.c),M.e,"0")):(Kr(E,2,y.length,"Base"),v=r(Al(Co(M.c),I,"0"),10,E,U,!0)),U<0&&M.c[0]&&(v="-"+v)),v},i.valueOf=i.toJSON=function(){return F(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&x.set(t),x}function Io(t){var e=t|0;return t>0||t===e?e:e-1}function Co(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=at-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function td(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,l=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function Kr(t,e,r,n){if(t<e||t>r||t!==So(t))throw Error(Ss+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function n1(t){var e=t.c.length-1;return Io(t.e/at)==e&&t.c[e]%2!=0}function i1(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Al(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var PM=WH();const OM=[{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"usdtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"num",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"IdodLog",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"NftLog",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"USDT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"ido",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"introBindAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"needUsdtAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nodeAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_introBindAddress",type:"address"}],name:"setIntroBindAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_needUsdtAmount",type:"uint256"}],name:"setNeedUsdtAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_nodeAddress",type:"address"}],name:"setNodeAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_receiveAddress",type:"address"}],name:"setReceiveAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_USDT",type:"address"}],name:"setUSDT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"total",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalNode",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"firstTime",type:"uint256"},{internalType:"uint256",name:"nodeNum",type:"uint256"},{internalType:"uint256",name:"nftNum",type:"uint256"},{internalType:"uint256",name:"childNodeNum",type:"uint256"}],stateMutability:"view",type:"function"}],DM=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],EUe={class:"node-page"},AUe={class:"scroll-content"},xUe={class:"top-tabs"},CUe=["onClick"],NUe={class:"main-card"},SUe={class:"card-info"},IUe={class:"status-row"},TUe={class:"status-badge"},RUe={class:"stats-grid"},PUe={class:"stat-item"},OUe={class:"stat-value"},DUe={class:"stat-label"},kUe={class:"stat-item"},MUe={class:"stat-value"},UUe={class:"stat-label"},$Ue={class:"stat-item"},LUe={class:"stat-value"},FUe={class:"stat-label"},BUe={class:"stat-item"},jUe={class:"stat-value"},HUe={class:"stat-label"},qUe={class:"stat-item"},WUe={class:"stat-value"},zUe={class:"stat-label"},GUe={class:"content-tabs"},VUe=["onClick"],KUe={key:0,class:"rights-list"},JUe={class:"right-title"},YUe={class:"right-desc"},XUe={key:1,class:"rights-list"},QUe={class:"empty-text"},ZUe=Zr({__name:"index",setup(t){const{t:e}=fh();V3();const r=vv({namespace:"eip155"}),n=ze(!1),i=ze("0.0000"),s=ze("0.0000"),o=ze(!1),a=ze(0),c=ze(0),l=ze(0),u=ze(0),f=ze(0),d=ze(0),h=ze(0),m=ze(0),g=()=>{const{open:E}=AI();E()},y=lt(()=>[e("_Purchase_Node")]),w=lt(()=>[e("_Node_Rights")]),x=lt(()=>[{title:e("_Right_1_Node_as_Shareholder"),desc:e("_Right_1_Desc")},{title:e("_Right_2_HR_Token_Airdrop"),desc:e("_Right_2_Desc")},{title:e("_Right_3_Referral_Reward"),desc:e("_Right_3_Desc")}]),S=async()=>{const E=new yw(eM),v=new Ed(Zk,DM,E);let M=await v.decimals(),U=await v.allowance(r.value.address||"",tg),I=await v.balanceOf(r.value.address||"");i.value=new PM(I.toString()).dividedBy(10**M).toFixed(0),s.value=new PM(U.toString()).dividedBy(10**M).toFixed(0)},R=async()=>{const E=new yw(eM),v=new Ed(tg,OM,E);let M=await v.users(r.value.address||"");console.log(M,"idoInfo---");let U=await v.totalNode(),I=await v.total();f.value=I.toString(),d.value=U.toString(),u.value=M.childNodeNum.toString(),c.value=M.nodeNum.toString(),l.value=M.nftNum.toString()},D=async()=>{o.value=!0;try{const{walletProvider:E}=iw("eip155"),v=new Rd(E),M=await v.getGasPrice(),U=await v.getSigner(),I=new Ed(Zk,DM,U),C=await I.estimateGas.approve(tg,lw);await(await I.approve(tg,lw,{gasPrice:M.toString()})).wait(),o.value=!1,S()}catch{o.value=!1}},P=async()=>{if(!a.value||Number(a.value)<=0){$o(e(""));return}if(Number(a.value)+Number(c.value)>5){$o(e("5"));return}if(Number(a.value)*200>Number(i.value)){$o(e("USDT"));return}try{n.value=!0;const{walletProvider:E}=iw("eip155"),v=new Rd(E),M=await v.getGasPrice(),U=await v.getSigner(),I=new Ed(tg,OM,U);await I.estimateGas.ido(a.value),await(await I.ido(a.value,{gasPrice:M.toString()})).wait(),n.value=!1,$o(e("_Success")),F()}catch(E){$o(e("_Fail")),n.value=!1,console.log(E)}},F=()=>{S(),R()};return r.value.address&&(console.log(r.value,"account.value"),F()),_r(()=>r.value.address,(E,v)=>{console.log(E,"newVal"),E&&F()},{deep:!0}),(E,v)=>{const M=gCe,U=sb;return mr(),Mi("div",EUe,[pe(K3,{isShowBack:!1,title:E.$t("_Home")},null,8,["title"]),ne("div",AUe,[ne("div",xUe,[(mr(!0),Mi(vn,null,Eg(y.value,(I,C)=>(mr(),Mi("div",{key:C,class:kd(["top-tab-item",{active:h.value===C}]),onClick:p=>h.value=C},xe(I),11,CUe))),128))]),ne("div",NUe,[v[2]||(v[2]=ne("div",{class:"card-image-container"},[ne("img",{src:wUe,class:"nft-image",alt:"NFT"})],-1)),ne("div",SUe,[v[1]||(v[1]=ne("h2",{class:"nft-title"},"Tower Node",-1)),ne("div",IUe,[ne("span",TUe,"| "+xe(E.$t("_In_progress")),1)]),pe(M,{style:{"margin-bottom":"20px"},modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=I=>a.value=I),"input-width":"200px","button-size":"40px",min:0,max:Number(5-c.value)},null,8,["modelValue","max"]),Fi(r).isConnected?Number(s.value)<=0?(mr(),Gc(U,{key:1,type:"primary",round:"",onClick:D,disabled:o.value,loading:o.value,block:""},{default:ks(()=>[Yt(xe(E.$t("_Approve"))+" USDT",1)]),_:1},8,["disabled","loading"])):(mr(),Gc(U,{key:2,type:"primary",loading:n.value,onClick:P,disabled:n.value,round:"",block:""},{default:ks(()=>[Yt("$"+xe(a.value*200)+" "+xe(E.$t("_Buy_Now")),1)]),_:1},8,["loading","disabled"])):(mr(),Gc(U,{key:0,type:"primary",onClick:g,round:"",block:""},{default:ks(()=>[Yt(xe(E.$t("_Connect_wallet")),1)]),_:1}))])]),ne("div",RUe,[ne("div",PUe,[ne("div",OUe,xe(d.value),1),ne("div",DUe,xe(E.$t("_Total_Network_Nodes")),1)]),ne("div",kUe,[ne("div",MUe,xe(f.value),1),ne("div",UUe,xe(E.$t("_Total_Network_NFTs")),1)]),ne("div",$Ue,[ne("div",LUe,xe(c.value),1),ne("div",FUe,xe(E.$t("_My_Nodes")),1)]),ne("div",BUe,[ne("div",jUe,xe(l.value),1),ne("div",HUe,xe(E.$t("_My_NFTs")),1)]),ne("div",qUe,[ne("div",WUe,xe(u.value),1),ne("div",zUe,xe(E.$t("_Direct_Referral_Nodes")),1)])]),ne("div",GUe,[(mr(!0),Mi(vn,null,Eg(w.value,(I,C)=>(mr(),Mi("div",{key:C,class:kd(["content-tab-item",{active:m.value===C}]),onClick:p=>m.value=C},xe(I),11,VUe))),128))]),m.value===0?(mr(),Mi("div",KUe,[(mr(!0),Mi(vn,null,Eg(x.value,(I,C)=>(mr(),Mi("div",{class:"right-item",key:C},[ne("div",JUe,xe(I.title),1),ne("div",YUe,xe(I.desc),1)]))),128))])):(mr(),Mi("div",XUe,[ne("div",QUe,xe(E.$t("_No_records")),1)]))])])}}}),e$e=vp(ZUe,[["__scopeId","data-v-0f2f4c18"]]),t$e=[{path:"/",name:"Index",component:k7e},{path:"/node",name:"Node",component:e$e},{path:"/share",name:"Share",component:_Ue}],uS=yxe({history:GAe(),routes:t$e});function r$e(t){return typeof t=="object"&&t!==null}function kM(t,e){return t=r$e(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function n$e(t,e){return e.reduce((r,n)=>r?.[n],t)}function i$e(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function s$e(t,e){return e.reduce((r,n)=>{const i=n.split(".");return i$e(r,i,n$e(t,i))},{})}function o$e(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:l=null,debug:u=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof c=="string"?c:c(e.$id)),paths:l,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function MM(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e?.getItem(n);s&&t.$patch(r?.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function UM(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?s$e(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function a$e(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>kM(a,t)):[kM(n,t)]).map(o$e(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{UM(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&l?.(e),MM(i,c),a&&u?.(e)})},o.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c?.(e),MM(i,a),l?.(e),i.$subscribe((u,f)=>{UM(f,a)},{detached:!0})})}}var c$e=a$e();const zH=TSe();zH.use(c$e);var l$e=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,u$e=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,f$e=/[^-+\dA-Z]/g;function d$e(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String($M[e]||e||$M.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},l=function(){return t[s()+"FullYear"]()},u=function(){return t[s()+"Hours"]()},f=function(){return t[s()+"Minutes"]()},d=function(){return t[s()+"Seconds"]()},h=function(){return t[s()+"Milliseconds"]()},m=function(){return r?0:t.getTimezoneOffset()},g=function(){return h$e(t)},y=function(){return p$e(t)},w={d:function(){return o()},dd:function(){return zs(o())},ddd:function(){return Cs.dayNames[a()]},DDD:function(){return LM({y:l(),m:c(),d:o(),_:s(),dayName:Cs.dayNames[a()],short:!0})},dddd:function(){return Cs.dayNames[a()+7]},DDDD:function(){return LM({y:l(),m:c(),d:o(),_:s(),dayName:Cs.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return zs(c()+1)},mmm:function(){return Cs.monthNames[c()]},mmmm:function(){return Cs.monthNames[c()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return zs(l(),4)},h:function(){return u()%12||12},hh:function(){return zs(u()%12||12)},H:function(){return u()},HH:function(){return zs(u())},M:function(){return f()},MM:function(){return zs(f())},s:function(){return d()},ss:function(){return zs(d())},l:function(){return zs(h(),3)},L:function(){return zs(Math.floor(h()/10))},t:function(){return u()<12?Cs.timeNames[0]:Cs.timeNames[1]},tt:function(){return u()<12?Cs.timeNames[2]:Cs.timeNames[3]},T:function(){return u()<12?Cs.timeNames[4]:Cs.timeNames[5]},TT:function(){return u()<12?Cs.timeNames[6]:Cs.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":g$e(t)},o:function(){return(m()>0?"-":"+")+zs(Math.floor(Math.abs(m())/60)*100+Math.abs(m())%60,4)},p:function(){return(m()>0?"-":"+")+zs(Math.floor(Math.abs(m())/60),2)+":"+zs(Math.floor(Math.abs(m())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return g()},WW:function(){return zs(g())},N:function(){return y()}};return e.replace(l$e,function(x){return x in w?w[x]():x.slice(1,x.length-1)})}var $M={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Cs={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},zs=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},LM=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,l=new Date,u=new Date;u.setDate(u[s+"Date"]()-1);var f=new Date;f.setDate(f[s+"Date"]()+1);var d=function(){return l[s+"Date"]()},h=function(){return l[s+"Month"]()},m=function(){return l[s+"FullYear"]()},g=function(){return u[s+"Date"]()},y=function(){return u[s+"Month"]()},w=function(){return u[s+"FullYear"]()},x=function(){return f[s+"Date"]()},S=function(){return f[s+"Month"]()},R=function(){return f[s+"FullYear"]()};return m()===r&&h()===n&&d()===i?c?"Tdy":"Today":w()===r&&y()===n&&g()===i?c?"Ysd":"Yesterday":R()===r&&S()===n&&x()===i?c?"Tmw":"Tomorrow":o},h$e=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},p$e=function(e){var r=e.getDay();return r===0&&(r=7),r},g$e=function(e){return(String(e).match(u$e)||[""]).pop().replace(f$e,"").replace(/GMT\+0000/g,"UTC")};let m$e=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},s1=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if(s1.includes("?")){let t=s1.slice(s1.indexOf("?")+1,s1.length),e=m$e(t);e.intro&&localStorage.setItem("intro",e.intro)}const Y3=t7(pAe);Y3.config.globalProperties.$goBack=()=>{history.length>0?uS.go(-1):uS.push({name:"Welcome"})};Y3.config.globalProperties.$dateformat=d$e;Y3.use(uS).use(lS).use(zH).mount("#app");export{Ot as $,Le as A,Ye as B,ke as C,UG as D,ti as E,b7 as F,zG as G,WG as H,A$e as I,Jhe as J,c7 as K,we as L,St as M,$z as N,ge as O,is as P,to as Q,Xe as R,Bc as S,Ts as T,We as U,Ve as V,Jn as W,v$e as X,T_ as Y,N$e as Z,C$e as _,Ut as a,Khe as a0,Di as a1,ELe as a2,mt as a3,jz as a4,lm as a5,Ig as a6,sC as a7,Ga as a8,Rt as a9,x$e as aA,_1 as aB,I_ as aC,Vn as aD,tN as aE,Kh as aF,EV as aG,en as aH,IV as aI,n7 as aJ,sg as aK,eo as aa,Ge as ab,xLe as ac,Yi as ad,u1 as ae,_L as af,rN as ag,ei as ah,W0 as ai,gc as aj,HT as ak,wG as al,SG as am,g7 as an,kS as ao,tV as ap,qT as aq,rV as ar,y$e as as,vG as at,NG as au,AG as av,y7 as aw,m7 as ax,Cd as ay,eUe as az,X as b,ALe as c,Pt as d,NLe as e,wi as f,u7 as g,Vu as h,v1 as i,Te as j,le as k,Bs as l,mG as m,gi as n,LS as o,vr as p,Ne as q,CLe as r,Ji as s,E$e as t,zT as u,C0e as v,oo as w,vLe as x,_7 as y,U0 as z};
